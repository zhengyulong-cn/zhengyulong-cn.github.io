"use strict";(self.webpackChunkprivate_long_blog=self.webpackChunkprivate_long_blog||[]).push([[9825],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>d});var l=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,l,a=function(e,n){if(null==e)return{};var t,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=l.createContext({}),o=function(e){var n=l.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=o(e.components);return l.createElement(s.Provider,{value:n},e.children)},c="mdxType",k={inlineCode:"code",wrapper:function(e){var n=e.children;return l.createElement(l.Fragment,{},n)}},m=l.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),c=o(t),m=a,d=c["".concat(s,".").concat(m)]||c[m]||k[m]||r;return t?l.createElement(d,i(i({ref:n},u),{},{components:t})):l.createElement(d,i({ref:n},u))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,i=new Array(r);i[0]=m;var p={};for(var s in n)hasOwnProperty.call(n,s)&&(p[s]=n[s]);p.originalType=e,p[c]="string"==typeof e?e:a,i[1]=p;for(var o=2;o<r;o++)i[o]=t[o];return l.createElement.apply(null,i)}return l.createElement.apply(null,t)}m.displayName="MDXCreateElement"},7003:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>k,frontMatter:()=>r,metadata:()=>p,toc:()=>o});var l=t(7462),a=(t(7294),t(3905));const r={},i="Webpack5\u73af\u5883\u914d\u7f6e\u7bc7",p={unversionedId:"programing-skills/Webpack5\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Webpack5\u73af\u5883\u914d\u7f6e\u7bc7/index",id:"programing-skills/Webpack5\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Webpack5\u73af\u5883\u914d\u7f6e\u7bc7/index",title:"Webpack5\u73af\u5883\u914d\u7f6e\u7bc7",description:"Webpack\u914d\u7f6e\u7efc\u8ff0",source:"@site/docs/programing-skills/Webpack5\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Webpack5\u73af\u5883\u914d\u7f6e\u7bc7/index.md",sourceDirName:"programing-skills/Webpack5\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Webpack5\u73af\u5883\u914d\u7f6e\u7bc7",slug:"/programing-skills/Webpack5\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Webpack5\u73af\u5883\u914d\u7f6e\u7bc7/",permalink:"/docs/programing-skills/Webpack5\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Webpack5\u73af\u5883\u914d\u7f6e\u7bc7/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"programing-skills",previous:{title:"Webpack5\u57fa\u7840\u4f7f\u7528\u7bc7",permalink:"/docs/programing-skills/Webpack5\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Webpack5\u57fa\u7840\u4f7f\u7528\u7bc7/"},next:{title:"Linux\u5165\u95e8\u2014\u2014\u4ecb\u7ecd\u4e0e\u57fa\u7840\u547d\u4ee4",permalink:"/docs/programing-skills/Linux\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Linux\u5165\u95e8\u2014\u2014\u4ecb\u7ecd\u4e0e\u57fa\u7840\u547d\u4ee4"}},s={},o=[{value:"Webpack\u914d\u7f6e\u7efc\u8ff0",id:"webpack\u914d\u7f6e\u7efc\u8ff0",level:2},{value:"\u4f7f\u7528Babel",id:"\u4f7f\u7528babel",level:2},{value:"\u4f7f\u7528TypeScript",id:"\u4f7f\u7528typescript",level:2},{value:"ts-loader",id:"ts-loader",level:3},{value:"@babel/preset-typescript",id:"babelpreset-typescript",level:3},{value:"\u4f7f\u7528ESlint",id:"\u4f7f\u7528eslint",level:2},{value:"\u5904\u7406CSS",id:"\u5904\u7406css",level:2},{value:"\u4f7f\u7528\u9884\u5904\u7406\u5668",id:"\u4f7f\u7528\u9884\u5904\u7406\u5668",level:2},{value:"\u4f7f\u7528PostCSS",id:"\u4f7f\u7528postcss",level:2},{value:"Webpack\u642d\u5efaVue\u5168\u6808\u5f00\u53d1\u73af\u5883",id:"webpack\u642d\u5efavue\u5168\u6808\u5f00\u53d1\u73af\u5883",level:2},{value:"Webpack\u642d\u5efaReact\u5168\u6808\u5f00\u53d1\u73af\u5883",id:"webpack\u642d\u5efareact\u5168\u6808\u5f00\u53d1\u73af\u5883",level:2},{value:"Webpack\u642d\u5efaNPM Library",id:"webpack\u642d\u5efanpm-library",level:2},{value:"Webpack\u642d\u5efa\u5fae\u524d\u7aef\u5e94\u7528",id:"webpack\u642d\u5efa\u5fae\u524d\u7aef\u5e94\u7528",level:2},{value:"Webpack\u642d\u5efaPWA\u3001Electron\u5e94\u7528",id:"webpack\u642d\u5efapwaelectron\u5e94\u7528",level:2},{value:"Webpack\u52a0\u8f7d\u56fe\u50cf",id:"webpack\u52a0\u8f7d\u56fe\u50cf",level:2}],u={toc:o},c="wrapper";function k(e){let{components:n,...r}=e;return(0,a.kt)(c,(0,l.Z)({},u,r,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"webpack5\u73af\u5883\u914d\u7f6e\u7bc7"},"Webpack5\u73af\u5883\u914d\u7f6e\u7bc7"),(0,a.kt)("h2",{id:"webpack\u914d\u7f6e\u7efc\u8ff0"},"Webpack\u914d\u7f6e\u7efc\u8ff0"),(0,a.kt)("p",null,"Webpack\u6253\u5305\u6d41\u7a0b\u53ef\u7b80\u5316\u4e3a\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8f93\u5165\uff1a\u4ece\u6587\u4ef6\u7cfb\u7edf\u8bfb\u53d6\u4ee3\u7801\u6587\u4ef6\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u6a21\u5757\u9012\u5f52\u5904\u7406\uff1a\u8c03\u7528Loader\u8f6c\u4e49Module\u5185\u5bb9\uff0c\u5c06\u7ed3\u679c\u8f6c\u6362\u4e3aAST\uff0c\u4ece\u4e2d\u5206\u6790\u51fa\u6a21\u5757\u4f9d\u8d56\u5173\u7cfb\uff0c\u8fdb\u4e00\u6b65\u8c03\u7528\u6a21\u5757\u5904\u7406\u6d41\u7a0b\uff0c\u76f4\u5230\u6240\u6709\u4f9d\u8d56\u6587\u4ef6\u90fd\u5904\u7406\u5b8c\u6bd5\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u540e\u5904\u7406\uff1a\u6240\u6709\u6a21\u5757\u9012\u5f52\u5904\u7406\u5b8c\u6bd5\u540e\u5f00\u59cb\u6267\u884c\u540e\u5904\u7406\uff0c\u5305\u62ec\u6a21\u5757\u5408\u5e76\u3001\u6ce8\u5165\u8fd0\u884c\u65f6\u3001\u4ea7\u7269\u4f18\u5316\u7b49\uff0c\u6700\u7ec8\u8f93\u51faChunk\u96c6\u5408\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u8f93\u51fa\uff1a\u5c06Chunk\u5199\u51fa\u5230\u5916\u90e8\u6587\u4ef6\u7cfb\u7edf\u3002")),(0,a.kt)("p",null,"\u4ece\u6d41\u7a0b\u89d2\u5ea6\uff0cWebpack\u914d\u7f6e\u9879\u5927\u4f53\u5206\u4e3a\u4e24\u7c7b\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u6d41\u7a0b\u7c7b\uff1a\u4f5c\u7528\u4e8e\u6253\u5305\u6d41\u7a0b\u67d0\u4e2a\u6216\u82e5\u5e72\u4e2a\u73af\u8282\uff0c\u76f4\u63a5\u5f71\u54cd\u7f16\u8bd1\u6253\u5305\u6548\u679c\u7684\u914d\u7f6e\u9879\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u5de5\u5177\u7c7b\uff1a\u6253\u5305\u4e3b\u6d41\u7a0b\u4e4b\u5916\uff0c\u63d0\u4f9b\u66f4\u591a\u5de5\u7a0b\u5316\u5de5\u5177\u7684\u914d\u7f6e\u9879\u3002")),(0,a.kt)("p",null,"\u6d41\u7a0b\u7c7b\u914d\u7f6e\u9879\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8f93\u5165\u8f93\u51fa",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"entry\uff1a\u5165\u53e3"),(0,a.kt)("li",{parentName:"ul"},"context\uff1a\u6267\u884c\u4e0a\u4e0b\u6587\u8def\u5f84"),(0,a.kt)("li",{parentName:"ul"},"output\uff1a\u8f93\u51fa\u8def\u5f84\u3001\u540d\u79f0\u7b49"))),(0,a.kt)("li",{parentName:"ul"},"\u6a21\u5757\u5904\u7406",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"resolve\uff1a\u6a21\u5757\u8def\u5f84\u89e3\u6790\u89c4\u5219"),(0,a.kt)("li",{parentName:"ul"},"module\uff1a\u6a21\u5757\u52a0\u8f7d\u89c4\u5219"),(0,a.kt)("li",{parentName:"ul"},"externals\uff1a\u58f0\u660e\u5916\u90e8\u8d44\u6e90\uff0cWebpack \u4f1a\u76f4\u63a5\u5ffd\u7565\u8fd9\u90e8\u5206\u8d44\u6e90\uff0c\u8df3\u8fc7\u8fd9\u4e9b\u8d44\u6e90\u7684\u89e3\u6790\u3001\u6253\u5305\u64cd\u4f5c"))),(0,a.kt)("li",{parentName:"ul"},"\u540e\u5904\u7406",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"optimization\uff1a\u4ea7\u7269\u5305\u4f53\u79ef\u76f8\u5173\u4f18\u5316"),(0,a.kt)("li",{parentName:"ul"},"target\uff1a\u914d\u7f6e\u7f16\u8bd1\u4ea7\u7269\u7684\u76ee\u6807\u8fd0\u884c\u73af\u5883"),(0,a.kt)("li",{parentName:"ul"},"mode\uff1a\u7f16\u8bd1\u6a21\u5f0f")))),(0,a.kt)("p",null,"\u5de5\u5177\u7c7b\u914d\u7f6e\u9879\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5f00\u53d1\u6548\u7387\u7c7b",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"watch\uff1a\u914d\u7f6e\u6301\u7eed\u76d1\u542c\u6587\u4ef6\u53d8\u5316"),(0,a.kt)("li",{parentName:"ul"},"devtool\uff1a\u914d\u7f6e\u4ea7\u7269Sourcemap\u751f\u6210\u89c4\u5219"),(0,a.kt)("li",{parentName:"ul"},"devServer\uff1a\u914d\u7f6e\u4e0eHMR\u5f3a\u76f8\u5173\u7684\u5f00\u53d1\u670d\u52a1\u5668\u529f\u80fd"))),(0,a.kt)("li",{parentName:"ul"},"\u6027\u80fd\u4f18\u5316\u7c7b",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"cache\uff1a\u63a7\u5236\u7f13\u5b58\u7f16\u8bd1\u8fc7\u7a0b\u53ca\u7ed3\u679c"),(0,a.kt)("li",{parentName:"ul"},"performance\uff1a\u914d\u7f6e\u5f53\u4ea7\u7269\u5927\u5c0f\u8d85\u8fc7\u9608\u503c\u65f6\uff0c\u5982\u4f55\u901a\u77e5\u5f00\u53d1\u8005"))),(0,a.kt)("li",{parentName:"ul"},"\u65e5\u5fd7\u7c7b",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"stats\uff1a\u63a7\u5236\u7f16\u8bd1\u8fc7\u7a0b\u7684\u65e5\u5fd7\u5185\u5bb9"),(0,a.kt)("li",{parentName:"ul"},"infrastructureLogging\uff1a\u63a7\u5236\u65e5\u5fd7\u8f93\u51fa\u65b9\u5f0f")))),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(4569).Z,width:"1550",height:"904"})),(0,a.kt)("h2",{id:"\u4f7f\u7528babel"},"\u4f7f\u7528Babel"),(0,a.kt)("p",null,"::: tip\n\u5728Webpack\u5e38\u89c1\u4e0b\uff0c\u53ea\u9700\u4f7f\u7528babel-loader\u5373\u53ef\u63a5\u5165Babel\u8f6c\u8bd1\u529f\u80fd\n:::"),(0,a.kt)("p",null,"1.\u5b89\u88c5\u4f9d\u8d56"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm i -D @babel/core @babel/preset-env babel-loader\n")),(0,a.kt)("p",null,"2.\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"webpack.config.js"),"\u4e2d\u6dfb\u52a0Babel\u8f6c\u8bd1\u89c4\u5219"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const path = require('path')\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nmodule.exports = {\n  mode: 'development',\n  entry: {\n    index: './src/index.js'\n  },\n  output: {\n    filename: '[name].bundle.js',\n    path: path.resolve(__dirname, 'dist'),\n    clean: true,\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n      title: '\u7ba1\u7406\u8f93\u51fa',\n    }),\n  ],\n  module: {\n    rules: [\n      {\n        // \u58f0\u660e\u7684\u89c4\u5219\u8fc7\u6ee4\u6761\u4ef6\uff0c\u5bf9.js\u540e\u7f00\u7684\u6587\u4ef6\u751f\u6548\n        test: /\\.js$/,\n        // \u7528\u4e8e\u8be5\u89c4\u5219\u7684Loader\u5904\u7406\u5668\u5e8f\u5217\n        use: [\n          {\n            loader: 'babel-loader',\n            options: {\n              // \u4f7f\u7528@babel/preset-env\u8fd9\u79cdBabel\u9884\u8bbe\u89c4\u5219\u96c6\n              presets: ['@babel/preset-env'],\n            },\n          },\n        ],\n      }\n    ]\n  }\n}\n")),(0,a.kt)("p",null,"Babel\u9884\u8bbe\u89c4\u5219\u96c6Preset\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"@babel/preset-env"),"\uff1a\u5141\u8bb8\u4f7f\u7528\u6700\u65b0\u7684JavaScript\uff0c\u800c\u65e0\u9700\u7ba1\u7406\u76ee\u6807\u73af\u5883\u9700\u8981\u54ea\u4e9b\u8bed\u6cd5\u8f6c\u6362\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"babel-preset-react"),"\uff1a\u5305\u542bReact\u5e38\u7528\u63d2\u4ef6\u7684\u89c4\u5219\u96c6\uff0c\u652f\u6301preset-flow\u3001syntax-jsx\u3001transform-react-jsx\u7b49\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"@babel/preset-typescript"),"\uff1a\u7528\u4e8e\u8f6c\u8bd1TypeScript\u4ee3\u7801\u7684\u89c4\u5219\u96c6\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"@babel/preset-flow"),"\uff1a\u7528\u4e8e\u8f6c\u8bd1Flow\u4ee3\u7801\u7684\u89c4\u5219\u96c6\u3002")),(0,a.kt)("h2",{id:"\u4f7f\u7528typescript"},"\u4f7f\u7528TypeScript"),(0,a.kt)("h3",{id:"ts-loader"},"ts-loader"),(0,a.kt)("p",null,"1.\u5b89\u88c5\u4f9d\u8d56"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm i -D typescript ts-loader\n")),(0,a.kt)("p",null,"2.\u914d\u7f6e",(0,a.kt)("inlineCode",{parentName:"p"},"webpack.config.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const path = require('path')\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nmodule.exports = {\n  mode: 'development',\n  entry: {\n    index: './src/index.ts'\n  },\n  output: {\n    filename: '[name].bundle.js',\n    path: path.resolve(__dirname, 'dist'),\n    clean: true,\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n      title: '\u7ba1\u7406\u8f93\u51fa',\n    }),\n  ],\n  module: {\n    rules: [\n      {\n        // \u58f0\u660e\u7684\u89c4\u5219\u8fc7\u6ee4\u6761\u4ef6\uff0c\u5bf9.ts\u540e\u7f00\u7684\u6587\u4ef6\u751f\u6548\n        test: /\\.ts$/i,\n        use: [\n          {\n            loader: 'ts-loader'\n          }\n        ]\n      },\n    ]\n  },\n  // \u58f0\u660e\u81ea\u52a8\u89e3\u6790.ts\u548c.js\u540e\u7f00\u6587\u4ef6\uff0c\u7b80\u5316\u5bfc\u5165\u540e\u7f00\n  resolve: {\n    extensions: ['.js', '.ts'],\n  }\n}\n")),(0,a.kt)("p",null,"3.\u521b\u5efa",(0,a.kt)("inlineCode",{parentName:"p"},"tsconfig.json"),"\u914d\u7f6e\u6587\u4ef6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "compilerOptions": {\n    "noImplicitAny": true,\n    "moduleResolution": "Node"\n  },\n  "include": [\n    "./src/**/*"\n  ]\n}\n')),(0,a.kt)("h3",{id:"babelpreset-typescript"},"@babel/preset-typescript"),(0,a.kt)("p",null,"\u5982\u679c\u9879\u76ee\u4e2d\u5df2\u7ecf\u4f7f\u7528\u4e86babel-loader\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"@babel/preset-typescript"),"\u89c4\u5219\u96c6\u6765\u5b8c\u6210JavaScript\u4e0eTypeScript\u7684\u8f6c\u7801\u5de5\u4f5c"),(0,a.kt)("p",null,"::: warning"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"babel-loader"),"\u4f1a\u5ffd\u7565TypeScript\u7c7b\u578b\u68c0\u67e5\uff0c\u80fd\u8ba9\u6574\u4e2a\u8f6c\u6362\u64cd\u4f5c\u53d8\u5f97\u66f4\u5feb"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"ts-loader"),"\u7528\u4e8e\u5c06",(0,a.kt)("inlineCode",{parentName:"li"},"Typescript"),"\u8f6c\u6362\u4e3a",(0,a.kt)("inlineCode",{parentName:"li"},"Javascript"),"\uff1b",(0,a.kt)("inlineCode",{parentName:"li"},"babel-loader"),"\u5219\u7528\u4e8e\u6839\u636e\u6211\u4eec\u7684\u8981\u6c42\u5c06\u8be5",(0,a.kt)("inlineCode",{parentName:"li"},"Javascript"),"\u8f6c\u6362\u4e3a\u76ee\u6807\u6d4f\u89c8\u5668\u53cb\u597d\u7684\u4ee3\u7801\u7248\u672c\u3002\n:::")),(0,a.kt)("p",null,"1.\u5b89\u88c5\u4f9d\u8d56"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm i -D @babel/preset-typescript\n")),(0,a.kt)("p",null,"2.\u914d\u7f6e",(0,a.kt)("inlineCode",{parentName:"p"},"webpack.config.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  ...\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        use: [\n          {\n            loader: 'babel-loader',\n            options: {\n              presets: ['@babel/preset-typescript'],\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n")),(0,a.kt)("h2",{id:"\u4f7f\u7528eslint"},"\u4f7f\u7528ESlint"),(0,a.kt)("p",null,"1.\u5b89\u88c5\u4f9d\u8d56"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5b89\u88c5eslint \nnpm install -D eslint eslint-webpack-plugin\n# \u5b89\u88c5eslint\u89c4\u8303\nnpm install -D eslint-config-standard eslint-plugin-promise eslint-plugin-import eslint-plugin-node eslint-plugin-n\n")),(0,a.kt)("p",null,"2.\u6dfb\u52a0",(0,a.kt)("inlineCode",{parentName:"p"},".eslintrc.js"),"\u914d\u7f6e\u6587\u4ef6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  extends: [\n    'standard'\n  ]\n}\n")),(0,a.kt)("p",null,"3.\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"webpack.config.js"),"\u6587\u4ef6\u4e2d\u8865\u5145",(0,a.kt)("inlineCode",{parentName:"p"},"eslint-webpack-plugin"),"\u914d\u7f6e"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const path = require('path')\nconst ESLintPlugin = require('eslint-webpack-plugin')\nmodule.exports = {\n  entry: './src/index',\n  mode: 'development',\n  devtool: false,\n  output: {\n    filename: '[name].bundle.js',\n    path: path.resolve(__dirname, 'dist')\n  },\n  // \u6dfb\u52a0eslint-webpack-plugin\u63d2\u4ef6\u5b9e\u4f8b\n  plugins: [new ESLintPlugin()]\n}\n")),(0,a.kt)("p",null,"\u9664\u4e86\u5e38\u89c4\u7684JavaScript\u4ee3\u7801\u98ce\u683c\u68c0\u67e5\u5916\uff0c\u8fd8\u53ef\u4ee5\u9002\u5f53\u4f7f\u7528ESLint\u63d2\u4ef6\u3001\u914d\u7f6e\u96c6\u6765\u5b9e\u73b0\u66f4\u4e30\u5bcc\u7684\u68c0\u67e5\u529f\u80fd\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"eslint-config-airbnb"),"\uff1aAirbnb\u63d0\u4f9b\u7684\u4ee3\u7801\u98ce\u683c\u89c4\u5219\u96c6\uff0c\u7b97\u5f97\u4e0a ESLint \u751f\u6001\u7b2c\u4e00\u4e2a\u6210\u540d\u7684\u89c4\u5219\u96c6\u5408"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"eslint-config-standard"),"\uff1aStandard.js\u4ee3\u7801\u98ce\u683c\u89c4\u5219\u96c6\uff0c\u53f2\u4e0a\u6700\u4fbf\u6377\u7684\u7edf\u4e00\u4ee3\u7801\u98ce\u683c\u7684\u65b9\u5f0f"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"eslint-plugin-vue"),"\uff1a\u5b9e\u73b0\u5bf9Vue SFC\u6587\u4ef6\u7684\u4ee3\u7801\u98ce\u683c\u68c0\u67e5"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"eslint-plugin-react"),"\uff1a\u5b9e\u73b0\u5bf9React\u4ee3\u7801\u98ce\u683c\u68c0\u67e5"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"@typescript-eslint/eslint-plugin"),"\uff1a\u5b9e\u73b0\u5bf9TypeScript\u4ee3\u7801\u98ce\u683c\u68c0\u67e5"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"eslint-plugin-sonarjs"),"\uff1a\u57fa\u4e8eSonar\u7684\u4ee3\u7801\u8d28\u91cf\u68c0\u67e5\u5de5\u5177\uff0c\u63d0\u4f9b\u5708\u590d\u6742\u5ea6\u3001\u4ee3\u7801\u91cd\u590d\u7387\u7b49\u68c0\u6d4b\u529f\u80fd")),(0,a.kt)("h2",{id:"\u5904\u7406css"},"\u5904\u7406CSS"),(0,a.kt)("p",null,"Webpack\u5904\u7406CSS\u6587\u4ef6\uff0c\u901a\u5e38\u9700\u8981\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"css-loader"),"\uff1a\u5c06CSS\u7b49\u4ef7\u7ffb\u8bd1\u4e3a\u5f62\u5982",(0,a.kt)("inlineCode",{parentName:"li"},'module.exports = "${css}"'),"\u7684JavaScript\u4ee3\u7801\uff0c\u4f7f\u5f97Webpack\u80fd\u5904\u7406\u89e3\u6790CSS\u5185\u5bb9\u4e0e\u8d44\u6e90\u4f9d\u8d56"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"style-loader"),"\uff1a\u5728\u4ea7\u7269\u4e2d\u6ce8\u5165\u4e00\u7cfb\u5217runtime\u4ee3\u7801\uff0c\u8fd9\u4e9b\u4ee3\u7801\u4f1a\u5c06CSS\u5185\u5bb9\u6ce8\u5165\u5230\u9875\u9762\u7684",(0,a.kt)("inlineCode",{parentName:"li"},"<style>"),"\u6807\u7b7e\uff0c\u4f7f\u6837\u5f0f\u751f\u6548"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"mini-css-extract-plugin"),"\uff1a\u5c06CSS\u4ee3\u7801\u62bd\u79bb\u5230\u5355\u72ec\u7684",(0,a.kt)("inlineCode",{parentName:"li"},".css"),"\u6587\u4ef6\uff0c\u5e76\u901a\u8fc7",(0,a.kt)("inlineCode",{parentName:"li"},"<link>"),"\u6807\u7b7e\u65b9\u5f0f\u63d2\u5165\u5230\u9875\u9762\u4e2d")),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(5360).Z,width:"1782",height:"962"})),(0,a.kt)("p",null,"1.\u5b89\u88c5\u76f8\u5173loader\u548c\u63d2\u4ef6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm install css-loader style-loader mini-css-extract-plugin --save-dev\n")),(0,a.kt)("p",null,"2.\u4fee\u6539",(0,a.kt)("inlineCode",{parentName:"p"},"webpack.config.js"),"\uff0c\u5b9a\u4e49",(0,a.kt)("inlineCode",{parentName:"p"},".css"),"\u89c4\u5219"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js{3,16,32-38}"},"const path = require('path')\nconst HtmlWebpackPlugin = require('html-webpack-plugin')\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin')\nconst ESLintPlugin = require('eslint-webpack-plugin')\nmodule.exports = {\n  mode: 'development',\n  entry: {\n    index: './src/index.ts'\n  },\n  output: {\n    filename: '[name].bundle.js',\n    path: path.resolve(__dirname, 'dist'),\n    clean: true\n  },\n  plugins: [\n    new MiniCssExtractPlugin(),\n    new HtmlWebpackPlugin({\n      title: '\u7ba1\u7406\u8f93\u51fa'\n    }),\n    new ESLintPlugin()\n  ],\n  module: {\n    rules: [\n      {\n        test: /\\.ts$/i,\n        use: [\n          {\n            loader: 'ts-loader'\n          }\n        ]\n      },\n      {\n        // style-loader(css-loader(css))\u94fe\u5f0f\u8c03\u7528\n        test: /\\.css$/i,\n        use: [(process.env.NODE_ENV === 'development'\n          ? 'style-loader'\n          : MiniCssExtractPlugin.loader), 'css-loader']\n      }\n    ]\n  },\n  resolve: {\n    extensions: ['.js', '.ts']\n  }\n}\n")),(0,a.kt)("p",null,"::: warning\n",(0,a.kt)("inlineCode",{parentName:"p"},"process.env.NODE_ENV"),"\u9ed8\u8ba4\u5728webpack\u914d\u7f6e\u6587\u4ef6\u4e2d\u9ed8\u8ba4\u662f\u4e0d\u751f\u6548\u7684\uff0c\u4f46\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"cross-env"),"\u8ba9\u5176\u751f\u6548\uff0c\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"package.json"),"\u4e2d\u914d\u7f6e\u5373\u53ef\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},'"build": "cross-env NODE_ENV=development webpack"'),"\n:::"),(0,a.kt)("p",null,"\u5bf9css-loader\u5904\u7406\u540e\u7684\u5b57\u7b26\u4e32\u8fd8\u4e0d\u4f1a\u5bf9\u9875\u9762\u6837\u5f0f\u4ea7\u751f\u5f71\u54cd\uff0c\u9700\u8981\u7ee7\u7eed\u5904\u7406\u3002\u5728\u5f00\u53d1\u548c\u751f\u6210\u73af\u5883\u5206\u522b\u5904\u7406\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5f00\u53d1\u73af\u5883\uff1a\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"style-loader"),"\u5c06\u6837\u5f0f\u4ee3\u7801\u6ce8\u5165\u5230\u9875\u9762",(0,a.kt)("inlineCode",{parentName:"li"},"<style>"),"\u6807\u7b7e\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u751f\u6210\u73af\u5883\uff1a\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"mini-css-extract-plugin"),"\u5c06\u6837\u5f0f\u4ee3\u7801\u62bd\u79bb\u5230\u5355\u72ec\u4ea7\u7269\u6587\u4ef6\uff0c\u5e76\u4ee5",(0,a.kt)("inlineCode",{parentName:"li"},"<link>"),"\u6807\u7b7e\u65b9\u5f0f\u5f15\u5165\u5230\u9875\u9762\u4e2d\u3002")),(0,a.kt)("p",null,"::: danger\n\u751f\u4ea7\u73af\u5883\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"mini-css-extract-plugin"),"\u9700\u8981\u6ce8\u610f\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"mini-css-extract-plugin"),"\u540c\u65f6\u63d0\u4f9bloader\u548cplugin\uff0c\u5fc5\u987b\u540c\u65f6\u4f7f\u7528\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"mini-css-extract-plugin"),"\u4e0d\u80fd\u4e0e",(0,a.kt)("inlineCode",{parentName:"li"},"style-loader"),"\u6df7\u7528\uff0c\u5426\u5219\u62a5\u9519\uff0c\u901a\u8fc7",(0,a.kt)("inlineCode",{parentName:"li"},"process.env.NODE_ENV"),"\u5224\u65ad\u5728\u4f55\u79cd\u73af\u5883\u4e2d\u4f7f\u7528\u54ea\u4e2aloader\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"mini-css-extract-plugin"),"\u5fc5\u987b\u548c",(0,a.kt)("inlineCode",{parentName:"li"},"html-webpack-plugin"),"\u540c\u65f6\u4f7f\u7528\uff0c\u624d\u80fd\u5c06\u4ea7\u7269\u8def\u5f84\u4ee5",(0,a.kt)("inlineCode",{parentName:"li"},"<link>"),"\u65b9\u5f0f\u63d2\u5165\u5230HTML\u4e2d\u3002\n:::")),(0,a.kt)("h2",{id:"\u4f7f\u7528\u9884\u5904\u7406\u5668"},"\u4f7f\u7528\u9884\u5904\u7406\u5668"),(0,a.kt)("p",null,"1.\u5b89\u88c5\u9884\u5904\u7406\u5668loader"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# less\nnpm install less less-loader --save-dev\n# sass\nnpm install sass sass-loader --save-dev\n# stylus\nnpm install stylus stylus-loader --save-dev\n")),(0,a.kt)("p",null,"2.\u914d\u7f6e",(0,a.kt)("inlineCode",{parentName:"p"},"webpack.config.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  ...\n  module: {\n    rules: [\n      {\n        test: /\\.less$/i,\n        use: [\n          'style-loader',\n          'css-loader',\n          'less-loader'\n        ]\n      },\n      {\n        test: /\\.s[ac]ss$/i,\n        use: [\n          'style-loader',\n          'css-loader',\n          'sass-loader'\n        ]\n      },\n      {\n        test: /\\.styl$/i,\n        use: [\n          'style-loader',\n          'css-loader',\n          'stylus-loader'\n        ]\n      }\n    ]\n  },\n}\n")),(0,a.kt)("h2",{id:"\u4f7f\u7528postcss"},"\u4f7f\u7528PostCSS"),(0,a.kt)("p",null,"1.\u5b89\u88c5PostCSS"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# postcss\nnpm install postcss postcss-loader --save-dev\n# autoprefixer\nnpm install autoprefixer --save-dev\n")),(0,a.kt)("p",null,"2.\u914d\u7f6e",(0,a.kt)("inlineCode",{parentName:"p"},"webpack.config.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  ...\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          'style-loader',\n          {\n            loader: 'css-loader',\n            options: {\n              importLoaders: 1\n            }\n          },\n          {\n            loader: 'postcss-loader',\n            options: {\n              postcssOptions: {\n                // \u6dfb\u52a0autoprefixer\u63d2\u4ef6\uff0c\u4e3aCSS\u4ee3\u7801\u81ea\u52a8\u6dfb\u52a0\u6d4f\u89c8\u5668\u524d\u7f00\n                plugins: [require('autoprefixer')]\n              }\n            }\n          }\n        ]\n      }\n    ]\n  },\n}\n")),(0,a.kt)("p",null,"3.\u5f53\u7136\uff0c\u4e0a\u8ff0autoprefixer\u63d2\u4ef6\u662f\u53ef\u4ee5\u5355\u72ec\u63d0\u51fa\u6765\u7684"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"postcss.config.js"),"\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'module.exports = {\n  plugins: [\n    require("autoprefixer")\n  ],\n};\n')),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"webpack.config.js"),"\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  ...\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          'style-loader',\n          {\n            loader: 'css-loader',\n            options: {\n              importLoaders: 1\n            }\n          },\n          'postcss-loader'\n        ]\n      }\n    ]\n  },\n}\n")),(0,a.kt)("p",null,"PostCSS\u6700\u5927\u7684\u4f18\u52bf\u5728\u4e8e\u5176\u7b80\u5355\u3001\u6613\u7528\u3001\u4e30\u5bcc\u7684\u63d2\u4ef6\u751f\u6001\uff0c\u57fa\u672c\u4e0a\u5df2\u7ecf\u80fd\u591f\u8986\u76d6\u6837\u5f0f\u5f00\u53d1\u7684\u65b9\u65b9\u9762\u9762\u3002\u5b9e\u8df5\u4e2d\uff0c\u7ecf\u5e38\u4f7f\u7528\u7684\u63d2\u4ef6\u6709\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"autoprefixer"),"\uff1a\u57fa\u4e8eCan I Use\u7f51\u7ad9\u4e0a\u7684\u6570\u636e\uff0c\u81ea\u52a8\u6dfb\u52a0\u6d4f\u89c8\u5668\u524d\u7f00\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"postcss-preset-env"),"\uff1a\u4e00\u6b3e\u5c06\u6700\u65b0CSS\u8bed\u8a00\u7279\u6027\u8f6c\u8bd1\u4e3a\u517c\u5bb9\u6027\u66f4\u4f73\u7684\u4f4e\u7248\u672c\u4ee3\u7801\u7684\u63d2\u4ef6\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"postcss-less"),"\uff1a\u517c\u5bb9Less\u8bed\u6cd5\u7684PostCSS\u63d2\u4ef6\uff0c\u7c7b\u4f3c\u7684\u8fd8\u6709\uff1apostcss-sass\u3001poststylus\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"stylelint"),"\uff1a\u4e00\u4e2a\u73b0\u4ee3CSS\u4ee3\u7801\u98ce\u683c\u68c0\u67e5\u5668\uff0c\u80fd\u591f\u5e2e\u52a9\u8bc6\u522b\u6837\u5f0f\u4ee3\u7801\u4e2d\u7684\u5f02\u5e38\u6216\u98ce\u683c\u95ee\u9898\u3002")),(0,a.kt)("h2",{id:"webpack\u642d\u5efavue\u5168\u6808\u5f00\u53d1\u73af\u5883"},"Webpack\u642d\u5efaVue\u5168\u6808\u5f00\u53d1\u73af\u5883"),(0,a.kt)("h2",{id:"webpack\u642d\u5efareact\u5168\u6808\u5f00\u53d1\u73af\u5883"},"Webpack\u642d\u5efaReact\u5168\u6808\u5f00\u53d1\u73af\u5883"),(0,a.kt)("h2",{id:"webpack\u642d\u5efanpm-library"},"Webpack\u642d\u5efaNPM Library"),(0,a.kt)("h2",{id:"webpack\u642d\u5efa\u5fae\u524d\u7aef\u5e94\u7528"},"Webpack\u642d\u5efa\u5fae\u524d\u7aef\u5e94\u7528"),(0,a.kt)("h2",{id:"webpack\u642d\u5efapwaelectron\u5e94\u7528"},"Webpack\u642d\u5efaPWA\u3001Electron\u5e94\u7528"),(0,a.kt)("h2",{id:"webpack\u52a0\u8f7d\u56fe\u50cf"},"Webpack\u52a0\u8f7d\u56fe\u50cf"))}k.isMDXComponent=!0},5360:(e,n,t)=>{t.d(n,{Z:()=>l});const l=t.p+"assets/images/Webpack\u5904\u7406CSS-b88fac6658999f2560b247162d4c31da.png"},4569:(e,n,t)=>{t.d(n,{Z:()=>l});const l=t.p+"assets/images/webpack\u7f16\u8bd1\u6d41\u7a0b-228c4489f3afb416d5fd4247cb3f4e10.png"}}]);