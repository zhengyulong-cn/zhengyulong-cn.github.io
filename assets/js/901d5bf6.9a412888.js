"use strict";(self.webpackChunkprivate_long_blog=self.webpackChunkprivate_long_blog||[]).push([[9821],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>d});var a=t(7294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},k=a.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=p(t),k=l,d=m["".concat(s,".").concat(k)]||m[k]||c[k]||r;return t?a.createElement(d,i(i({ref:n},u),{},{components:t})):a.createElement(d,i({ref:n},u))}));function d(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,i=new Array(r);i[0]=k;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o[m]="string"==typeof e?e:l,i[1]=o;for(var p=2;p<r;p++)i[p]=t[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}k.displayName="MDXCreateElement"},1886:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var a=t(7462),l=(t(7294),t(3905));const r={},i="JavaScript\u7f16\u7a0b\u8bed\u8a00(\u4e0b)",o={unversionedId:"frontend-programing-skills/\u73b0\u4ee3JavaScript/JavaScript\u7f16\u7a0b\u8bed\u8a00-\u4e0b/index",id:"frontend-programing-skills/\u73b0\u4ee3JavaScript/JavaScript\u7f16\u7a0b\u8bed\u8a00-\u4e0b/index",title:"JavaScript\u7f16\u7a0b\u8bed\u8a00(\u4e0b)",description:"JS\u5b66\u4e60\u539f\u6587\uff1ahttps://zh.javascript.info/",source:"@site/docs/frontend-programing-skills/\u73b0\u4ee3JavaScript/JavaScript\u7f16\u7a0b\u8bed\u8a00-\u4e0b/index.md",sourceDirName:"frontend-programing-skills/\u73b0\u4ee3JavaScript/JavaScript\u7f16\u7a0b\u8bed\u8a00-\u4e0b",slug:"/frontend-programing-skills/\u73b0\u4ee3JavaScript/JavaScript\u7f16\u7a0b\u8bed\u8a00-\u4e0b/",permalink:"/docs/frontend-programing-skills/\u73b0\u4ee3JavaScript/JavaScript\u7f16\u7a0b\u8bed\u8a00-\u4e0b/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"frontend-programing-skills",previous:{title:"JavaScript\u7f16\u7a0b\u8bed\u8a00(\u4e0a)",permalink:"/docs/frontend-programing-skills/\u73b0\u4ee3JavaScript/JavaScript\u7f16\u7a0b\u8bed\u8a00-\u4e0a/"},next:{title:"JavaScript\u6d4f\u89c8\u5668",permalink:"/docs/frontend-programing-skills/\u73b0\u4ee3JavaScript/JavaScript\u6d4f\u89c8\u5668/"}},s={},p=[{value:"\u56db\u3001\u51fd\u6570\u8fdb\u9636",id:"\u56db\u51fd\u6570\u8fdb\u9636",level:2},{value:"\u9012\u5f52\u548c\u5806\u6808",id:"\u9012\u5f52\u548c\u5806\u6808",level:3},{value:"Rest \u53c2\u6570\u4e0e Spread \u8bed\u6cd5",id:"rest-\u53c2\u6570\u4e0e-spread-\u8bed\u6cd5",level:3},{value:"\u95ed\u5305",id:"\u95ed\u5305",level:3},{value:"\u5d4c\u5957\u51fd\u6570",id:"\u5d4c\u5957\u51fd\u6570",level:4},{value:"\u8bcd\u6cd5\u73af\u5883",id:"\u8bcd\u6cd5\u73af\u5883",level:4},{value:"\u95ed\u5305",id:"\u95ed\u5305-1",level:5},{value:"\u7531\u5185\u800c\u5916\u7684\u8bbf\u95ee",id:"\u7531\u5185\u800c\u5916\u7684\u8bbf\u95ee",level:5},{value:"\u8fd4\u56de\u51fd\u6570",id:"\u8fd4\u56de\u51fd\u6570",level:5},{value:"\u5783\u573e\u6536\u96c6",id:"\u5783\u573e\u6536\u96c6",level:4},{value:"\u65e7\u65f6\u7684var",id:"\u65e7\u65f6\u7684var",level:3},{value:"\u5168\u5c40\u5bf9\u8c61",id:"\u5168\u5c40\u5bf9\u8c61",level:3},{value:"\u51fd\u6570\u5bf9\u8c61",id:"\u51fd\u6570\u5bf9\u8c61",level:3},{value:"new Function",id:"new-function",level:3},{value:"\u8c03\u5ea6",id:"\u8c03\u5ea6",level:3},{value:"\u88c5\u9970\u5668\u6a21\u5f0f\u4e0e\u8f6c\u53d1",id:"\u88c5\u9970\u5668\u6a21\u5f0f\u4e0e\u8f6c\u53d1",level:3},{value:"\u51fd\u6570\u7ed1\u5b9a",id:"\u51fd\u6570\u7ed1\u5b9a",level:3},{value:"\u4e22\u5931this",id:"\u4e22\u5931this",level:4},{value:"\u51fd\u6570\u7ed1\u5b9a",id:"\u51fd\u6570\u7ed1\u5b9a-1",level:4},{value:"\u7bad\u5934\u51fd\u6570",id:"\u7bad\u5934\u51fd\u6570",level:3},{value:"\u4e94\u3001\u5bf9\u8c61\u5c5e\u6027",id:"\u4e94\u5bf9\u8c61\u5c5e\u6027",level:2},{value:"\u5c5e\u6027\u6807\u5fd7\u548c\u5c5e\u6027\u63cf\u8ff0\u7b26",id:"\u5c5e\u6027\u6807\u5fd7\u548c\u5c5e\u6027\u63cf\u8ff0\u7b26",level:3},{value:"getter\u548csetter",id:"getter\u548csetter",level:3},{value:"\u516d\u3001\u539f\u578b\u3001\u7ee7\u627f",id:"\u516d\u539f\u578b\u7ee7\u627f",level:2},{value:"\u539f\u578b\uff08prototype\uff09\u3001\u539f\u578b\u94fe",id:"\u539f\u578bprototype\u539f\u578b\u94fe",level:3},{value:"\u539f\u578b\u7ee7\u627f",id:"\u539f\u578b\u7ee7\u627f",level:3},{value:"\u5c5e\u6027\u7ee7\u627f",id:"\u5c5e\u6027\u7ee7\u627f",level:4},{value:"\u65b9\u6cd5\u7ee7\u627f",id:"\u65b9\u6cd5\u7ee7\u627f",level:4},{value:"\u539f\u751f\u7684\u539f\u578b",id:"\u539f\u751f\u7684\u539f\u578b",level:3},{value:"Object\u539f\u578b",id:"object\u539f\u578b",level:4},{value:"\u5176\u4ed6\u5185\u5efa\u539f\u578b",id:"\u5176\u4ed6\u5185\u5efa\u539f\u578b",level:4},{value:"\u4e03\u3001\u7c7b",id:"\u4e03\u7c7b",level:2},{value:"\u7c7b\u7684\u57fa\u672c\u8bed\u6cd5",id:"\u7c7b\u7684\u57fa\u672c\u8bed\u6cd5",level:3},{value:"\u7c7b\u7ee7\u627f",id:"\u7c7b\u7ee7\u627f",level:3},{value:"\u9759\u6001\u5c5e\u6027\u548c\u9759\u6001\u65b9\u6cd5",id:"\u9759\u6001\u5c5e\u6027\u548c\u9759\u6001\u65b9\u6cd5",level:3},{value:"\u5c01\u88c5",id:"\u5c01\u88c5",level:3},{value:"\u7ea6\u5b9a\u7ea7\u522b",id:"\u7ea6\u5b9a\u7ea7\u522b",level:4},{value:"\u8bed\u8a00\u7ea7\u522b",id:"\u8bed\u8a00\u7ea7\u522b",level:4},{value:"instanceof",id:"instanceof",level:3},{value:"Mixin\u6a21\u5f0f",id:"mixin\u6a21\u5f0f",level:3},{value:"\u5b9e\u73b0Mixin\u7684\u4e24\u79cd\u65b9\u5f0f",id:"\u5b9e\u73b0mixin\u7684\u4e24\u79cd\u65b9\u5f0f",level:4},{value:"EventMixin\u4f8b\u5b50\uff08\u5e38\u7528\uff09",id:"eventmixin\u4f8b\u5b50\u5e38\u7528",level:4},{value:"\u516b\u3001\u9519\u8bef\u5904\u7406",id:"\u516b\u9519\u8bef\u5904\u7406",level:2},{value:"try\u2026catch",id:"trycatch",level:3},{value:"\u81ea\u5b9a\u4e49Error",id:"\u81ea\u5b9a\u4e49error",level:3},{value:"\u4e5d\u3001Promise",id:"\u4e5dpromise",level:2},{value:"\u5f02\u6b65",id:"\u5f02\u6b65",level:3},{value:"\u56de\u8c03",id:"\u56de\u8c03",level:3},{value:"Promise\u7684\u4f7f\u7528",id:"promise\u7684\u4f7f\u7528",level:3},{value:"\u751f\u4ea7\u8005\uff1aresolve\uff0creject",id:"\u751f\u4ea7\u8005resolvereject",level:4},{value:"\u6d88\u8d39\u8005\uff1athen\uff0ccatch\uff0cfinally",id:"\u6d88\u8d39\u8005thencatchfinally",level:4},{value:"Promise\u94fe",id:"promise\u94fe",level:3},{value:"Promise API",id:"promise-api",level:3},{value:"Promisification\u65b9\u5f0f",id:"promisification\u65b9\u5f0f",level:3},{value:"\u5fae\u4efb\u52a1\u961f\u5217",id:"\u5fae\u4efb\u52a1\u961f\u5217",level:3},{value:"async/await",id:"asyncawait",level:3},{value:"\u5341\u3001\u6a21\u5757",id:"\u5341\u6a21\u5757",level:2},{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:3},{value:"\u5bfc\u5165\u548c\u5bfc\u51fa",id:"\u5bfc\u5165\u548c\u5bfc\u51fa",level:3},{value:"import",id:"import",level:4},{value:"export",id:"export",level:4},{value:"\u5bfc\u5165\u5bfc\u51fa",id:"\u5bfc\u5165\u5bfc\u51fa",level:4},{value:"\u5341\u4e00\u3001Generator",id:"\u5341\u4e00generator",level:2},{value:"Generator\u521d\u6b65",id:"generator\u521d\u6b65",level:3},{value:"\u5f02\u6b65Generator",id:"\u5f02\u6b65generator",level:3},{value:"\u5f02\u6b65\u8fed\u4ee3",id:"\u5f02\u6b65\u8fed\u4ee3",level:4},{value:"\u5f02\u6b65Generator",id:"\u5f02\u6b65generator-1",level:4},{value:"\u5341\u4e8c\u3001\u6742\u9879",id:"\u5341\u4e8c\u6742\u9879",level:2}],u={toc:p},m="wrapper";function c(e){let{components:n,...r}=e;return(0,l.kt)(m,(0,a.Z)({},u,r,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"javascript\u7f16\u7a0b\u8bed\u8a00\u4e0b"},"JavaScript\u7f16\u7a0b\u8bed\u8a00(\u4e0b)"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"JS\u5b66\u4e60\u539f\u6587\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://zh.javascript.info/"},"https://zh.javascript.info/"))),(0,l.kt)("h2",{id:"\u56db\u51fd\u6570\u8fdb\u9636"},"\u56db\u3001\u51fd\u6570\u8fdb\u9636"),(0,l.kt)("h3",{id:"\u9012\u5f52\u548c\u5806\u6808"},"\u9012\u5f52\u548c\u5806\u6808"),(0,l.kt)("p",null,"\u8fd9\u90e8\u5206\u5728\u5176\u4ed6\u8bed\u8a00\u4e2d\u5f88\u5e38\u7528\uff0c\u8fd9\u91cc\u5c31\u4e0d\u4ed4\u7ec6\u4ecb\u7ecd\u4e86"),(0,l.kt)("p",null,"\u94fe\u63a5\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://zh.javascript.info/recursion"},"https://zh.javascript.info/recursion")),(0,l.kt)("h3",{id:"rest-\u53c2\u6570\u4e0e-spread-\u8bed\u6cd5"},"Rest \u53c2\u6570\u4e0e Spread \u8bed\u6cd5"),(0,l.kt)("p",null,"1.Rest\u53c2\u6570"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Rest \u53c2\u6570\u5fc5\u987b\u653e\u5230\u53c2\u6570\u5217\u8868\u7684\u672b\u5c3e\uff0cRest\u4f1a\u6536\u96c6\u6240\u6709\u5269\u4f59\u7684\u53c2\u6570")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function sumAll(...args) { // \u6570\u7ec4\u540d\u4e3a args\n    let sum = 0;\n    for (let arg of args) sum += arg;\n    return sum;\n}\nconsole.log(sumAll(1, 2, 3)); // 6\n")),(0,l.kt)("p",null,"2.arguments"),(0,l.kt)("p",null,"\u6709\u4e00\u4e2a\u540d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"arguments")," \u7684\u7279\u6b8a\u7684\u7c7b\u6570\u7ec4\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u6309\u53c2\u6570\u7d22\u5f15\u5305\u542b\u6240\u6709\u53c2\u6570\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"arguments")," \u662f\u4e00\u4e2a\u7c7b\u6570\u7ec4\uff0c\u4e5f\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u4f46\u5b83\u7ec8\u7a76\u4e0d\u662f\u6570\u7ec4\u3002"),(0,l.kt)("p",null,"3.Spread\u8bed\u6cd5"),(0,l.kt)("p",null,"\u5f53\u5728\u51fd\u6570\u8c03\u7528\u4e2d\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"...arr")," \u65f6\uff0c\u5b83\u4f1a\u628a\u53ef\u8fed\u4ee3\u5bf9\u8c61 ",(0,l.kt)("inlineCode",{parentName:"p"},"arr")," \u201c\u5c55\u5f00\u201d\u5230\u53c2\u6570\u5217\u8868\u4e2d\u3002"),(0,l.kt)("p",null,"\u5c06\u6570\u7ec4\u8f6c\u4e3a\u53c2\u6570\u5217\u8868\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let arr1 = [1, -2, 3, 4];\nlet arr2 = [8, 3, -8, 1];\n// spread\u8bed\u6cd5\u628a\u6570\u7ec4\u8f6c\u6362\u4e3a\u53c2\u6570\u5217\u8868\nconsole.log( Math.max(1, ...arr1, 2, ...arr2, -6) ); // 8\n")),(0,l.kt)("p",null,"\u6570\u7ec4\u5408\u5e76\uff1a"),(0,l.kt)("p",null,"!> \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff1aSpread\u8bed\u6cd5\u5f97\u5230\u7684\u662f\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u6216\u5bf9\u8c61\uff0c\u6df1\u62f7\u8d1d"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let merged = [0, ...arr, 2, ...arr2];\n")),(0,l.kt)("p",null,"\u8fed\u4ee3\u5b57\u7b26\u4e32\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let str = "Hello";\n// \u5c55\u5f00\u662f\u5217\u8868\uff0c\u52a0\u4e0a[]\u624d\u662f\u6570\u7ec4\nconsole.log([...str]);\n// \u53e6\u4e00\u79cd\u8fed\u4ee3\u65b9\u5f0f\nconsole.log(Array.from(str));\n')),(0,l.kt)("p",null,"\u8fd0\u884c\u7ed3\u679c\u4e0e ",(0,l.kt)("inlineCode",{parentName:"p"},"[...str]")," \u76f8\u540c\u3002"),(0,l.kt)("p",null,"\u4e0d\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"Array.from(obj)")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"[...obj]")," \u5b58\u5728\u4e00\u4e2a\u7ec6\u5fae\u7684\u5dee\u522b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Array.from")," \u9002\u7528\u4e8e\u7c7b\u6570\u7ec4\u5bf9\u8c61\u4e5f\u9002\u7528\u4e8e\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3002"),(0,l.kt)("li",{parentName:"ul"},"Spread \u8bed\u6cd5\u53ea\u9002\u7528\u4e8e\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3002")),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u5bf9\u4e8e\u5c06\u4e00\u4e9b\u201c\u4e1c\u897f\u201d\u8f6c\u6362\u4e3a\u6570\u7ec4\u7684\u4efb\u52a1\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"Array.from")," \u5f80\u5f80\u66f4\u901a\u7528\u3002"),(0,l.kt)("h3",{id:"\u95ed\u5305"},"\u95ed\u5305"),(0,l.kt)("p",null,"\u8fd9\u90e8\u5206\u6559\u7a0b\u8bb2\u7684\u597d\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://zh.javascript.info/closure#ci-fa-huan-jing"},"https://zh.javascript.info/closure#ci-fa-huan-jing")),(0,l.kt)("h4",{id:"\u5d4c\u5957\u51fd\u6570"},"\u5d4c\u5957\u51fd\u6570"),(0,l.kt)("p",null,"\u4f5c\u7528\u57df\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"{}"),"\u5185\u7684\u53ef\u89c1\uff0c\u5916\u9762\u7684\u4e0d\u53ef\u89c1"),(0,l.kt)("p",null,"\u5d4c\u5957\u51fd\u6570\u4f7f\u7528\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'function sayHiBye(firstName, lastName) {\n    // \u8f85\u52a9\u5d4c\u5957\u51fd\u6570\u4f7f\u7528\u5982\u4e0b,\u540c\u6837\u53ea\u5bf9\u5185\u90e8\u53ef\u89c1\n    function getFullName() {\n        return firstName + " " + lastName;\n    }\n    console.log( "Hello, " + getFullName() );\n    console.log( "Bye, " + getFullName() );\n}\nsayHiBye("Jonny","Long");\n')),(0,l.kt)("h4",{id:"\u8bcd\u6cd5\u73af\u5883"},"\u8bcd\u6cd5\u73af\u5883"),(0,l.kt)("p",null,"\u521b\u5efa\u8bcd\u6cd5\u73af\u5883\u5bf9\u8c61\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5185\u90e8\u73af\u5883\u8bb0\u5f55"),(0,l.kt)("li",{parentName:"ul"},"\u5916\u90e8\u8bcd\u6cd5\u73af\u5883\u7684\u5f15\u7528")),(0,l.kt)("h5",{id:"\u95ed\u5305-1"},"\u95ed\u5305"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u95ed\u5305\u662f\u6307\u5185\u90e8\u51fd\u6570\u603b\u662f\u53ef\u4ee5\u8bbf\u95ee\u5176\u6240\u5728\u7684\u5916\u90e8\u51fd\u6570\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u548c\u53c2\u6570\uff0c\u5373\u4f7f\u5728\u5176\u5916\u90e8\u51fd\u6570\u88ab\u8fd4\u56de\uff08\u5bff\u547d\u7ec8\u7ed3\uff09\u4e86\u4e4b\u540e\u3002")),(0,l.kt)("p",null,"\u5982\u4e0b\uff1a\u5185\u90e8\u533f\u540d\u51fd\u6570\u901a\u8fc7\u5916\u90e8\u58f0\u660e\u7684makeCounter()\u8bbf\u95ee"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(3679).Z,width:"607",height:"495"})),(0,l.kt)("h5",{id:"\u7531\u5185\u800c\u5916\u7684\u8bbf\u95ee"},"\u7531\u5185\u800c\u5916\u7684\u8bbf\u95ee"),(0,l.kt)("p",null,"1.\u672a\u8c03\u7528\u7684\u72b6\u6001"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(9804).Z,width:"970",height:"254"})),(0,l.kt)("p",null,"\u6267\u884c\u987a\u5e8f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"phrase:<uninitialized>")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"say:function")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"phrase:Hello"))),(0,l.kt)("p",null,"2.\u8c03\u7528",(0,l.kt)("inlineCode",{parentName:"p"},'say("John")')),(0,l.kt)("p",null,"\u2460\u65b0\u521b\u5efasay\u8bcd\u6cd5\u73af\u5883\u5bf9\u8c61\uff08\u8282\u70b9\uff09"),(0,l.kt)("p",null,"\u2461\u4fee\u6539\u5916\u90e8\u73af\u5883phrase\u503c\u548c\u5185\u90e8\u73af\u5883name\u503c"),(0,l.kt)("p",null,"\u2462\u521b\u5efaouter\u7d22\u5f15\u5230\u5916\u90e8\u73af\u5883"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(9124).Z,width:"1109",height:"242"})),(0,l.kt)("p",null,"3.\u6267\u884calert()\uff1a"),(0,l.kt)("p",null,"\u7531\u5185\u800c\u5916\u8bbf\u95ee\u5c5e\u6027\uff0c\u6bd4\u5982phrase\u5728\u5185\u73af\u5883\u6ca1\u6709\uff0c\u5c31\u53bb\u8bbf\u95ee\u5916\u73af\u5883\uff0c\u7136\u540e\u518d\u5916\u73af\u5883\u4e2d\u627e\u5230\u4e86"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(3124).Z,width:"1108",height:"208"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5173\u4e8e\u7b2c\u4e00\u70b9\u8fd9\u91cc\u8fd8\u60f3\u7ee7\u7eed\u8bf4\u4e0b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let x = 1;\nfunction func() {\n    console.log(x); // ReferenceError: Cannot access 'x' before initialization\n    let x = 2;\n}\nfunc();\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let x = 1;\nfunction func() {\n    console.log(x);\n    // let x = 2;\n}\nfunc();\n")),(0,l.kt)("p",null,"\u7b2c\u4e00\u6bb5\u62a5\u9519\uff0c\u7b2c\u4e8c\u3001\u4e09\u6bb5\u8fd0\u884c\u6b63\u786e\uff0c\u8fd9\u662f\u4e3a\u5565\uff1f"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(181).Z,width:"652",height:"319"})),(0,l.kt)("h5",{id:"\u8fd4\u56de\u51fd\u6570"},"\u8fd4\u56de\u51fd\u6570"),(0,l.kt)("p",null,"1.\u8c03\u7528makCounter()\u65b0\u521b\u5efa\u8bcd\u6cd5\u73af\u5883\u5bf9\u8c61"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(19).Z,width:"1112",height:"266"})),(0,l.kt)("p",null,"2.\u8c03\u7528counter()\u65b0\u521b\u5efa\u8bcd\u6cd5\u73af\u5883\u5bf9\u8c61\uff0c\u53ea\u662f\u8fd9\u4e2a\u8bcd\u6cd5\u73af\u5883\u5bf9\u8c61\u521a\u597d\u4e3a\u7a7a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(2537).Z,width:"1134",height:"290"})),(0,l.kt)("p",null,"3.\u6267\u884c\u51fd\u6570\uff0c\u67e5\u627ecount"),(0,l.kt)("h4",{id:"\u5783\u573e\u6536\u96c6"},"\u5783\u573e\u6536\u96c6"),(0,l.kt)("p",null,"\u5f53\u8bcd\u6cd5\u73af\u5883\u5bf9\u8c61\u53d8\u5f97\u4e0d\u53ef\u8fbe\u65f6\uff0c\u5b83\u5c31\u4f1a\u6b7b\u53bb\uff08\u5c31\u50cf\u5176\u4ed6\u4efb\u4f55\u5bf9\u8c61\u4e00\u6837\uff09\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5b83\u4ec5\u5728\u81f3\u5c11\u6709\u4e00\u4e2a\u5d4c\u5957\u51fd\u6570\u5f15\u7528\u5b83\u65f6\u624d\u5b58\u5728\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function f() {\n    let value = 123;\n    return function() {\n        alert(value);\n    }\n}\n// g.[[Environment]] \u5b58\u50a8\u4e86\u5bf9\u76f8\u5e94 f() \u8c03\u7528\u7684\u8bcd\u6cd5\u73af\u5883\u7684\u5f15\u7528\n// \u5f53 g \u51fd\u6570\u5b58\u5728\u65f6\uff0c\u8be5\u503c\u4f1a\u88ab\u4fdd\u7559\u5728\u5185\u5b58\u4e2d\nlet g = f();\n// \u73b0\u5728\u5185\u5b58\u88ab\u6e05\u7406\u4e86\ng = null;\n")),(0,l.kt)("p",null,"\u5728V8\u5f15\u64ce\u4e2d\u7684\u4f18\u5316\uff1a"),(0,l.kt)("p",null,"\u6b63\u5982\u6211\u4eec\u6240\u770b\u5230\u7684\uff0c\u7406\u8bba\u4e0a\u5f53\u51fd\u6570\u53ef\u8fbe\u65f6\uff0c\u5b83\u5916\u90e8\u7684\u6240\u6709\u53d8\u91cf\u4e5f\u90fd\u5c06\u5b58\u5728\u3002\u4f46\u5728\u5b9e\u9645\u4e2d\uff0cJavaScript \u5f15\u64ce\u4f1a\u8bd5\u56fe\u4f18\u5316\u5b83\u3002\u5b83\u4eec\u4f1a\u5206\u6790\u53d8\u91cf\u4f7f\u7528\u60c5\u51b5\uff0c\u5982\u679c\u4ece\u4ee3\u7801\u4e2d\u53ef\u4ee5\u660e\u663e\u770b\u51fa\u6709\u672a\u4f7f\u7528\u7684\u5916\u90e8\u53d8\u91cf\uff0c\u90a3\u4e48\u5c31\u4f1a\u5c06\u5176\u5220\u9664\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function f() {\n    let value = Math.random();\n\n    function g() {\n        debugger; // \u5728 Console \u4e2d\uff1a\u8f93\u5165 alert(value); No such variable!\n    }\n\n    return g;\n}\n\nlet g = f();\ng();\n")),(0,l.kt)("h3",{id:"\u65e7\u65f6\u7684var"},"\u65e7\u65f6\u7684var"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"var\u6ca1\u6709\u5757\u4f5c\u7528\u57df"),(0,l.kt)("li",{parentName:"ul"},"var\u5141\u8bb8\u91cd\u65b0\u58f0\u660e"),(0,l.kt)("li",{parentName:"ul"},"var\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u5728\u5176\u58f0\u660e\u8bed\u53e5\u524d\u88ab\u4f7f\u7528\uff0c\u8fd9\u662f\u56e0\u4e3a",(0,l.kt)("inlineCode",{parentName:"li"},"var")," \u53d8\u91cf\u58f0\u660e\u5728\u51fd\u6570\u5f00\u5934\u5c31\u4f1a\u88ab\u5904\u7406")),(0,l.kt)("h3",{id:"\u5168\u5c40\u5bf9\u8c61"},"\u5168\u5c40\u5bf9\u8c61"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e00\u822c\u4e0d\u5efa\u8bae\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u3002"),"\u5168\u5c40\u53d8\u91cf\u5e94\u5c3d\u53ef\u80fd\u7684\u5c11\u3002\u4e0e\u4f7f\u7528\u5916\u90e8\u53d8\u91cf\u6216\u5168\u5c40\u53d8\u91cf\u76f8\u6bd4\uff0c\u51fd\u6570\u83b7\u53d6\u201c\u8f93\u5165\u201d\u53d8\u91cf\u5e76\u4ea7\u751f\u7279\u5b9a\u201c\u8f93\u51fa\u201d\u7684\u4ee3\u7801\u8bbe\u8ba1\u66f4\u52a0\u6e05\u6670\uff0c\u4e0d\u6613\u51fa\u9519\u4e14\u66f4\u6613\u4e8e\u6d4b\u8bd5\u3002"),(0,l.kt)("p",null,"\u4e00\u822c\u6309\u5982\u4e0b\u65b9\u5f0f\u4f7f\u7528\uff0c\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528var\u58f0\u660e\u5168\u5c40\u53d8\u91cf\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// \u5c06\u5f53\u524d\u7528\u6237\u4fe1\u606f\u5168\u5c40\u5316\uff0c\u4ee5\u5141\u8bb8\u6240\u6709\u811a\u672c\u8bbf\u95ee\u5b83\nwindow.currentUser = {\n    name: "John"\n};\n\n// \u4ee3\u7801\u4e2d\u7684\u53e6\u4e00\u4e2a\u4f4d\u7f6e\nalert(currentUser.name);  // John\n// \u6216\u8005\uff0c\u5982\u679c\u6211\u4eec\u6709\u4e00\u4e2a\u540d\u4e3a "currentUser" \u7684\u5c40\u90e8\u53d8\u91cf\n// \u4ece window \u663e\u793a\u5730\u83b7\u53d6\u5b83\uff08\u8fd9\u662f\u5b89\u5168\u7684\uff01\uff09\nalert(window.currentUser.name); // John\n')),(0,l.kt)("h3",{id:"\u51fd\u6570\u5bf9\u8c61"},"\u51fd\u6570\u5bf9\u8c61"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5728 JavaScript \u4e2d\uff0c\u51fd\u6570\u5c31\u662f\u5bf9\u8c61\u3002"),"\u4e00\u4e2a\u5bb9\u6613\u7406\u89e3\u7684\u65b9\u5f0f\u662f\u628a\u51fd\u6570\u60f3\u8c61\u6210\u53ef\u88ab\u8c03\u7528\u7684\u201c\u884c\u4e3a\u5bf9\u8c61\uff08action object\uff09\u201d\u3002\u6211\u4eec\u4e0d\u4ec5\u53ef\u4ee5\u8c03\u7528\u5b83\u4eec\uff0c\u8fd8\u80fd\u628a\u5b83\u4eec\u5f53\u4f5c\u5bf9\u8c61\u6765\u5904\u7406\uff1a\u589e/\u5220\u5c5e\u6027\uff0c\u6309\u5f15\u7528\u4f20\u9012\u7b49\u3002"),(0,l.kt)("p",null,"1.name\u5c5e\u6027"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let user = {\n    sayHi() {\n    },\n    sayBye: function() {\n    }\n}\n\nalert(user.sayHi.name); // sayHi\nalert(user.sayBye.name); // sayBye\n")),(0,l.kt)("p",null,"2.length\u5c5e\u6027\uff1a\u8fd4\u56de\u51fd\u6570\u5165\u53c2\u7684\u4e2a\u6570"),(0,l.kt)("p",null,"3.\u81ea\u5b9a\u4e49\u5c5e\u6027"),(0,l.kt)("p",null,"\u5c5e\u6027\u7684\u5b9a\u4e49\u548c\u4f7f\u7528\u4e0a\u4e0b\u8981\u4fdd\u6301\u4e00\u81f4\uff0c\u6bd4\u5982\u8fd9\u91cc\u5b9a\u4e49",(0,l.kt)("inlineCode",{parentName:"p"},"sayHi.counter")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'function sayHi() {\n    alert("Hi");\n    // \u8ba1\u7b97\u8c03\u7528\u6b21\u6570\n    sayHi.counter++;\n}\nsayHi.counter = 0; // \u521d\u59cb\u503c\n')),(0,l.kt)("p",null,"!> \u5c5e\u6027\u4e0d\u662f\u53d8\u91cf\uff0c\u88ab\u8d4b\u503c\u7ed9\u51fd\u6570\u7684\u5c5e\u6027\uff0c\u6bd4\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"sayHi.counter = 0"),"\uff0c\u4e0d\u4f1a\u5728\u51fd\u6570\u5185\u5b9a\u4e49\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf ",(0,l.kt)("inlineCode",{parentName:"p"},"counter"),"\u3002"),(0,l.kt)("p",null,"\u4e0e\u95ed\u5305\u7684\u6bd4\u8f83\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function makeCounter() {\n    // \u4e0d\u9700\u8981\u8fd9\u4e2a\u4e86\n    // let count = 0\n    function counter() {\n        return counter.count++;\n    };\n    counter.count = 0;\n    return counter;\n}\n\nlet counter = makeCounter();\nconsole.log( counter() ); // 0\nconsole.log( counter() ); // 1\ncounter.count = 10;\nconsole.log( counter() ); // 10\n")),(0,l.kt)("p",null,"\u4e24\u8005\u6700\u5927\u7684\u4e0d\u540c\u5c31\u662f\u5982\u679c ",(0,l.kt)("inlineCode",{parentName:"p"},"count")," \u7684\u503c\u4f4d\u4e8e\u5916\u5c42\uff08\u51fd\u6570\uff09\u53d8\u91cf\u4e2d\uff0c\u90a3\u4e48\u5916\u90e8\u7684\u4ee3\u7801\u65e0\u6cd5\u8bbf\u95ee\u5230\u5b83\uff0c\u53ea\u6709\u5d4c\u5957\u7684\u51fd\u6570\u53ef\u4ee5\u4fee\u6539\u5b83\u3002\u800c\u5982\u679c\u5b83\u662f\u7ed1\u5b9a\u5230\u51fd\u6570\u7684\uff0c\u90a3\u4e48\u5c31\u5f88\u5bb9\u6613\u3002"),(0,l.kt)("p",null,"4.\u547d\u540d\u51fd\u6570\u8868\u8fbe\u5f0f\uff08NFE\uff0cNamed Function Expression\uff09\uff0c\u6307\u5e26\u6709\u540d\u5b57\u7684\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u672f\u8bed\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let sayHi = function func(who) {\n    if (who) {\n        alert(`Hello, ${who}`);\n    } else {\n        func("Guest"); // \u4f7f\u7528 func \u518d\u6b21\u8c03\u7528\u51fd\u6570\u81ea\u8eab\n    }\n};\n\nsayHi(); // Hello, Guest\n\n// \u4f46\u8fd9\u4e0d\u5de5\u4f5c\uff1a\nfunc(); // Error, func is not defined\uff08\u5728\u51fd\u6570\u5916\u4e0d\u53ef\u89c1\uff09\n')),(0,l.kt)("p",null,"\u5173\u4e8e\u540d\u5b57 ",(0,l.kt)("inlineCode",{parentName:"p"},"func")," \u6709\u4e24\u4e2a\u7279\u6b8a\u7684\u5730\u65b9\uff0c\u8fd9\u5c31\u662f\u6dfb\u52a0\u5b83\u7684\u539f\u56e0\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5b83",(0,l.kt)("strong",{parentName:"li"},"\u5141\u8bb8\u51fd\u6570\u5728\u5185\u90e8\u5f15\u7528\u81ea\u5df1"),"\uff0c\u7528\u4e8e\u9012\u5f52\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u5b83",(0,l.kt)("strong",{parentName:"li"},"\u5728\u51fd\u6570\u5916\u662f\u4e0d\u53ef\u89c1"),"\u7684\u3002")),(0,l.kt)("p",null,"!> \u51fd\u6570\u58f0\u660e\u6ca1\u6709\u8fd9\u4e2a\u4e1c\u897f\uff0c\u8fd9\u79cd\u65b9\u5f0f\u53ea\u9002\u7528\u4e8e\u51fd\u6570\u8868\u8fbe\u5f0f"),(0,l.kt)("h3",{id:"new-function"},"new Function"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let func = new Function ([arg1, arg2, ...argN], functionBody);\n")),(0,l.kt)("p",null,"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"new Function")," \u521b\u5efa\u7684\u51fd\u6570\uff0c\u5b83\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"[[Environment]]")," \u6307\u5411\u5168\u5c40\u8bcd\u6cd5\u73af\u5883\uff0c\u800c\u4e0d\u662f\u51fd\u6570\u6240\u5728\u7684\u5916\u90e8\u8bcd\u6cd5\u73af\u5883\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4e0d\u80fd\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"new Function")," \u4e2d\u76f4\u63a5\u4f7f\u7528\u5916\u90e8\u53d8\u91cf\u3002"),(0,l.kt)("h3",{id:"\u8c03\u5ea6"},"\u8c03\u5ea6"),(0,l.kt)("p",null,"1.\u5ef6\u8fdf\u8c03\u7528\u4e00\u6b21\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"setTimeout")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"func|code"),"\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u6267\u884c\u51fd\u6570"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"delay"),"\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u6267\u884c\u524d\u7684\u5ef6\u65f6"),"\uff0c\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff081000 \u6beb\u79d2 = 1 \u79d2\uff09\uff0c\u9ed8\u8ba4\u503c\u662f 0\uff1b"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"arg1"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"arg2"),"\uff1a\u8981\u4f20\u5165\u88ab",(0,l.kt)("strong",{parentName:"p"},"\u6267\u884c\u51fd\u6570\u7684\u53c2\u6570\u5217\u8868"),"\uff08IE9 \u4ee5\u4e0b\u4e0d\u652f\u6301\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function sayHi(phrase, who) {\n    alert( phrase + ', ' + who );\n}\nsetTimeout(sayHi, 1000, \"Hello\", \"John\");\n/******************\nHello, John\n******************/\n// \u6216\u8005\u4f7f\u7528\u7bad\u5934\u51fd\u6570\uff0c\u8fd9\u662f\u6bd4\u8f83\u5e38\u7528\u7684\u5199\u6cd5\nsetTimeout(() => alert('Hello'), 1000);\n")),(0,l.kt)("p",null,"!> ",(0,l.kt)("inlineCode",{parentName:"p"},"setTimeout(sayHi(), 1000);"),"\uff0c\u8fd9\u79cd\u5199\u6cd5\u5927\u9519\u7279\u9519\uff0csayHi\u540e\u5343\u4e07\u4e0d\u8981\u52a0()"),(0,l.kt)("p",null,"\u53ef\u4ee5\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"clearTimeout"),"\u53d6\u6d88\u8c03\u5ea6\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let timerId = setTimeout(...);\nclearTimeout(timerId);\n")),(0,l.kt)("p",null,"2.\u5ef6\u8fdf\u53cd\u590d\u8c03\u7528\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"setInterval")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u6bcf 2 \u79d2\u91cd\u590d\u4e00\u6b21\nlet timerId = setInterval(() => alert('tick'), 2000);\n// 5 \u79d2\u4e4b\u540e\u505c\u6b62\nsetTimeout(() => { clearInterval(timerId); alert('stop'); }, 5000);\n")),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(8400).Z,width:"871",height:"256"})),(0,l.kt)("p",null,"3.\u5d4c\u5957",(0,l.kt)("inlineCode",{parentName:"p"},"setTimeout"),"\u5b9e\u73b0\u5468\u671f\u6027\u8c03\u5ea6"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let i = 1;\nsetTimeout(function run() {\n    func(i++);\n    setTimeout(run, 100);\n}, 100);\n")),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(8839).Z,width:"863",height:"277"})),(0,l.kt)("p",null,"4.\u96f6\u5ef6\u65f6\u7684setTimeout"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'setTimeout(() => alert("World"));\nalert("Hello");\n/**********************\n\u5148\u8f93\u51fa"Hello"\uff0c\u518d\u8f93\u51fa"World"\n**********************/\n')),(0,l.kt)("p",null,"\u7b2c\u4e00\u884c\u4ee3\u7801\u201c\u5c06\u8c03\u7528\u5b89\u6392\u5230\u65e5\u7a0b\uff08calendar\uff090 \u6beb\u79d2\u5904\u201d\u3002\u4f46\u662f\u8c03\u5ea6\u7a0b\u5e8f\u53ea\u6709\u5728\u5f53\u524d\u811a\u672c\u6267\u884c\u5b8c\u6bd5\u65f6\u624d\u4f1a\u53bb\u201c\u68c0\u67e5\u65e5\u7a0b\u201d\uff0c\u6240\u4ee5\u5148\u8f93\u51fa ",(0,l.kt)("inlineCode",{parentName:"p"},'"Hello"'),"\uff0c\u7136\u540e\u624d\u8f93\u51fa ",(0,l.kt)("inlineCode",{parentName:"p"},'"World"'),"\u3002"),(0,l.kt)("h3",{id:"\u88c5\u9970\u5668\u6a21\u5f0f\u4e0e\u8f6c\u53d1"},"\u88c5\u9970\u5668\u6a21\u5f0f\u4e0e\u8f6c\u53d1"),(0,l.kt)("p",null,"\u8fd9\u90e8\u5206\u6709\u70b9\u6ca1\u770b\u61c2\uff0c\u8bb0\u4e0b\u5b98\u7f51\u5730\u5740\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://zh.javascript.info/call-apply-decorators"},"\u88c5\u9970\u5668\u6a21\u5f0f\u548c\u8f6c\u53d1\uff0ccall/apply (javascript.info)")),(0,l.kt)("p",null,"1.\u900f\u660e\u7f13\u5b58"),(0,l.kt)("p",null,"\u4e3a\u5565\u8bf4\u662f\u900f\u660e\u7f13\u5b58\uff0c\u5c31\u662f\u8bf4\u5b83\u7684\u673a\u5236\u5f88\u50cf\u771f\u5b9e\u7f13\u5b58\uff0c\u4f46\u662f\u5e76\u4e0d\u662f\uff0c\u800c\u662f\u901a\u8fc7\u5305\u88c5\u5668\u6a21\u5f0f\u5b9e\u73b0\u7684\uff0c\u5c06\u547d\u4e2d\u7684cache\u4fdd\u5b58\u5728Map\u4e2d"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function slow(x) {\n    // \u8fd9\u91cc\u53ef\u80fd\u4f1a\u6709\u91cd\u8d1f\u8f7d\u7684 CPU \u5bc6\u96c6\u578b\u5de5\u4f5c\n    alert(`Called with ${x}`);\n    return x;\n}\nfunction cachingDecorator(func) {\n    let cache = new Map();\n    return function(x) {\n        // \u547d\u4e2dcache\n        if (cache.has(x)) {\n            return cache.get(x);\n        }\n        // \u6ca1\u547d\u4e2d\n        let result = func(x);  // \u5426\u5219\u5c31\u8c03\u7528 func\n        cache.set(x, result);  // \u7136\u540e\u5c06\u7ed3\u679c\u7f13\u5b58\uff08\u8bb0\u4f4f\uff09\u4e0b\u6765\n        return result;\n    };\n}\nslow = cachingDecorator(slow);\n")),(0,l.kt)("p",null,"2.",(0,l.kt)("inlineCode",{parentName:"p"},"func.call")),(0,l.kt)("p",null,"\u5b83\u8fd0\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"func"),"\uff0c\u63d0\u4f9b\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f5c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"this"),"\uff0c\u540e\u9762\u7684\u4f5c\u4e3a\u53c2\u6570\uff08arguments\uff09\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'function sayHi(sex) {\n    console.log(this.name+" "+sex);\n}\nlet user = { name: "John" };\nlet admin = { name: "Admin" };\n// \u4f7f\u7528 call \u5c06\u4e0d\u540c\u7684\u5bf9\u8c61\u4f20\u9012\u4e3a "this"\nsayHi.call( user,"\u7cd9\u6c49\u5b50" );\nsayHi.call( admin,"\u5c0f\u59d1\u51c9" );\n/***************\nJohn \u7cd9\u6c49\u5b50\nAdmin \u5c0f\u59d1\u51c9\n***************/\n')),(0,l.kt)("p",null,"3.",(0,l.kt)("inlineCode",{parentName:"p"},"func.apply")),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"func.apply(this, arguments)")," \u4ee3\u66ff ",(0,l.kt)("inlineCode",{parentName:"p"},"func.call(this, ...arguments)"),"\u3002"),(0,l.kt)("p",null,"\u8fd9\u91cc\u53ea\u6709\u5f88\u5c0f\u7684\u533a\u522b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Spread \u8bed\u6cd5 ",(0,l.kt)("inlineCode",{parentName:"li"},"...")," \u5141\u8bb8\u5c06 ",(0,l.kt)("strong",{parentName:"li"},"\u53ef\u8fed\u4ee3\u5bf9\u8c61")," ",(0,l.kt)("inlineCode",{parentName:"li"},"args")," \u4f5c\u4e3a\u5217\u8868\u4f20\u9012\u7ed9 ",(0,l.kt)("inlineCode",{parentName:"li"},"call"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"apply")," \u4ec5\u63a5\u53d7 ",(0,l.kt)("strong",{parentName:"li"},"\u7c7b\u6570\u7ec4\u5bf9\u8c61")," ",(0,l.kt)("inlineCode",{parentName:"li"},"args"),"\u3002")),(0,l.kt)("p",null,"\u56e0\u6b64\uff0c\u5f53\u6211\u4eec\u671f\u671b\u53ef\u8fed\u4ee3\u5bf9\u8c61\u65f6\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"call"),"\uff0c\u5f53\u6211\u4eec\u671f\u671b\u7c7b\u6570\u7ec4\u5bf9\u8c61\u65f6\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"apply"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let wrapper = function() {\n    return func.apply(this, arguments);\n};\n")),(0,l.kt)("h3",{id:"\u51fd\u6570\u7ed1\u5b9a"},"\u51fd\u6570\u7ed1\u5b9a"),(0,l.kt)("h4",{id:"\u4e22\u5931this"},"\u4e22\u5931this"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let user = {\n    firstName: "John",\n    sayHi() {\n        alert(`Hello, ${this.firstName}!`);\n    }\n};\n\nsetTimeout(user.sayHi, 1000); // Hello, undefined!\n')),(0,l.kt)("p",null,"\u6b63\u5982\u6211\u4eec\u6240\u770b\u5230\u7684\uff0c\u8f93\u51fa\u6ca1\u6709\u50cf ",(0,l.kt)("inlineCode",{parentName:"p"},"this.firstName")," \u90a3\u6837\u663e\u793a \u201cJohn\u201d\uff0c\u800c\u663e\u793a\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"undefined"),"\uff01"),(0,l.kt)("p",null,"\u8fd9\u662f\u56e0\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"setTimeout")," \u83b7\u53d6\u5230\u4e86\u51fd\u6570 ",(0,l.kt)("inlineCode",{parentName:"p"},"user.sayHi"),"\uff0c\u4f46\u5b83\u548c\u5bf9\u8c61\u5206\u79bb\u5f00\u4e86\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u95ee\u9898\uff1a\u6211\u4eec\u60f3\u5c06\u4e00\u4e2a\u5bf9\u8c61\u65b9\u6cd5\u4f20\u9012\u5230\u522b\u7684\u5730\u65b9\uff08\u8fd9\u91cc \u2014\u2014 \u4f20\u9012\u5230\u8c03\u5ea6\u7a0b\u5e8f\uff09\uff0c\u7136\u540e\u5728\u8be5\u4f4d\u7f6e\u8c03\u7528\u5b83\u3002\u5982\u4f55\u786e\u4fdd\u5728\u6b63\u786e\u7684\u4e0a\u4e0b\u6587\u4e2d\u8c03\u7528\u5b83\uff1f")),(0,l.kt)("h4",{id:"\u51fd\u6570\u7ed1\u5b9a-1"},"\u51fd\u6570\u7ed1\u5b9a"),(0,l.kt)("p",null,"\uff081\uff09\u5305\u88c5\u5668"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let user = {\n  firstName: "John",\n  sayHi() {\n    alert(`Hello, ${this.firstName}!`);\n  }\n};\nsetTimeout(function() {\n  user.sayHi(); // Hello, John!\n}, 1000);\n')),(0,l.kt)("p",null,"\uff082\uff09bind"),(0,l.kt)("p",null,"\u65b0\u51fd\u6570\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"this")," \u88ab\u6307\u5b9a\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"bind()")," \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u800c\u5176\u4f59\u53c2\u6570\u5c06\u4f5c\u4e3a\u65b0\u51fd\u6570\u7684\u53c2\u6570\uff0c\u4f9b\u8c03\u7528\u65f6\u4f7f\u7528\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let boundFunc = func.bind(context);\n")),(0,l.kt)("p",null,"\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(6566).Z,width:"788",height:"460"})),(0,l.kt)("p",null,"\u5176\u4ed6\u53c2\u6570\u7684\u4f7f\u7528\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function mul(a, b) {\n  return a * b;\n}\n\nlet triple = mul.bind(null, 3);\n\nalert( triple(3) ); // = mul(3, 3) = 9\nalert( triple(4) ); // = mul(3, 4) = 12\nalert( triple(5) ); // = mul(3, 5) = 15\n")),(0,l.kt)("p",null,"\u4e00\u4e2a\u51fd\u6570\u4e0d\u80fd\u88ab\u91cd\u7ed1\u5b9a\uff08re-bound\uff09\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'function f() {\n    console.log(this.name);\n}\nf = f.bind( {name: "John"} ).bind( {name: "Pete"} );\nf(); // John\n')),(0,l.kt)("h3",{id:"\u7bad\u5934\u51fd\u6570"},"\u7bad\u5934\u51fd\u6570"),(0,l.kt)("p",null,"1.\u6ca1\u6709this"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let group = {\n    title: "Our Group",\n    students: ["John", "Pete", "Alice"],\n    showList() {\n        this.students.forEach(\n            student => alert(this.title + \': \' + student)\n        );\n    }\n};\ngroup.showList();\n// \u6b63\u5e38\u4f7f\u7528\u5c31\u4f1a\u62a5\u9519\n// \u62a5\u9519\u662f\u56e0\u4e3aforEach\u8fd0\u884c\u5b83\u91cc\u9762\u7684\u8fd9\u4e2a\u51fd\u6570,\u4f46\u662f\u8fd9\u4e2a\u51fd\u6570\u7684this \u4e3a\u9ed8\u8ba4\u503cundefined\nlet group = {\n    title: "Our Group",\n    students: ["John", "Pete", "Alice"],\n    showList() {\n        this.students.forEach(function(student) {\n            // Error: Cannot read property \'title\' of undefined\n            alert(this.title + \': \' + student)\n        });\n    }\n};\ngroup.showList();\n')),(0,l.kt)("p",null,"\u8fd9\u91cc ",(0,l.kt)("inlineCode",{parentName:"p"},"forEach")," \u4e2d\u4f7f\u7528\u4e86\u7bad\u5934\u51fd\u6570\uff0c\u6240\u4ee5\u5176\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"this.title")," \u5176\u5b9e\u548c\u5916\u90e8\u65b9\u6cd5 ",(0,l.kt)("inlineCode",{parentName:"p"},"showList")," \u7684\u5b8c\u5168\u4e00\u6837\u3002\u90a3\u5c31\u662f\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"group.title"),"\u3002"),(0,l.kt)("p",null,"!> \u56e0\u4e3a\u6ca1\u6709this\uff0c\u6240\u6709\u7bad\u5934\u51fd\u6570\u4e0d\u80fd\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\uff0c\u5373\u4e0d\u80fdnew"),(0,l.kt)("p",null,"2.\u6ca1\u6709arguments"),(0,l.kt)("h2",{id:"\u4e94\u5bf9\u8c61\u5c5e\u6027"},"\u4e94\u3001\u5bf9\u8c61\u5c5e\u6027"),(0,l.kt)("h3",{id:"\u5c5e\u6027\u6807\u5fd7\u548c\u5c5e\u6027\u63cf\u8ff0\u7b26"},"\u5c5e\u6027\u6807\u5fd7\u548c\u5c5e\u6027\u63cf\u8ff0\u7b26"),(0,l.kt)("p",null,"1.\u5bf9\u8c61\u5c5e\u6027"),(0,l.kt)("p",null,"\u5bf9\u8c61\u5c5e\u6027\uff08properties\uff09\uff0c\u9664",(0,l.kt)("inlineCode",{parentName:"p"},"value"),"\u5916\uff0c\u8fd8\u6709\u4e09\u4e2a\u7279\u6b8a\u7684\u7279\u6027\uff08attributes\uff09\uff0c\u4e5f\u5c31\u662f\u6240\u8c13\u7684\u201c\u6807\u5fd7\u201d\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"writable"),"\u2014\u2014\u5982\u679c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"true"),"\uff0c\u5219\u503c\u53ef\u4ee5\u88ab\u4fee\u6539\uff0c\u5426\u5219\u5b83\u662f\u53ea\u53ef\u8bfb\u7684\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"enumerable"),"\u2014\u2014\u5982\u679c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"true"),"\uff0c\u5219\u4f1a\u88ab\u5728\u5faa\u73af\u4e2d\u5217\u51fa\uff0c\u5426\u5219\u4e0d\u4f1a\u88ab\u5217\u51fa\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"configurable"),"\u2014\u2014\u5982\u679c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"true"),"\uff0c\u5219\u6b64\u7279\u6027\u53ef\u4ee5\u88ab\u5220\u9664\uff0c\u8fd9\u4e9b\u5c5e\u6027\u4e5f\u53ef\u4ee5\u88ab\u4fee\u6539\uff0c\u5426\u5219\u4e0d\u53ef\u4ee5\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let obj = {\n  name: "Lily"\n}\nlet descriptor = Object.getOwnPropertyDescriptor(obj, "name");\nconsole.log(descriptor);\n/*********************\n{ value: \'Lily\', writable: true, enumerable: true, configurable: true }\n*********************/\n')),(0,l.kt)("p",null,"\u4fee\u6539\u5c5e\u6027\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'Object.defineProperty(user, "name", {\n    value: "John"\n});\n')),(0,l.kt)("p",null,"2.\u53ea\u8bfb"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"writable: false"),"\uff0c\u4e0d\u53ef\u8bfb\uff0c\u53ea\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\u4f1a\u51fa\u73b0 Errors"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let user = { };\nObject.defineProperty(user, "name", {\n    value: "John",\n    // \u5bf9\u4e8e\u65b0\u5c5e\u6027,\u6211\u4eec\u9700\u8981\u660e\u786e\u5730\u5217\u51fa\u54ea\u4e9b\u662ftrue\n    enumerable: true,\n    configurable: true\n});\nconsole.log(user.name); // John\nuser.name = "Pete"; // Error\n')),(0,l.kt)("p",null,"3.\u4e0d\u53ef\u679a\u4e3e"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"enumerable: false"),"\uff1a\u4e0d\u53ef\u679a\u4e3e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'Object.defineProperty(user, "toString", {\n  enumerable: false\n});\n// \u4e0d\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\u4e5f\u4f1a\u88abObject.keys\u6392\u9664\nfor (let key in user) alert(key);\n')),(0,l.kt)("p",null,"4.\u4e0d\u53ef\u914d\u7f6e"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"configurable: false"),"\uff1a\u9632\u6b62\u66f4\u6539\u548c\u5220\u9664\u5c5e\u6027\u6807\u5fd7\uff0c\u4f46\u662f\u5141\u8bb8\u66f4\u6539\u5bf9\u8c61\u7684\u503c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let user = {\n  name: "John"\n};\nObject.defineProperty(user, "name", {\n  writable: false,\n  configurable: false\n});\n// \u4e0d\u80fd\u4fee\u6539 user.name \u6216\u5b83\u7684\u6807\u5fd7\n// \u4e0b\u9762\u7684\u6240\u6709\u64cd\u4f5c\u90fd\u4e0d\u8d77\u4f5c\u7528\uff1a\nuser.name = "Pete";\ndelete user.name;\n// configurable: false,\u56e0\u6b64\u4e0d\u53ef\u518d\u914d\u7f6e\nObject.defineProperty(user, "name", { value: "Pete" });\n')),(0,l.kt)("p",null,"5.",(0,l.kt)("inlineCode",{parentName:"p"},"Object.defineProperties")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'Object.defineProperties(user, {\n  name: { value: "John", writable: false },\n  surname: { value: "Smith", writable: false },\n  // ...\n});\n')),(0,l.kt)("h3",{id:"getter\u548csetter"},"getter\u548csetter"),(0,l.kt)("p",null,"1.\u5e38\u89c4\u8bbf\u95ee"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let user = {\n  name: "John",\n  surname: "Smith",\n  get fullName() {\n    return `${this.name} ${this.surname}`;\n  },\n  set fullName(value) {\n    [this.name, this.surname] = value.split(" ");\n  }\n};\nuser.fullName = "Alice Cooper"; // (\u8c03\u7528set)\nconsole.log(user.name); // Alice\nconsole.log(user.surname); // Cooper\nconsole.log(user.fullName); // Alice Cooper(\u8c03\u7528get)\n')),(0,l.kt)("p",null,"2.\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"p"},"Object.defineProperty"),"\u8bbf\u95ee"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"Object.defineProperty(user, 'fullName', {\n    get() {\n        return `${this.name} ${this.surname}`;\n    },\n    set(value) {\n        [this.name, this.surname] = value.split(\" \");\n    }\n});\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"get/set"),"\u65b9\u6cd5\u88ab",(0,l.kt)("inlineCode",{parentName:"p"},"value"),"\u4e0d\u80fd\u540c\u65f6\u517c\u5f97"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// Error: Invalid property descriptor.\nObject.defineProperty({}, 'prop', {\n    get() {\n        return 1\n    },\n    value: 2\n});\n")),(0,l.kt)("h2",{id:"\u516d\u539f\u578b\u7ee7\u627f"},"\u516d\u3001\u539f\u578b\u3001\u7ee7\u627f"),(0,l.kt)("h3",{id:"\u539f\u578bprototype\u539f\u578b\u94fe"},"\u539f\u578b\uff08prototype\uff09\u3001\u539f\u578b\u94fe"),(0,l.kt)("p",null,"\u4e0b\u9762\u7406\u8bba\u90fd\u662f\u57fa\u4e8e\u8fd9\u5f20\u56fe\uff0c\u975e\u5e38\u91cd\u8981\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(2150).Z,width:"534",height:"406"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u6709\u4e00\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},"__proto__"),"\u5c5e\u6027\uff0c\u5e76\u4e14\u6307\u5411\u5b83\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"prototype"),"\u539f\u578b\u5bf9\u8c61")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u6bcf\u4e2a\u6784\u9020\u51fd\u6570\u90fd\u6709\u4e00\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},"prototype"),"\u539f\u578b\u5bf9\u8c61")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"prototype"),"\u539f\u578b\u5bf9\u8c61\u91cc\u7684",(0,l.kt)("inlineCode",{parentName:"li"},"constructor"),"\u6307\u5411\u6784\u9020\u51fd\u6570\u672c\u8eab")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function Person(nick, age){\n    this.nick = nick;\n    this.age = age;\n}\nPerson.prototype.sayName = function(){\n    console.log(this.nick);\n}\nvar p1 = new Person('Byron',20);\nvar p2 = new Person('Casper',25);\n/*************************************/\n// \u4e0b\u9762\u8fdb\u884c\u6d4b\u8bd5\np1.__proto__ === Person.prototype           //true\np2.__proto__ === Person.prototype           //true\np1.__proto__ === p2.__proto__               //true\nPerson.prototype.constructor === Person     //true\n")),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(823).Z,width:"720",height:"500"})),(0,l.kt)("p",null,"\u5f53\u7136\uff0cPerson\u65e2\u662f\u51fd\u6570\u53c8\u662f\u5bf9\u8c61\uff0c\u6bd4\u8f83\u7279\u6b8a\uff0c\u56e0\u6b64\u53ef\u4ee5\u770b\u5230\u65e2\u6709",(0,l.kt)("inlineCode",{parentName:"p"},"prototype"),"\u53c8\u6709",(0,l.kt)("inlineCode",{parentName:"p"},"__proto__"),"\uff0c\u5b83\u65e2\u53ef\u4f5c\u6784\u9020\u51fd\u6570\uff0c\u53c8\u53ef\u4f5c\u5b9e\u4f8b\u5bf9\u8c61"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(8975).Z,width:"708",height:"252"})),(0,l.kt)("p",null,"\u518d\u770b\u4e00\u6bb5\u4ee3\u7801\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var arr = [1,2,3]\narr.valueOf()   // [1, 2, 3]\n/*************************************/\n// \u4e0b\u9762\u8fdb\u884c\u6d4b\u8bd5\narr.__proto__ === Array.prototype               // true\nArray.prototype.__proto__ === Object.prototype  // true\narr.__proto__.__proto__ === Object.prototype    // true\n// \u539f\u578b\u94fe\u7684\u7ec8\u70b9\nObject.prototype.__proto__ === null             // true\n")),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(8470).Z,width:"720",height:"685"})),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u539f\u578b\u5bf9\u8c61\u4e2d\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"constructor"),"\u5e76\u6ca1\u6709\u6807\u51fa\uff0c\u9700\u8981\u6ce8\u610f")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"valueOf()"),"\u51fd\u6570\u4e0d\u80fd\u518d",(0,l.kt)("inlineCode",{parentName:"p"},"Array.prototype"),"\u4e2d\u627e\u5230\uff0c\u56e0\u6b64\u6cbf\u7740\u539f\u578b\u94fe\u8fdb\u884c\u67e5\u627e\uff0c\u539f\u578b\u94fe\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"arr ---\x3e Array.prototype ---\x3e Object.prototype ---\x3e null")),(0,l.kt)("p",null,"\u5982\u679c\u5230\u94fe\u5934\u4e86\u8fd8\u662f\u6ca1\u6709\u627e\u5230\uff0c\u5c31\u8fd4\u56deundefined"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u539f\u578b\u94fe\u6709\u5f20\u56fe\uff0c\u8868\u793a\u4e86\u5404\u4e2a\u5173\u7cfb\u4e4b\u95f4\u662f\u5982\u4f55\u8fde\u63a5\u7684")),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(2461).Z,width:"1498",height:"1172"})),(0,l.kt)("h3",{id:"\u539f\u578b\u7ee7\u627f"},"\u539f\u578b\u7ee7\u627f"),(0,l.kt)("p",null,"\u8fd9\u91cc\u6709\u4e09\u4e2a\u9650\u5236\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5f15\u7528\u4e0d\u80fd\u5f62\u6210\u95ed\u73af\u3002"),"\u5982\u679c\u6211\u4eec\u8bd5\u56fe\u5728\u4e00\u4e2a\u95ed\u73af\u4e2d\u5206\u914d ",(0,l.kt)("inlineCode",{parentName:"li"},"__proto__"),"\uff0cJavaScript \u4f1a\u629b\u51fa\u9519\u8bef\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"__proto__")," \u7684\u503c\u53ef\u4ee5\u662f\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"null"),"\u3002\u800c\u5176\u4ed6\u7684\u7c7b\u578b\u90fd\u4f1a\u88ab\u5ffd\u7565\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u53ea\u80fd\u6709\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"li"},"[[Prototype]]"),"\u3002\u4e00\u4e2a\u5bf9\u8c61\u4e0d\u80fd\u4ece\u5176\u4ed6\u4e24\u4e2a\u5bf9\u8c61\u83b7\u5f97\u7ee7\u627f\u3002")),(0,l.kt)("h4",{id:"\u5c5e\u6027\u7ee7\u627f"},"\u5c5e\u6027\u7ee7\u627f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function Person (name, age) {\n    this.name = name\n    this.age = age\n}\n// \u65b9\u6cd5\u5b9a\u4e49\u5728\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u4e0a\nPerson.prototype.getName = function () { \n    console.log(this.name)\n}\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function Teacher (name, age, subject) {\n    Person.call(this, name, age)\n    this.subject = subject\n}\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5c5e\u6027\u7684\u7ee7\u627f\u662f\u901a\u8fc7\u5728\u4e00\u4e2a\u7c7b\u5185\u6267\u884c\u53e6\u5916\u4e00\u4e2a\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0c\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"strong"},"call"),"\u6307\u5b9a",(0,l.kt)("inlineCode",{parentName:"strong"},"this"),"\u4e3a\u5f53\u524d\u6267\u884c\u73af\u5883\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5f97\u5230\u53e6\u5916\u4e00\u4e2a\u7c7b\u7684\u6240\u6709\u5c5e\u6027\u3002")),(0,l.kt)("p",null,"\u6211\u4eec\u5b9e\u4f8b\u5316\u4e00\u4e0b\u770b\u770b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var teacher = new Teacher('Jack', 25, \"Math\");\n")),(0,l.kt)("p",null,"\u5f88\u660e\u663e",(0,l.kt)("inlineCode",{parentName:"p"},"Teacher"),"\u6210\u529f\u7ee7\u627f\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"Person"),"\u7684\u5c5e\u6027"),(0,l.kt)("h4",{id:"\u65b9\u6cd5\u7ee7\u627f"},"\u65b9\u6cd5\u7ee7\u627f"),(0,l.kt)("p",null,"\u6211\u4eec\u90fd\u77e5\u9053\u7c7b\u7684\u65b9\u6cd5\u90fd\u5b9a\u4e49\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"prototype"),"\u91cc\uff0c\u90a3\u5176\u5b9e\u6211\u4eec\u53ea\u9700\u8981\u628a",(0,l.kt)("inlineCode",{parentName:"p"},"Person.prototype"),"\u7684\u5907\u4efd\u8d4b\u503c\u7ed9",(0,l.kt)("inlineCode",{parentName:"p"},"Teacher.prototype"),"\u5373\u53ef"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u6df1\u62f7\u8d1d\nTeacher.prototype = Object.create(Person.prototype)\nTeacher.prototype.constructor = Teacher\n")),(0,l.kt)("h3",{id:"\u539f\u751f\u7684\u539f\u578b"},"\u539f\u751f\u7684\u539f\u578b"),(0,l.kt)("h4",{id:"object\u539f\u578b"},"Object\u539f\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let obj = new Object();\nlet obj = {};\nconsole.log(obj);\n")),(0,l.kt)("p",null,"Objcet\u7684\u539f\u578b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(9773).Z,width:"497",height:"418"})),(0,l.kt)("p",null,"\u6574\u4e2a\u8fc7\u7a0b\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(8187).Z,width:"520",height:"228"})),(0,l.kt)("h4",{id:"\u5176\u4ed6\u5185\u5efa\u539f\u578b"},"\u5176\u4ed6\u5185\u5efa\u539f\u578b"),(0,l.kt)("p",null,"\u4e4b\u524d\u7528\u8fc7\u7684Array\u3001Function\u3001Number\u3001String\u3001Boolean\u90fd\u6709\u76f8\u5e94\u7684\u539f\u578b"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(3463).Z,width:"720",height:"428"})),(0,l.kt)("p",null,"\u539f\u751f\u7684\u539f\u578b\u53ef\u4ee5\u88ab\u4fee\u6539\uff0c\u4f8b\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'String.prototype.show = function() {\n    console.log(this);\n};\n"BOOM!".show(); // BOOM!\n')),(0,l.kt)("p",null,"!> \u539f\u578b\u662f\u5168\u5c40\u7684\uff0c\u4fee\u6539\u5bb9\u6613\u51fa\u73b0\u51b2\u7a81\uff0c\u56e0\u6b64\u4e00\u822c\u4e0d\u8fd9\u4e48\u505a"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5728\u73b0\u4ee3\u7f16\u7a0b\u4e2d\uff0c\u53ea\u6709\u4e00\u79cd\u60c5\u51b5\u4e0b\u5141\u8bb8\u4fee\u6539\u539f\u751f\u539f\u578b\u3002\u90a3\u5c31\u662f polyfilling\u3002")),(0,l.kt)("p",null,"Polyfilling \u662f\u4e00\u4e2a\u672f\u8bed\uff0c\u8868\u793a\u67d0\u4e2a\u65b9\u6cd5\u5728 JavaScript \u89c4\u8303\u4e2d\u5df2\u5b58\u5728\uff0c\u4f46\u662f\u7279\u5b9a\u7684 JavaScript \u5f15\u64ce\u5c1a\u4e0d\u652f\u6301\u8be5\u65b9\u6cd5\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u624b\u52a8\u5b9e\u73b0\u5b83\uff0c\u5e76\u7528\u4ee5\u586b\u5145\u5185\u5efa\u539f\u578b\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'if (!String.prototype.repeat) { // \u5982\u679c\u8fd9\u513f\u6ca1\u6709\u8fd9\u4e2a\u65b9\u6cd5\n    // \u90a3\u5c31\u5728 prototype \u4e2d\u6dfb\u52a0\u5b83\n    String.prototype.repeat = function(n) {\n        // \u91cd\u590d\u4f20\u5165\u7684\u5b57\u7b26\u4e32 n \u6b21\n\n        // \u5b9e\u9645\u4e0a\uff0c\u5b9e\u73b0\u4ee3\u7801\u6bd4\u8fd9\u4e2a\u8981\u590d\u6742\u4e00\u4e9b\uff08\u5b8c\u6574\u7684\u65b9\u6cd5\u53ef\u4ee5\u5728\u89c4\u8303\u4e2d\u627e\u5230\uff09\n        // \u4f46\u5373\u4f7f\u662f\u4e0d\u591f\u5b8c\u7f8e\u7684 polyfill \u4e5f\u5e38\u5e38\u88ab\u8ba4\u4e3a\u662f\u8db3\u591f\u597d\u7684\n        return new Array(n + 1).join(this);\n    };\n}\n\nalert( "La".repeat(3) ); // LaLaLa\n')),(0,l.kt)("h2",{id:"\u4e03\u7c7b"},"\u4e03\u3001\u7c7b"),(0,l.kt)("h3",{id:"\u7c7b\u7684\u57fa\u672c\u8bed\u6cd5"},"\u7c7b\u7684\u57fa\u672c\u8bed\u6cd5"),(0,l.kt)("p",null,"1.Class"),(0,l.kt)("p",null,"\u5728 JavaScript \u4e2d\uff0c\u7c7b\u662f\u4e00\u79cd\u51fd\u6570\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'class User {\n    constructor(name) {\n        this.name = name;\n    }\n    showName() {\n        console.log(this.name);\n    }\n    sayHello(){\n        console.log(this.name+",Hello");\n    }\n    sayHi(){\n        console.log(this.name+",Hi");\n    }\n}\n// \u7528\u6cd5\uff1a\nlet user = new User("John");\nuser.sayHi();\nuser.sayHello();\nuser.showName();\n')),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(4991).Z,width:"680",height:"524"})),(0,l.kt)("p",null,"\u5229\u7528constructor\u521b\u5efa\u7684\u5b9e\u4f8b\u5bf9\u8c61user\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"__proto__"),"\u6307\u5411User\u51fd\u6570\u5bf9\u8c61\u7684\u539f\u578b"),(0,l.kt)("p",null,"\u4f7f\u7528\u7c7b\u7684\u4e0e\u666e\u901a\u65b9\u5f0f\u7684\u533a\u522b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5c5e\u6027",(0,l.kt)("inlineCode",{parentName:"li"},'[[FunctionKind]]:"classConstructor"'),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5fc5\u987b\u7528new\u6765\u8c03\u7528\u5b83"),(0,l.kt)("li",{parentName:"ul"},"\u5927\u591a\u6570 JavaScript \u5f15\u64ce\u4e2d\u7684\u7c7b\u6784\u9020\u5668\u7684\u5b57\u7b26\u4e32\u8868\u793a\u5f62\u5f0f\u90fd\u4ee5 \u201cclass\u2026\u201d \u5f00\u5934"))),(0,l.kt)("li",{parentName:"ul"},"\u7c7b\u65b9\u6cd5\u4e0d\u53ef\u679a\u4e3e\uff0c\u5373enumerable==false"),(0,l.kt)("li",{parentName:"ul"},"\u7c7b\u603b\u662fuse strict")),(0,l.kt)("p",null,"2.\u7c7b\u8868\u8fbe\u5f0f"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u4e0e\u51fd\u6570\u8868\u8fbe\u5f0f\u7c7b\u4f3c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let User = class {};\nlet User = class MyClass{}; // MyClass\u53ea\u80fd\u5728\u5185\u90e8\u8c03\u7528\n")),(0,l.kt)("p",null,"3.Getter/Setter"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class User {\n    constructor() {\u2026\u2026}\n    get name() {\u2026\u2026}\n    set name(value) {\u2026\u2026}\n}\n")),(0,l.kt)("p",null,"\u8fd9\u6837\u7684\u7c7b\u58f0\u660e\u53ef\u4ee5\u901a\u8fc7\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"User.prototype")," \u4e2d\u521b\u5efa getters \u548c setters \u6765\u5b9e\u73b0\u3002"),(0,l.kt)("p",null,"4.\u8ba1\u7b97\u5c5e\u6027\u540d\u79f0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class User {\n    ['say' + 'Hi']() {\n        alert(\"Hello\");\n    }\n}\nnew User().sayHi();\n")),(0,l.kt)("p",null,"5.\u5904\u7406this\u4e22\u5931\u95ee\u9898"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4f20\u9012\u4e00\u4e2a\u5305\u88c5\u51fd\u6570\uff0c\u4f8b\u5982 ",(0,l.kt)("inlineCode",{parentName:"li"},"setTimeout(() => button.click(), 1000)"),"\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u5c06\u65b9\u6cd5\u7ed1\u5b9a\u5230\u5bf9\u8c61\uff0c\u4f8b\u5982\u5728 constructor \u4e2d\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u7c7b\u4e2d\u7684\u7bad\u5934\u51fd\u6570")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class Button {\n    constructor(value) {\n        this.value = value;\n    }\n    click = () => {\n        alert(this.value);\n    }\n}\n")),(0,l.kt)("h3",{id:"\u7c7b\u7ee7\u627f"},"\u7c7b\u7ee7\u627f"),(0,l.kt)("p",null,"1.extend"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class Rabbit extends Animal{}\n")),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(4114).Z,width:"720",height:"416"})),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"Rabbit")," \u51fd\u6570\u539f\u578b\u7ee7\u627f\u81ea ",(0,l.kt)("inlineCode",{parentName:"li"},"Animal")," \u51fd\u6570\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"Rabbit.prototype")," \u539f\u578b\u7ee7\u627f\u81ea ",(0,l.kt)("inlineCode",{parentName:"li"},"Animal.prototype"),"\u3002")),(0,l.kt)("p",null,"\u95ed\u5305\u5f62\u5f0f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'function f(phrase) {\n    return class {\n        sayHi() { alert(phrase); }\n    };\n}\nclass User extends f("Hello") {}\nnew User().sayHi(); // Hello\n')),(0,l.kt)("p",null,"2.super"),(0,l.kt)("p",null,"\u8ddfJava\u4e2d\u7c7b\u4f3c\uff0cthis\u672c\u7ea7\u7c7b\uff0csuper\u7236\u7c7b"),(0,l.kt)("p",null,"\u7bad\u5934\u51fd\u6570\u6ca1\u6709super"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"li"},"super.method(...)")," \u6765\u8c03\u7528\u4e00\u4e2a\u7236\u7c7b\u65b9\u6cd5\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"li"},"super(...)")," \u6765\u8c03\u7528\u4e00\u4e2a\u7236\u7c7b constructor")),(0,l.kt)("p",null,"3.\u91cd\u5199\u65b9\u6cd5\uff0c\u4e0eJava\u4e2d\u7c7b\u4f3c"),(0,l.kt)("p",null,"4.\u91cd\u5199constructor"),(0,l.kt)("p",null,"!> ",(0,l.kt)("strong",{parentName:"p"},"\u7ee7\u627f\u7c7b\u7684 constructor \u5fc5\u987b\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"strong"},"super(...)"),"\uff0c\u5e76\u4e14\u4e00\u5b9a\u8981\u5728\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"strong"},"this")," \u4e4b\u524d\u8c03\u7528\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'class Animal {\n    constructor(name) {\n        this.speed = "10m/s";\n        this.name = name;\n    }\n}\nclass Rabbit extends Animal {\n    sex = "\u96cc\u5154";\n    constructor(name, earLength) {\n        super(name);\n        this.earLength = earLength;\n    }\n}\nclass Zebra extends Animal {\n    sex = "\u96c4\u6591\u9a6c";\n    tailLength = "80cm"\n    constructor(name, tailLength) {\n        super(name);\n        this.tailLength = tailLength;\n    }\n}\n// \u73b0\u5728\u53ef\u4ee5\u4e86\nlet rabbit = new Rabbit("White Rabbit", 10);\nconsole.log(rabbit);\nlet zebra = new Zebra("Black Zebra", "75cm");\nconsole.log(zebra);\n')),(0,l.kt)("h3",{id:"\u9759\u6001\u5c5e\u6027\u548c\u9759\u6001\u65b9\u6cd5"},"\u9759\u6001\u5c5e\u6027\u548c\u9759\u6001\u65b9\u6cd5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'class Rabbit extends Animal {\n    sex = "\u96cc\u5154";\n    static publisher = "Levi Ding";\n    static staticMethod() {\n        console.log(this === Animal);\n    }\n    constructor(name, earLength) {\n        super(name);\n        this.earLength = earLength;\n    }\n}\n')),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(4066).Z,width:"393",height:"363"})),(0,l.kt)("p",null,"\u628a\u4e00\u4e2a\u65b9\u6cd5\u8d4b\u503c\u7ed9\u7c7b\u7684\u51fd\u6570\u672c\u8eab\uff0c\u800c\u4e0d\u662f\u8d4b\u7ed9\u5b83\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},'"prototype"'),"\u3002\u8fd9\u6837\u7684\u65b9\u6cd5\u88ab\u79f0\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u9759\u6001\u7684\uff08static\uff09"),"\u3002"),(0,l.kt)("h3",{id:"\u5c01\u88c5"},"\u5c01\u88c5"),(0,l.kt)("h4",{id:"\u7ea6\u5b9a\u7ea7\u522b"},"\u7ea6\u5b9a\u7ea7\u522b"),(0,l.kt)("p",null,"\u5728JS\u4e2d\u4e0d\u652f\u6301\u539f\u751f\u7684private\uff0c\u56e0\u6b64\u5728\u53d8\u91cf\u524d\u52a0\u4e0a",(0,l.kt)("inlineCode",{parentName:"p"},"_"),"\u8868\u793a\u79c1\u6709\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u65b9\u5f0f\u662f\u5047\u79c1\u6709\uff0c\u662f\u7a0b\u5e8f\u733f\u7ea6\u5b9a\u7684\uff0c\u8bed\u6cd5\u5c42\u9762\u8fd8\u662f\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u7684"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class CoffeeMachine {\n    constructor(power) {\n        this._power = power;\n    }\n    get power() {\n        return this._power;\n    }\n    set power(power){\n        this._power = power;\n    }\n}\n// \u521b\u5efa\u5496\u5561\u673a\nlet coffeeMachine = new CoffeeMachine(100);\nconsole.log(`Power is: ${coffeeMachine.power}W`);\ncoffeeMachine.power = 25;\nconsole.log(`Power is: ${coffeeMachine.power}W`);\n")),(0,l.kt)("p",null,"\u521b\u5efa\u5bf9\u8c61\u540e\uff0c\u6709\u4e00\u4e2a\u53d8\u91cf",(0,l.kt)("inlineCode",{parentName:"p"},"_power"),"\uff0c\u6211\u4eec\u628a\u5b83\u770b\u4f5c\u79c1\u6709\u7684\uff0c\u4e0d\u8981\u76f4\u63a5\u8bbf\u95ee\uff0c\u800c\u662f\u901a\u8fc7getter/setter\u65b9\u6cd5\u8fdb\u884c\u8bbf\u95ee"),(0,l.kt)("h4",{id:"\u8bed\u8a00\u7ea7\u522b"},"\u8bed\u8a00\u7ea7\u522b"),(0,l.kt)("p",null,"\u5c31\u662f\u5c06",(0,l.kt)("inlineCode",{parentName:"p"},"_"),"\u7f16\u7a0b\u5b98\u65b9\u94a6\u5b9a\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"#"),"\u5c31\u884c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class CoffeeMachine {\n    #waterLimit = 200;\n    constructor(waterLimit){\n        this.#waterLimit = waterLimit;\n    }\n    get waterLimit(){\n        return this.#waterLimit;\n    }\n    set waterLimit(value){\n        this.#waterLimit = value;\n    }\n}\n\n// \u521b\u5efa\u5496\u5561\u673a\nlet coffeeMachine = new CoffeeMachine(100);\nconsole.log(coffeeMachine.waterLimit);\ncoffeeMachine.waterLimit=90;\nconsole.log(coffeeMachine.waterLimit);\n")),(0,l.kt)("p",null,"\u4f46\u662f\u5982\u679c\u6211\u4eec\u7ee7\u627f\u81ea ",(0,l.kt)("inlineCode",{parentName:"p"},"CoffeeMachine"),"\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee ",(0,l.kt)("inlineCode",{parentName:"p"},"#waterAmount"),"\u3002\u6211\u4eec\u9700\u8981\u4f9d\u9760 ",(0,l.kt)("inlineCode",{parentName:"p"},"waterAmount")," getter/setter\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class MegaCoffeeMachine extends CoffeeMachine {\n    method() {\n        // Error: can only access from CoffeeMachine\n        console.log(this.#waterLimit);\n    }\n}\n")),(0,l.kt)("h3",{id:"instanceof"},"instanceof"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u7528\u4e8e\u68c0\u67e5\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u5c5e\u4e8e\u67d0\u4e2a\u7279\u5b9a\u7684class\nobj instanceof Class\n")),(0,l.kt)("p",null,"\u7b97\u6cd5\uff1a"),(0,l.kt)("p",null,"1.\u5982\u679c\u8fd9\u513f\u6709\u9759\u6001\u65b9\u6cd5 ",(0,l.kt)("inlineCode",{parentName:"p"},"Symbol.hasInstance"),"\uff0c\u90a3\u5c31\u76f4\u63a5\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class Animal {\n    static [Symbol.hasInstance](obj) {\n        if (obj.canEat) return true;\n    }\n}\n")),(0,l.kt)("p",null,"2.\u5982\u679c\u6ca1\u6709\u9759\u6001\u65b9\u6cd5 ",(0,l.kt)("inlineCode",{parentName:"p"},"Symbol.hasInstance"),"\uff0c\u5219\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"obj instanceOf Class")," \u68c0\u67e5 ",(0,l.kt)("inlineCode",{parentName:"p"},"Class.prototype")," \u662f\u5426\u7b49\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"obj")," \u7684\u539f\u578b\u94fe\u4e2d\u7684\u539f\u578b\u4e4b\u4e00\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"obj.__proto__ === Class.prototype?\nobj.__proto__.__proto__ === Class.prototype?\nobj.__proto__.__proto__.__proto__ === Class.prototype?\n...\n")),(0,l.kt)("p",null,"!> \u5982\u679c\u4fee\u6539\u4e86\u539f\u578b\u94fe\uff0c\u90a3\u4e48instanceof\u7ed3\u679c\u53ef\u80fd\u6539\u53d8"),(0,l.kt)("h3",{id:"mixin\u6a21\u5f0f"},"Mixin\u6a21\u5f0f"),(0,l.kt)("h4",{id:"\u5b9e\u73b0mixin\u7684\u4e24\u79cd\u65b9\u5f0f"},"\u5b9e\u73b0Mixin\u7684\u4e24\u79cd\u65b9\u5f0f"),(0,l.kt)("p",null,"Mixin\u6a21\u5f0f\u662f\u7528\u6765\u95f4\u63a5\u5b9e\u73b0\u591a\u7ee7\u627f\u7684"),(0,l.kt)("p",null,"\u4f7f\u7528extends\u7684\u65b9\u5f0f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"class User extends Person {\n    // ...\n}\nObject.assign(User.prototype, sayHiMixin);\n")),(0,l.kt)("p",null,"\u4f7f\u7528\u539f\u578b\u94fe\u7684\u65b9\u5f0f\uff0c\u5728\u5185\u90e8\u5b9e\u73b0\u7ee7\u627f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let sayMixin = {\n    say(phrase) {\n        alert(phrase);\n    }\n};\nlet sayHiMixin = {\n    __proto__: sayMixin, // (\u6216\u8005\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u8fd9\u513f\u4f7f\u7528 Object.create \u6765\u8bbe\u7f6e\u539f\u578b)\n\n    sayHi() {\n        // \u8c03\u7528\u7236\u7c7b\u65b9\u6cd5\n        super.say(`Hello ${this.name}`); // (*)\n    },\n    sayBye() {\n        super.say(`Bye ${this.name}`); // (*)\n    }\n};\nclass User {\n    constructor(name) {\n        this.name = name;\n    }\n}\n// \u62f7\u8d1d\u65b9\u6cd5\nObject.assign(User.prototype, sayHiMixin);\n// \u73b0\u5728 User \u53ef\u4ee5\u6253\u62db\u547c\u4e86\nnew User("Dude").sayHi(); // Hello Dude!\n')),(0,l.kt)("h4",{id:"eventmixin\u4f8b\u5b50\u5e38\u7528"},"EventMixin\u4f8b\u5b50\uff08\u5e38\u7528\uff09"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let eventMixin = {\n   /**\n    * \u8ba2\u9605\u4e8b\u4ef6\uff0c\u7528\u6cd5\uff1a\n    *  menu.on('select', function(item) { ... }\n    */\n    on(eventName, handler) {\n        if (!this._eventHandlers) this._eventHandlers = {};\n        if (!this._eventHandlers[eventName]) {\n            this._eventHandlers[eventName] = [];\n        }\n        this._eventHandlers[eventName].push(handler);\n    },\n\n   /**\n    * \u53d6\u6d88\u8ba2\u9605\uff0c\u7528\u6cd5\uff1a\n    *  menu.off('select', handler)\n    */\n    off(eventName, handler) {\n        let handlers = this._eventHandlers?.[eventName];\n        if (!handlers) return;\n        for (let i = 0; i < handlers.length; i++) {\n            if (handlers[i] === handler) {\n                handlers.splice(i--, 1);\n            }\n        }\n    },\n\n   /**\n    * \u751f\u6210\u5177\u6709\u7ed9\u5b9a\u540d\u79f0\u548c\u6570\u636e\u7684\u4e8b\u4ef6\n    *  this.trigger('select', data1, data2);\n    */\n    trigger(eventName, ...args) {\n        if (!this._eventHandlers?.[eventName]) {\n            return; // \u8be5\u4e8b\u4ef6\u540d\u79f0\u6ca1\u6709\u5bf9\u5e94\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff08handler\uff09\n        }\n        // \u8c03\u7528\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff08handler\uff09\n        this._eventHandlers[eventName].forEach(handler => handler.apply(this, args));\n    }\n};\n")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},".on(eventName, handler)")," \u2014 \u6307\u5b9a\u51fd\u6570 ",(0,l.kt)("inlineCode",{parentName:"li"},"handler")," \u4ee5\u5728\u5177\u6709\u5bf9\u5e94\u540d\u79f0\u7684\u4e8b\u4ef6\u53d1\u751f\u65f6\u8fd0\u884c\u3002\u4ece\u6280\u672f\u4e0a\u8bb2\uff0c\u8fd9\u513f\u6709\u4e00\u4e2a\u7528\u4e8e\u5b58\u50a8\u6bcf\u4e2a\u4e8b\u4ef6\u540d\u79f0\u5bf9\u5e94\u7684\u5904\u7406\u7a0b\u5e8f\uff08handler\uff09\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"_eventHandlers")," \u5c5e\u6027\uff0c\u5728\u8fd9\u513f\u8be5\u5c5e\u6027\u5c31\u4f1a\u5c06\u521a\u521a\u6307\u5b9a\u7684\u8fd9\u4e2a ",(0,l.kt)("inlineCode",{parentName:"li"},"handler")," \u6dfb\u52a0\u5230\u5217\u8868\u4e2d\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},".off(eventName, handler)")," \u2014 \u4ece\u5904\u7406\u7a0b\u5e8f\u5217\u8868\u4e2d\u5220\u9664\u6307\u5b9a\u7684\u51fd\u6570\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},".trigger(eventName, ...args)")," \u2014 \u751f\u6210\u4e8b\u4ef6\uff1a\u6240\u6709 ",(0,l.kt)("inlineCode",{parentName:"li"},"_eventHandlers[eventName]")," \u4e2d\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff08handler\uff09\u90fd\u88ab\u8c03\u7528\uff0c\u5e76\u4e14 ",(0,l.kt)("inlineCode",{parentName:"li"},"...args")," \u4f1a\u88ab\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u5b83\u4eec\u3002")),(0,l.kt)("p",null,"\u4f7f\u7528\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// \u521b\u5efa\u4e00\u4e2a class\nclass Menu {\n    choose(value) {\n        this.trigger("select", value);\n    }\n}\n// \u6dfb\u52a0\u5e26\u6709\u4e8b\u4ef6\u76f8\u5173\u65b9\u6cd5\u7684 mixin\nObject.assign(Menu.prototype, eventMixin);\n\nlet menu = new Menu();\n\n// \u6dfb\u52a0\u4e00\u4e2a\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff08handler\uff09\uff0c\u5728\u88ab\u9009\u62e9\u65f6\u88ab\u8c03\u7528\uff1a\nmenu.on("select", value => alert(`Value selected: ${value}`));\n\n// \u89e6\u53d1\u4e8b\u4ef6 => \u8fd0\u884c\u4e0a\u8ff0\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff08handler\uff09\u5e76\u663e\u793a\uff1a\n// \u88ab\u9009\u4e2d\u7684\u503c\uff1a123\nmenu.choose("123");\n')),(0,l.kt)("h2",{id:"\u516b\u9519\u8bef\u5904\u7406"},"\u516b\u3001\u9519\u8bef\u5904\u7406"),(0,l.kt)("h3",{id:"trycatch"},"try\u2026catch"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"try{\n    // \u51fa\u73b0\u5f02\u5e38(\u53ef\u4ee5throw\u521b\u5efa\u5f02\u5e38)\n}catch(err){\n    // \u6253\u5370\u5f02\u5e38\n}finally{\n    // \u65e0\u8bba\u662f\u5426\u5f02\u5e38\u90fd\u4f1a\u6267\u884c\n}\n")),(0,l.kt)("p",null,"error \u5bf9\u8c61\u7684\u4e3b\u8981\u5c5e\u6027\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"name"),(0,l.kt)("li",{parentName:"ul"},"message"),(0,l.kt)("li",{parentName:"ul"},"stack")),(0,l.kt)("h3",{id:"\u81ea\u5b9a\u4e49error"},"\u81ea\u5b9a\u4e49Error"),(0,l.kt)("h2",{id:"\u4e5dpromise"},"\u4e5d\u3001Promise"),(0,l.kt)("h3",{id:"\u5f02\u6b65"},"\u5f02\u6b65"),(0,l.kt)("p",null,"JavaScript \u7684\u6267\u884c\u73af\u5883\u662f",(0,l.kt)("strong",{parentName:"p"},"\u5355\u7ebf\u7a0b"),"\u3002"),(0,l.kt)("p",null,"\u6240\u8c13\u5355\u7ebf\u7a0b\uff0c\u662f\u6307 JS \u5f15\u64ce\u4e2d\u8d1f\u8d23\u89e3\u91ca\u548c\u6267\u884c JavaScript \u4ee3\u7801\u7684\u7ebf\u7a0b\u53ea\u6709\u4e00\u4e2a\uff0c\u4e5f\u5c31\u662f\u4e00\u6b21\u53ea\u80fd\u5b8c\u6210\u4e00\u9879\u4efb\u52a1\uff0c\u8fd9\u4e2a\u4efb\u52a1\u6267\u884c\u5b8c\u540e\u624d\u80fd\u6267\u884c\u4e0b\u4e00\u4e2a\uff0c\u5b83\u4f1a\u300c\u963b\u585e\u300d\u5176\u4ed6\u4efb\u52a1\u3002\u8fd9\u4e2a\u4efb\u52a1\u53ef\u79f0\u4e3a\u4e3b\u7ebf\u7a0b\u3002"),(0,l.kt)("p",null,"\u5f02\u6b65\u6a21\u5f0f\u53ef\u4ee5\u4e00\u8d77\u6267\u884c",(0,l.kt)("strong",{parentName:"p"},"\u591a\u4e2a\u4efb\u52a1"),"\u3002"),(0,l.kt)("h3",{id:"\u56de\u8c03"},"\u56de\u8c03"),(0,l.kt)("p",null,"A callback is a function that is passed as an argument to another function and is executed after its parent function has completed."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'function a(callback) {    \n    console.log("\u6211\u662fparent\u51fd\u6570a\uff01"); \n    callback();     // \u8c03\u7528\u56de\u8c03\u51fd\u6570\n} \nfunction b() { \n    console.log("\u6211\u662f\u56de\u8c03\u51fd\u6570b"); \n} \na(b); \n')),(0,l.kt)("h3",{id:"promise\u7684\u4f7f\u7528"},"Promise\u7684\u4f7f\u7528"),(0,l.kt)("h4",{id:"\u751f\u4ea7\u8005resolvereject"},"\u751f\u4ea7\u8005\uff1aresolve\uff0creject"),(0,l.kt)("p",null,"Promise \u5bf9\u8c61\u7684\u6784\u9020\u5668\uff08constructor\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let promise = new Promise(function(resolve, reject) {\n    // executor\uff08\u751f\u4ea7\u8005\u4ee3\u7801\uff0c\u201c\u6b4c\u624b\u201d\uff09\n});\n")),(0,l.kt)("p",null,"\u4f20\u9012\u7ed9 ",(0,l.kt)("inlineCode",{parentName:"p"},"new Promise")," \u7684\u51fd\u6570\u88ab\u79f0\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"executor"),"\u3002\u5f53 ",(0,l.kt)("inlineCode",{parentName:"p"},"new Promise")," \u88ab\u521b\u5efa\uff0cexecutor \u4f1a\u81ea\u52a8\u8fd0\u884c\u3002\u5b83\u5305\u542b\u6700\u7ec8\u5e94\u4ea7\u51fa\u7ed3\u679c\u7684\u751f\u4ea7\u8005\u4ee3\u7801\u3002"),(0,l.kt)("p",null,"\u5f53 executor \u83b7\u5f97\u4e86\u7ed3\u679c\uff0c\u65e0\u8bba\u662f\u65e9\u8fd8\u662f\u665a\u90fd\u6ca1\u5173\u7cfb\uff0c\u5b83\u5e94\u8be5\u8c03\u7528\u4ee5\u4e0b\u56de\u8c03\u4e4b\u4e00\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"resolve(value)")," \u2014 \u5982\u679c\u4efb\u52a1\u6210\u529f\u5b8c\u6210\u5e76\u5e26\u6709\u7ed3\u679c ",(0,l.kt)("inlineCode",{parentName:"li"},"value"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"reject(error)")," \u2014 \u5982\u679c\u51fa\u73b0\u4e86 error\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"error")," \u5373\u4e3a error \u5bf9\u8c61\u3002")),(0,l.kt)("p",null,"\u7531 ",(0,l.kt)("inlineCode",{parentName:"p"},"new Promise")," \u6784\u9020\u5668\u8fd4\u56de\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"promise")," \u5bf9\u8c61\u5177\u6709\u4ee5\u4e0b\u5185\u90e8\u5c5e\u6027\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"state")," \u2014 \u6700\u521d\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},'"pending"'),"\uff0c\u7136\u540e\u5728 ",(0,l.kt)("inlineCode",{parentName:"li"},"resolve")," \u88ab\u8c03\u7528\u65f6\u53d8\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},'"fulfilled"'),"\uff0c\u6216\u8005\u5728 ",(0,l.kt)("inlineCode",{parentName:"li"},"reject")," \u88ab\u8c03\u7528\u65f6\u53d8\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},'"rejected"'),"\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"result")," \u2014 \u6700\u521d\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"undefined"),"\uff0c\u7136\u540e\u5728 ",(0,l.kt)("inlineCode",{parentName:"li"},"resolve(value)")," \u88ab\u8c03\u7528\u65f6\u53d8\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"value"),"\uff0c\u6216\u8005\u5728 ",(0,l.kt)("inlineCode",{parentName:"li"},"reject(error)")," \u88ab\u8c03\u7528\u65f6\u53d8\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"error"),"\u3002")),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(7160).Z,width:"720",height:"381"})),(0,l.kt)("h4",{id:"\u6d88\u8d39\u8005thencatchfinally"},"\u6d88\u8d39\u8005\uff1athen\uff0ccatch\uff0cfinally"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},".then()"),"\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},".then")," \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5c06\u5728 promise resolved \u540e\u8fd0\u884c\u5e76\u63a5\u6536\u7ed3\u679c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},".then")," \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e5f\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5c06\u5728 promise rejected \u540e\u8fd0\u884c\u5e76\u63a5\u6536 error\u3002")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},".catch()"),"\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6355\u6349\u9519\u8bef")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"finally()"),"\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6700\u540e\u6267\u884c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u7b2c\u4e00\u6b65\uff1amodel\u5c42\u7684\u63a5\u53e3\u5c01\u88c5\nconst promise = new Promise((resolve, reject) => {\n    // \u8fd9\u91cc\u505a\u5f02\u6b65\u4efb\u52a1\uff08\u6bd4\u5982ajax \u8bf7\u6c42\u63a5\u53e3\u3002\u8fd9\u91cc\u6682\u65f6\u7528\u5b9a\u65f6\u5668\u4ee3\u66ff\uff09\n    setTimeout(function () {\n        var data = { retCode: 0, msg: 'qianguyihao' }; // \u63a5\u53e3\u8fd4\u56de\u7684\u6570\u636e\n        if (data.retCode == 0) {\n            // \u63a5\u53e3\u8bf7\u6c42\u6210\u529f\u65f6\u8c03\u7528\n            resolve(data);\n        } else {\n            // \u63a5\u53e3\u8bf7\u6c42\u5931\u8d25\u65f6\u8c03\u7528\n            reject({ retCode: -1, msg: 'network error' });\n        }\n    }, 1000);\n});\n\n// \u7b2c\u4e8c\u6b65\uff1a\u4e1a\u52a1\u5c42\u7684\u63a5\u53e3\u8c03\u7528\u3002\u8fd9\u91cc\u7684 data \u5c31\u662f \u4ece resolve \u548c reject \u4f20\u8fc7\u6765\u7684\uff0c\u4e5f\u5c31\u662f\u4ece\u63a5\u53e3\u62ff\u5230\u7684\u6570\u636e\npromise.then((data) => {\n    // \u4ece resolve \u83b7\u53d6\u6b63\u5e38\u7ed3\u679c\n    console.log(data);\n}).catch((data) => {\n    // \u4ece reject \u83b7\u53d6\u5f02\u5e38\u7ed3\u679c\n    console.log(data);\n});\n")),(0,l.kt)("p",null,"\u4e0a\u65b9\u4ee3\u7801\u4e2d\uff0c\u5f53\u4ece\u63a5\u53e3\u8fd4\u56de\u7684\u6570\u636e",(0,l.kt)("inlineCode",{parentName:"p"},"data.retCode"),"\u7684\u503c\u4e0d\u540c\u65f6\uff0c\u53ef\u80fd\u4f1a\u8d70 resolve\uff0c\u4e5f\u53ef\u80fd\u4f1a\u8d70 reject\uff0c\u8fd9\u4e2a\u7531\u4f60\u81ea\u5df1\u7684\u4e1a\u52a1\u51b3\u5b9a\u3002"),(0,l.kt)("h3",{id:"promise\u94fe"},"Promise\u94fe"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"new Promise(function(resolve, reject) {\n    setTimeout(() => resolve(1), 1000);\n}).then(function(result) {\n    alert(result);      // 1\n    return result * 2;\n}).then(function(result) {\n    alert(result);      // 2\n    return result * 2;\n}).then(function(result) {\n    alert(result);      // 4\n    return result * 2;\n});\n")),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(4192).Z,width:"230",height:"507"})),(0,l.kt)("p",null,"\u4e4b\u6240\u4ee5\u8fd9\u4e48\u8fd0\u884c\uff0c\u662f\u56e0\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"strong"},"promise.then")," \u7684\u8c03\u7528\u4f1a\u8fd4\u56de\u4e86\u4e00\u4e2a promise"),"\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5728\u5176\u4e4b\u4e0a\u8c03\u7528\u4e0b\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},".then"),"\u3002"),(0,l.kt)("p",null,"\u8fd4\u56de\u503c\u4e3aPromise\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(740).Z,width:"738",height:"577"})),(0,l.kt)("h3",{id:"promise-api"},"Promise API"),(0,l.kt)("p",null,"1.Promise.all"),(0,l.kt)("p",null,"\u5e76\u884c\u6267\u884c\u591a\u4e2a promise\uff0c\u5e76\u7b49\u5f85\u6240\u6709 promise \u90fd\u51c6\u5907\u5c31\u7eea\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"Promise.all([\n    new Promise(resolve => setTimeout(() => resolve(1), 3000)), // 1\n    new Promise(resolve => setTimeout(() => resolve(2), 2000)), // 2\n    new Promise(resolve => setTimeout(() => resolve(3), 1000))  // 3\n]).then(alert);\n// 1,2,3\u5f53\u4e0a\u9762\u8fd9\u4e9bpromise\u51c6\u5907\u597d\u65f6\uff1a\u6bcf\u4e2apromise\u90fd\u8d21\u732e\u4e86\u6570\u7ec4\u4e2d\u7684\u4e00\u4e2a\u5143\u7d20\n")),(0,l.kt)("p",null,"\u8bf7\u6ce8\u610f\uff0c\u7ed3\u679c\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u987a\u5e8f\u4e0e\u5176\u5728\u6e90 promise \u4e2d\u7684\u987a\u5e8f\u76f8\u540c\u3002\u5373\u4f7f\u7b2c\u4e00\u4e2a promise \u82b1\u8d39\u4e86\u6700\u957f\u7684\u65f6\u95f4\u624d resolve\uff0c\u4f46\u5b83\u4ecd\u662f\u7ed3\u679c\u6570\u7ec4\u4e2d\u7684\u7b2c\u4e00\u4e2a\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let names = ['iliakan', 'remy', 'jeresig'];\nlet requests = names.map(name => fetch(`https://api.github.com/users/${name}`));\nPromise.all(requests)\n    .then(responses => {\n    // \u6240\u6709\u54cd\u5e94\u90fd\u88ab\u6210\u529fresolved\n    for (let response of responses) {\n        console.log(`${response.url}: ${response.status}`); // \u5bf9\u5e94\u6bcf\u4e2a url \u90fd\u663e\u793a 200\n    }\n    // \u8fd4\u56de\u4e00\u4e2a\u54cd\u5e94\u5bf9\u8c61\u7ec4\u6210\u7684\u6570\u7ec4\n    console.log(responses);\n    return responses;\n})\n// \u5c06\u54cd\u5e94\u6570\u7ec4\u6620\u5c04\uff08map\uff09\u5230 response.json() \u6570\u7ec4\u4e2d\u4ee5\u8bfb\u53d6\u5b83\u4eec\u7684\u5185\u5bb9\n    .then(responses => Promise.all(responses.map(r => r.json())))\n// \u6240\u6709 JSON \u7ed3\u679c\u90fd\u88ab\u89e3\u6790\uff1a\"users\" \u662f\u5b83\u4eec\u7684\u6570\u7ec4\n    .then(users => users.forEach(user => console.log(user.name)));\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5982\u679c\u4efb\u610f\u4e00\u4e2a promise \u88ab reject\uff0c\u7531 ",(0,l.kt)("inlineCode",{parentName:"strong"},"Promise.all")," \u8fd4\u56de\u7684 promise \u5c31\u4f1a\u7acb\u5373 reject\uff0c\u5e76\u4e14\u5e26\u6709\u7684\u5c31\u662f\u8fd9\u4e2a error\u3002")),(0,l.kt)("p",null,"\u4f8b\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'Promise.all([\n    new Promise((resolve, reject) => setTimeout(() => resolve(1), 1000)),\n    new Promise((resolve, reject) => setTimeout(() => reject(new Error("Whoops!")), 2000)),\n    new Promise((resolve, reject) => setTimeout(() => resolve(3), 3000))\n]).catch(alert); // Error: Whoops!\n')),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"Promise.all(iterable)")," \u5141\u8bb8\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"iterable")," \u4e2d\u4f7f\u7528 non-promise \u7684\u201c\u5e38\u89c4\u201d\u503c"),(0,l.kt)("pre",{parentName:"blockquote"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},"Promise.all([\n    new Promise((resolve, reject) => {\n        setTimeout(() => resolve(1), 1000)\n    }),\n    2,\n    3\n]).then(alert);     // 1,2,3\n"))),(0,l.kt)("p",null,"2.Promise.allSettled"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Promise.allSettled")," \u7b49\u5f85\u6240\u6709\u7684 promise \u90fd\u88ab settle\uff0c\u65e0\u8bba\u7ed3\u679c\u5982\u4f55\u3002\u800c",(0,l.kt)("inlineCode",{parentName:"p"},"Promise.all"),"\u4e2d\u5982\u679c\u6709\u4e00\u4e2a\u6302\u4e86\uff0c\u5c31\u4f1a\u62a5error"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let urls = [\n    'https://api.github.com/users/iliakan',\n    'https://api.github.com/users/remy',\n    'https://no-such-url'\n];\nPromise.allSettled(urls.map(url => fetch(url)))\n    .then(results => {\n    console.log(results);\n    results.forEach((result, num) => {\n        if (result.status == \"fulfilled\") {\n            console.log(`${urls[num]}: ${result.value.status}`);\n        }\n        if (result.status == \"rejected\") {\n            console.log(`${urls[num]}: ${result.reason}`);\n        }\n    });\n});\n")),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(2371).Z,width:"876",height:"289"})),(0,l.kt)("p",null,"3.Promise.race"),(0,l.kt)("p",null,"\u4e0e ",(0,l.kt)("inlineCode",{parentName:"p"},"Promise.all")," \u7c7b\u4f3c\uff0c\u4f46\u53ea\u7b49\u5f85\u7b2c\u4e00\u4e2a settled \u7684 promise \u5e76\u83b7\u53d6\u5176\u7ed3\u679c\uff08\u6216 error\uff09\u3002"),(0,l.kt)("p",null,"4.Promise.resolve(value)"),(0,l.kt)("p",null,"\u4f7f\u7528\u7ed9\u5b9a value \u521b\u5efa\u4e00\u4e2a resolved \u7684 promise\u3002"),(0,l.kt)("p",null,"5.Promise.reject(error)"),(0,l.kt)("p",null,"\u4f7f\u7528\u7ed9\u5b9a error \u521b\u5efa\u4e00\u4e2a rejected \u7684 promise\u3002"),(0,l.kt)("h3",{id:"promisification\u65b9\u5f0f"},"Promisification\u65b9\u5f0f"),(0,l.kt)("p",null,"\u662f\u79cd\u7f16\u7a0b\u5957\u8def\uff0c\u5c06\u4e00\u4e2a\u63a5\u53d7\u56de\u8c03\u7684\u51fd\u6570\u8f6c\u6362\u4e3a\u4e00\u4e2a\u8fd4\u56de promise \u7684\u51fd\u6570"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u52a0\u8f7dscript\nfunction loadScript(src, callback) {\n    let script = document.createElement('script');\n    script.src = src;\n    script.onload = () => callback(null, script);\n    script.onerror = () => callback(new Error(`Script load error for ${src}`));\n    document.head.append(script);\n}\nlet loadScriptPromise = function(src) {\n    return new Promise((resolve, reject) => {\n        loadScript(src, (err, script) => {\n            if (err) reject(err);\n            else resolve(script);\n        });\n    });\n};\n")),(0,l.kt)("h3",{id:"\u5fae\u4efb\u52a1\u961f\u5217"},"\u5fae\u4efb\u52a1\u961f\u5217"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u961f\u5217\uff08queue\uff09\u662f\u5148\u8fdb\u5148\u51fa\u7684\uff1a\u9996\u5148\u8fdb\u5165\u961f\u5217\u7684\u4efb\u52a1\u4f1a\u9996\u5148\u8fd0\u884c\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u53ea\u6709\u5728 JavaScript \u5f15\u64ce\u4e2d\u6ca1\u6709\u5176\u5b83\u4efb\u52a1\u5728\u8fd0\u884c\u65f6\uff0c\u624d\u5f00\u59cb\u6267\u884c\u4efb\u52a1\u961f\u5217\u4e2d\u7684\u4efb\u52a1\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let promise = Promise.resolve();\npromise.then(() => alert("promise done!"));\nalert("code finished"); // \u8fd9\u4e2a alert \u5148\u663e\u793a\n')),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(2598).Z,width:"520",height:"188"})),(0,l.kt)("h3",{id:"asyncawait"},"async/await"),(0,l.kt)("p",null,"async\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8ba9\u8fd9\u4e2a\u51fd\u6570\u603b\u662f\u8fd4\u56de\u4e00\u4e2apromise"),(0,l.kt)("li",{parentName:"ul"},"\u8fd0\u884c\u5728\u8be5\u51fd\u6570\u5185\u4f7f\u7528await")),(0,l.kt)("p",null,"await\uff1a\u8ba9 JavaScript \u5f15\u64ce",(0,l.kt)("strong",{parentName:"p"},"\u7b49\u5f85\u76f4\u5230 promise \u5b8c\u6210\uff08settle\uff09\u5e76\u8fd4\u56de\u7ed3\u679c\u3002"),(0,l.kt)("inlineCode",{parentName:"p"},"let value = await promise;")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'async function f() {\n    let promise = new Promise((resolve, reject) => {\n        setTimeout(() => resolve("done!"), 1000)\n    });\n    let result = await promise; // \u7b49\u5f85\uff0c\u76f4\u5230promise resolve(*)\n    alert(result); // "done!"\n}\nf();\n')),(0,l.kt)("p",null,"\u8fd9\u4e2a\u51fd\u6570\u5728\u6267\u884c\u7684\u65f6\u5019\uff0c\u201c\u6682\u505c\u201d\u5728\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"(*)")," \u90a3\u4e00\u884c\uff0c\u5e76\u5728 promise settle \u65f6\uff0c\u62ff\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"result")," \u4f5c\u4e3a\u7ed3\u679c\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c\u3002\u6240\u4ee5\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u5728\u4e00\u79d2\u540e\u663e\u793a \u201cdone!\u201d\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"await")," \u5b9e\u9645\u4e0a\u4f1a\u6682\u505c\u51fd\u6570\u7684\u6267\u884c\uff0c\u76f4\u5230 promise \u72b6\u6001\u53d8\u4e3a settled\uff0c\u7136\u540e\u4ee5 promise \u7684\u7ed3\u679c\u7ee7\u7eed\u6267\u884c\u3002\u8fd9\u4e2a\u884c\u4e3a\u4e0d\u4f1a\u8017\u8d39\u4efb\u4f55 CPU \u8d44\u6e90\uff0c\u56e0\u4e3a JavaScript \u5f15\u64ce\u53ef\u4ee5\u540c\u65f6\u5904\u7406\u5176\u4ed6\u4efb\u52a1\uff1a\u6267\u884c\u5176\u4ed6\u811a\u672c\uff0c\u5904\u7406\u4e8b\u4ef6\u7b49\u3002"),(0,l.kt)("h2",{id:"\u5341\u6a21\u5757"},"\u5341\u3001\u6a21\u5757"),(0,l.kt)("h3",{id:"\u7b80\u4ecb"},"\u7b80\u4ecb"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"export")," \uff1a\u5bfc\u51fa"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"import")," \uff1a\u5bfc\u5165")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// main.js\nexport function sayHi(user) {\n    return `Hello, ${user}!`;\n}\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- index.html --\x3e\n<script type="module">\n    import { sayHi } from \'./main.js\';\n    alert(sayHi("Lily"));\n<\/script>\n')),(0,l.kt)("p",null,"!> ",(0,l.kt)("strong",{parentName:"p"},"\u6a21\u5757\u53ea\u901a\u8fc7 HTTP(s) \u5de5\u4f5c\uff0c\u5728\u672c\u5730\u6587\u4ef6\u5219\u4e0d\u884c")),(0,l.kt)("p",null,"\u6a21\u5757\u7684\u529f\u80fd\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u59cb\u7ec8user strict"),(0,l.kt)("li",{parentName:"ul"},"\u4f5c\u7528\u57df")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'<script type="module">\n    // \u53d8\u91cf\u4ec5\u5728\u8fd9\u4e2a module script \u5185\u53ef\u89c1\n    let user = "John";\n<\/script>\n\n<script type="module">\n    alert(user); // Error: user is not defined\n<\/script>\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6a21\u5757\u53ea\u88ab\u6267\u884c\u4e00\u6b21\u3002\u751f\u6210\u5bfc\u51fa\uff0c\u7136\u540e\u5b83\u88ab\u5206\u4eab\u7ed9\u6240\u6709\u5bf9\u5176\u7684\u5bfc\u5165\uff0c\u6240\u4ee5\u5982\u679c\u67d0\u4e2a\u5730\u65b9\u4fee\u6539\u4e86 ",(0,l.kt)("inlineCode",{parentName:"li"},"admin")," \u5bf9\u8c61\uff0c\u5176\u4ed6\u7684\u6a21\u5757\u4e5f\u80fd\u770b\u5230\u8fd9\u4e2a\u4fee\u6539\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// admin.js\nexport let admin = {\n  name: \"John\"\n};\n\n// 1.js\nimport {admin} from './admin.js';\nadmin.name = \"Pete\";\n\n// 2.js\nimport {admin} from './admin.js';\nalert(admin.name); // Pete\n\n// 1.js\u548c2.js\u5bfc\u5165\u7684\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\n// \u57281.js\u4e2d\u5bf9\u5bf9\u8c61\u505a\u7684\u66f4\u6539\uff0c\u57282.js\u4e2d\u4e5f\u662f\u53ef\u89c1\u7684\n")),(0,l.kt)("p",null,"\u8bbf\u95ee\u5f53\u524d\u6a21\u5757\u4fe1\u606f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"}," // \u811a\u672c\u7684 URL\uff08\u5bf9\u4e8e\u5185\u5d4c\u811a\u672c\u6765\u8bf4\uff0c\u5219\u662f\u5f53\u524dHTML\u9875\u9762\u7684URL\uff09\nalert(import.meta.url);\n")),(0,l.kt)("p",null,"\u6d4f\u89c8\u5668\u7279\u5b9a\u529f\u80fd\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6a21\u5757\u811a\u672c\u603b\u662f\u5ef6\u8fdf\u7684\uff0c\u6162\u4e8e\u5e38\u89c4\u811a\u672c"),(0,l.kt)("li",{parentName:"ul"},"\u5916\u90e8\u811a\u672c",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u76f8\u540c\u7684src\u4ec5\u4ec5\u8fd0\u884c\u4e00\u6b21\u3002",(0,l.kt)("inlineCode",{parentName:"li"},'<script type="module" src="my.js"><\/script>')),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e00\u4e2a\u6a21\u5757\u811a\u672c\u662f\u4ece\u53e6\u4e00\u4e2a\u6e90\u83b7\u53d6\u7684\uff0c\u5219\u8fdc\u7a0b\u670d\u52a1\u5668\u5fc5\u987b\u63d0\u4f9b\u8868\u793a\u5141\u8bb8\u83b7\u53d6\u7684 header ",(0,l.kt)("inlineCode",{parentName:"li"},"Access-Control-Allow-Origin"),"\u3002")))),(0,l.kt)("h3",{id:"\u5bfc\u5165\u548c\u5bfc\u51fa"},"\u5bfc\u5165\u548c\u5bfc\u51fa"),(0,l.kt)("h4",{id:"import"},"import"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u90e8\u5206\u5bfc\u5165\nimport {sayHi, sayBye} from './say.js';\n// \u90e8\u5206\u5bfc\u5165\uff0c\u5e26\u6709as\nimport {sayHi as hi, sayBye as bye} from './say.js';\n// \u5168\u90e8\u5bfc\u5165\nimport * as say from './say.js';\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5c3d\u91cf\u4f7f\u7528\u90e8\u5206\u5bfc\u5165\uff0cwebpack\u7684\u6253\u5305\u4f18\u5316\u4f1a\u5220\u9664\u672a\u4f7f\u7528\u7684\u4ee3\u7801\u4ee5\u52a0\u5feb\u901f\u5ea6")),(0,l.kt)("h4",{id:"export"},"export"),(0,l.kt)("p",null,"1.\u5728\u58f0\u660e\u524d\u5bfc\u51fa"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u5bfc\u51fa\u6570\u7ec4\nexport let months = ['Jan', 'Feb', 'Mar','Apr', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n// \u5bfc\u51fa const \u58f0\u660e\u7684\u53d8\u91cf\nexport const MODULES_BECAME_STANDARD_YEAR = 2015;\n// \u5bfc\u51fa\u7c7b\nexport class User {\n    constructor(name) {\n        this.name = name;\n    }\n}\n")),(0,l.kt)("p",null,"2.\u5bfc\u51fa\u4e0e\u58f0\u660e\u5206\u5f00"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// say.js\nfunction sayHi(user) {\n    alert(`Hello, ${user}!`);\n}\nfunction sayBye(user) {\n    alert(`Bye, ${user}!`);\n}\nexport {sayHi, sayBye}; // \u5bfc\u51fa\u53d8\u91cf\u5217\u8868\n// export\uff0c\u5e26\u6709as\nexport {sayHi as hi, sayBye as bye};\n")),(0,l.kt)("p",null,"3.",(0,l.kt)("inlineCode",{parentName:"p"},"export default")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// user.js\nexport default class User { // \u53ea\u9700\u8981\u6dfb\u52a0 \"default\" \u5373\u53ef\n    constructor(name) {\n        this.name = name;\n    }\n}\n// main.js\nimport User from './user.js'; // \u4e0d\u9700\u8981\u82b1\u62ec\u53f7 {User}\uff0c\u53ea\u9700\u8981\u5199\u6210 User \u5373\u53ef\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"\u547d\u540d\u7684\u5bfc\u51fa"),(0,l.kt)("th",{parentName:"tr",align:"left"},"\u9ed8\u8ba4\u7684\u5bfc\u51fa"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"export class User {...}")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"export default class User {...}"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"import {User} from ...")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"import User from ..."))))),(0,l.kt)("p",null,"\u7531\u4e8e\u6bcf\u4e2a\u6587\u4ef6\u6700\u591a\u53ea\u80fd\u6709\u4e00\u4e2a\u9ed8\u8ba4\u7684\u5bfc\u51fa\uff0c\u56e0\u6b64\u5bfc\u51fa\u7684\u5b9e\u4f53\u53ef\u80fd\u6ca1\u6709\u540d\u79f0\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"export default class { // \u6ca1\u6709\u7c7b\u540d\n    constructor() { ... }\n}\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"export default function(user) { // \u6ca1\u6709\u51fd\u6570\u540d\n  alert(`Hello, ${user}!`);\n}\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u5bfc\u51fa\u5355\u4e2a\u503c\uff0c\u800c\u4e0d\u4f7f\u7528\u53d8\u91cf\nexport default ['Jan', 'Feb', 'Mar','Apr', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n")),(0,l.kt)("h4",{id:"\u5bfc\u5165\u5bfc\u51fa"},"\u5bfc\u5165\u5bfc\u51fa"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u5bfc\u5165 login/logout \u7136\u540e\u7acb\u5373\u5bfc\u51fa\u5b83\u4eec\nexport {login, logout} from './helpers.js';\n\n// \u5c06\u9ed8\u8ba4\u5bfc\u51fa\u5bfc\u5165\u4e3a User\uff0c\u7136\u540e\u5bfc\u51fa\u5b83\nexport {default as User} from './user.js';\n")),(0,l.kt)("h2",{id:"\u5341\u4e00generator"},"\u5341\u4e00\u3001Generator"),(0,l.kt)("h3",{id:"generator\u521d\u6b65"},"Generator\u521d\u6b65"),(0,l.kt)("p",null,"Generator\u51fd\u6570\u4e2d\u7684yield\u6bcf\u6b21\u8c03\u7528\u5c31\u88c5\u5165\u5230\u4e00\u4e2aGenerator\u6d41\u4e2d"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u666e\u901a\u65b9\u5f0f\nfunction* generateSequence() {\n    yield 1;\n    yield 2;\n    yield 3;\n\nlet generator = generateSequence();\nfor(let value of generator) {\n    console.log(value); // 1\uff0c\u7136\u540e\u662f 2\uff0c\u7136\u540e\u662f 3\n}\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// Genarator\u5d4c\u5957\nfunction* generateSequence(start, end) {\n    for (let i = start; i <= end; i++) yield i;\n}\nfunction* generatePasswordCodes() {\n    // 0..9\n    yield* generateSequence(48, 57);\n    // A..Z\n    yield* generateSequence(65, 90);\n    // a..z\n    yield* generateSequence(97, 122);\n}\nlet str = '';\nfor(let code of generatePasswordCodes()) {\n    str += String.fromCharCode(code);\n}\nalert(str); // 0..9A..Za..z\n")),(0,l.kt)("p",null,"\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e2d\u4f7f\u7528\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"let range = {\n    from: 1,\n    to: 5,\n\n    *[Symbol.iterator]() { // [Symbol.iterator]: function*() \u7684\u7b80\u5199\u5f62\u5f0f\n        for(let value = this.from; value <= this.to; value++) {\n            yield value;\n        }\n    }\n};\n\n// console.log([...range[Symbol.iterator]()]);\nconsole.log( [...range] ); // 1,2,3,4,5\n")),(0,l.kt)("p",null,"\u4e4b\u6240\u4ee5\u4ee3\u7801\u6b63\u5e38\u5de5\u4f5c\uff0c\u662f\u56e0\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"range[Symbol.iterator]()")," \u73b0\u5728\u8fd4\u56de\u4e00\u4e2a generator\uff0c\u800c generator \u65b9\u6cd5\u6b63\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"for..of")," \u6240\u671f\u671b\u7684\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5b83\u5177\u6709 ",(0,l.kt)("inlineCode",{parentName:"li"},".next()")," \u65b9\u6cd5"),(0,l.kt)("li",{parentName:"ul"},"\u5b83\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"li"},"{value: ..., done: true/false}")," \u7684\u5f62\u5f0f\u8fd4\u56de\u503c")),(0,l.kt)("hr",null),(0,l.kt)("p",null,"\u4e0b\u9762\u5177\u4f53\u63a2\u8ba8\u6267\u884c\u8fc7\u7a0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'function* gen() {\n    let ask1 = yield "2 + 2 = ?";\n    console.log(ask1);\n    let ask2 = yield "3 * 3 = ?"\n    console.log(ask2);\n}\nlet generator = gen();\nconsole.log(generator.next());\nconsole.log(generator.next(4));\nconsole.log(generator.next(9));\n')),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(6672).Z,width:"400",height:"155"})),(0,l.kt)("p",null,"\u6267\u884c\u8fc7\u7a0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:t(5695).Z,width:"740",height:"333"})),(0,l.kt)("p",null,"\u6ce8\uff1a\u7b2c\u4e8c\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},".next(4)")," \u5c06 ",(0,l.kt)("inlineCode",{parentName:"p"},"4")," \u4f5c\u4e3a\u7b2c\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"yield")," \u7684\u7ed3\u679c\u4f20\u9012\u56de generator \u5e76\u6062\u590d generator \u7684\u6267\u884c\u3002"),(0,l.kt)("h3",{id:"\u5f02\u6b65generator"},"\u5f02\u6b65Generator"),(0,l.kt)("h4",{id:"\u5f02\u6b65\u8fed\u4ee3"},"\u5f02\u6b65\u8fed\u4ee3"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"Symbol.asyncIterator")," \u53d6\u4ee3 ",(0,l.kt)("inlineCode",{parentName:"li"},"Symbol.iterator"),"\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"next()")," \u65b9\u6cd5\u5e94\u8be5\u8fd4\u56de\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"li"},"promise"),"\uff08\u5e26\u6709\u4e0b\u4e00\u4e2a\u503c\uff0c\u5e76\u4e14\u72b6\u6001\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"fulfilled"),"\uff09\u3002",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5173\u952e\u5b57 ",(0,l.kt)("inlineCode",{parentName:"li"},"async")," \u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u7b80\u5355\u5730\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"async next()"),"\u3002"))),(0,l.kt)("li",{parentName:"ol"},"\u6211\u4eec\u5e94\u8be5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"for await (let item of iterable)")," \u5faa\u73af\u6765\u8fed\u4ee3\u8fd9\u6837\u7684\u5bf9\u8c61\u3002",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u6ce8\u610f\u5173\u952e\u5b57 ",(0,l.kt)("inlineCode",{parentName:"li"},"await"),"\u3002")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'let range = {\n    from: 1,\n    to: 5,\n\n    [Symbol.asyncIterator]() {\n        return {\n            current: this.from,\n            last: this.to,\n            async next() {\n                // \u6ce8\u610f\uff1a\u6211\u4eec\u53ef\u4ee5\u5728 async next \u5185\u90e8\u4f7f\u7528 "await"\n                await new Promise(resolve => setTimeout(resolve, 1000));\n                if (this.current <= this.last) {\n                    return { done: false, value: this.current++ };\n                } else {\n                    return { done: true };\n                }\n            }\n        };\n    }\n};\n\n(async () => {\n    for await (let value of range) {\n        console.log(value); // 1,2,3,4,5\n    }\n})();\n')),(0,l.kt)("p",null,"\u8fd9\u662f\u4e00\u4e2a\u5bf9\u6bd4 Iterator \u548c\u5f02\u6b65 iterator \u4e4b\u95f4\u5dee\u5f02\u7684\u8868\u683c\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"}),(0,l.kt)("th",{parentName:"tr",align:"left"},"Iterator"),(0,l.kt)("th",{parentName:"tr",align:"left"},"\u5f02\u6b65 iterator"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"\u63d0\u4f9b iterator \u7684\u5bf9\u8c61\u65b9\u6cd5"),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"Symbol.iterator")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"Symbol.asyncIterator"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"next()")," \u8fd4\u56de\u7684\u503c\u662f"),(0,l.kt)("td",{parentName:"tr",align:"left"},"\u4efb\u610f\u503c"),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"\u8981\u8fdb\u884c\u5faa\u73af\uff0c\u4f7f\u7528"),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"for..of")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"for await..of"))))),(0,l.kt)("p",null,"!> Spread \u8bed\u6cd5 ",(0,l.kt)("inlineCode",{parentName:"p"},"...")," \u65e0\u6cd5\u5f02\u6b65\u5de5\u4f5c\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"alert( [...range] ); // Error, no Symbol.iterator")),(0,l.kt)("h4",{id:"\u5f02\u6b65generator-1"},"\u5f02\u6b65Generator"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"async function* generateSequence(start, end) {\n    for (let i = start; i <= end; i++) {\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        yield i;\n    }\n}\n\n(async () => {\n    let generator = generateSequence(1, 5);\n    for await (let value of generator) {\n        console.log(value); // 1,2,3,4,5\n    }\n})();\n")),(0,l.kt)("h2",{id:"\u5341\u4e8c\u6742\u9879"},"\u5341\u4e8c\u3001\u6742\u9879"))}c.isMDXComponent=!0},9124:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/QQ\u622a\u56fe20210423172853-60ebe7ee97847a09a9cb06ff111c55d0.png"},3124:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210423173701175-fb39fa8ebe2db7d9cc7bf3502a2cdf04.png"},19:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210423173837480-c65306d6de5f9448a1532eb20efc4a1c.png"},9804:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210423174655639-5ac96913d250eab09c20c3bf0c50bf58.png"},181:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210423175724649-8dabd1ebe844ae6ba1730eb0cd9986f7.png"},2537:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210423184738349-723e213d81a81758e85a3f450728a4be.png"},3679:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210423202448026-81020dfd5b0d073db0a5e0f943bc844c.png"},8400:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210424082336065-35dd870b22ad3c130f4ea8a7e713f9c2.png"},8839:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210424082858720-a9b61fdad12e67fc6f1d32ce3bc43b7a.png"},6566:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210424160837037-b8ec08441fd96063768899e0f523327d.png"},2150:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210425151237611-fedcf44071fd9d480348bfae7863119d.png"},8975:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210425152222767-d0d950d9aa3906e8c458e1be0a6259e9.png"},9773:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210425163615216-f85312005ddb3e77f8b8037c4aee0079.png"},8187:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210425163903409-6ef355c8b894ed39726b6c1da6de6c79.png"},3463:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210425164109675-d98ba55eb014f39015f38afa5210a80d.png"},4991:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210425172558054-1406cca0a19dbe55052f54bccb2b0767.png"},4114:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210425191550175-a78929f1cc7cf661e610e51a2480e5bb.png"},4192:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210428103538828-cbfa7189decbb39997598bf03d508a52.png"},740:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210428110121610-9d18746190d8f32a00c9d0b05bd2d65a.png"},7160:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210428110254209-f459b5cf60bffa75ac5c4fd7e0939428.png"},2371:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210428144255954-bc576b53f60612224df9a743d0e30a8b.png"},2598:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210428150656904-d4fe3a59a340007bc42ec3b186c31566.png"},4066:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210503160004199-db55397f8d4098767e20f6ff66feb992.png"},6672:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210505145354865-5cd511f06d77a605d828c164dc3d4038.png"},823:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/v2-1ae63b09f2f38aee29efc79f1400b8d3_1440w-aeb949405d9f7019a18f2cc1c69ea764.jpg"},8470:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/v2-78c74eec6cda54f09e10092a5080f739_1440w-ff5b8320017b044d3d67e0b42cdf768c.jpg"},2461:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/\u539f\u578b\u94fe-00314a0c0ba57e23759ca8929366d2a3.png"},5695:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/\u6267\u884c\u8fc7\u7a0b-ec75f70c93b961f8f87964ed4804409a.png"}}]);