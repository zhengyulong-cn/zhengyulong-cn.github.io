"use strict";(self.webpackChunkprivate_long_blog=self.webpackChunkprivate_long_blog||[]).push([[8856],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>f});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var u=r.createContext({}),p=function(e){var n=r.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},s=function(e){var n=p(e.components);return r.createElement(u.Provider,{value:n},e.children)},m="mdxType",k={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,u=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=p(t),d=a,f=m["".concat(u,".").concat(d)]||m[d]||k[d]||l;return t?r.createElement(f,i(i({ref:n},s),{},{components:t})):r.createElement(f,i({ref:n},s))}));function f(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,i=new Array(l);i[0]=d;var o={};for(var u in n)hasOwnProperty.call(n,u)&&(o[u]=n[u]);o.originalType=e,o[m]="string"==typeof e?e:a,i[1]=o;for(var p=2;p<l;p++)i[p]=t[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},8262:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>i,default:()=>k,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var r=t(7462),a=(t(7294),t(3905));const l={},i="Node\u5165\u95e8\u2014\u2014Buffer\u548cStream",o={unversionedId:"programing-skills/Node\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Node\u5165\u95e8\u2014\u2014Buffer\u548cStream",id:"programing-skills/Node\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Node\u5165\u95e8\u2014\u2014Buffer\u548cStream",title:"Node\u5165\u95e8\u2014\u2014Buffer\u548cStream",description:"\u6570\u636e\u7ed3\u6784\u5316\u5bf9\u8c61",source:"@site/docs/programing-skills/Node\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Node\u5165\u95e8\u2014\u2014Buffer\u548cStream.md",sourceDirName:"programing-skills/Node\u4ece\u5165\u95e8\u5230\u7cbe\u901a",slug:"/programing-skills/Node\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Node\u5165\u95e8\u2014\u2014Buffer\u548cStream",permalink:"/docs/programing-skills/Node\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Node\u5165\u95e8\u2014\u2014Buffer\u548cStream",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"programing-skills",previous:{title:"Node\u5165\u95e8\u2014\u2014\u57fa\u7840API",permalink:"/docs/programing-skills/Node\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Node\u5165\u95e8\u2014\u2014\u57fa\u7840API"},next:{title:"Node\u5165\u95e8\u2014\u2014\u6587\u4ef6\u64cd\u4f5c",permalink:"/docs/programing-skills/Node\u4ece\u5165\u95e8\u5230\u7cbe\u901a/Node\u5165\u95e8\u2014\u2014\u6587\u4ef6\u64cd\u4f5c"}},u={},p=[{value:"\u6570\u636e\u7ed3\u6784\u5316\u5bf9\u8c61",id:"\u6570\u636e\u7ed3\u6784\u5316\u5bf9\u8c61",level:2},{value:"TypedArray",id:"typedarray",level:3},{value:"ArrayBuffer",id:"arraybuffer",level:3},{value:"DataView",id:"dataview",level:3},{value:"Buffer",id:"buffer",level:2},{value:"Buffer\u5b9e\u4f8b\u5316",id:"buffer\u5b9e\u4f8b\u5316",level:3},{value:"Buffer\u7684\u4e00\u4e9b\u64cd\u4f5c",id:"buffer\u7684\u4e00\u4e9b\u64cd\u4f5c",level:3},{value:"Stream",id:"stream",level:2},{value:"\u57fa\u672c\u6982\u5ff5",id:"\u57fa\u672c\u6982\u5ff5",level:3},{value:"\u53ef\u8bfb\u6d41",id:"\u53ef\u8bfb\u6d41",level:3},{value:"\u81ea\u5b9a\u4e49\u53ef\u8bfb\u6d41",id:"\u81ea\u5b9a\u4e49\u53ef\u8bfb\u6d41",level:4},{value:"\u4e24\u79cd\u8bfb\u53d6\u6a21\u5f0f\u548c\u4e09\u79cd\u72b6\u6001",id:"\u4e24\u79cd\u8bfb\u53d6\u6a21\u5f0f\u548c\u4e09\u79cd\u72b6\u6001",level:4},{value:"\u53ef\u5199\u6d41",id:"\u53ef\u5199\u6d41",level:3},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:4},{value:"\u81ea\u5b9a\u4e49\u53ef\u5199\u6d41",id:"\u81ea\u5b9a\u4e49\u53ef\u5199\u6d41",level:4},{value:"back pressure",id:"back-pressure",level:4},{value:"\u53cc\u5de5\u6d41",id:"\u53cc\u5de5\u6d41",level:3},{value:"Duplex",id:"duplex",level:4},{value:"Transform",id:"transform",level:4}],s={toc:p},m="wrapper";function k(e){let{components:n,...l}=e;return(0,a.kt)(m,(0,r.Z)({},s,l,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"node\u5165\u95e8buffer\u548cstream"},"Node\u5165\u95e8\u2014\u2014Buffer\u548cStream"),(0,a.kt)("h2",{id:"\u6570\u636e\u7ed3\u6784\u5316\u5bf9\u8c61"},"\u6570\u636e\u7ed3\u6784\u5316\u5bf9\u8c61"),(0,a.kt)("p",null,"\u4e3b\u8981\u5206\u4e3a\u4e09\u7c7b\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u7c7b\u578b\u5316\u6570\u7ec4\uff08TypedArray\uff09\uff1a\u5728\u6807\u51c6\u4e2d\u5373\u6570\u7ec4\u5bf9\u8c61Array\uff0c\u5728ES2017\u540e\u5f15\u5165\u4e86",(0,a.kt)("inlineCode",{parentName:"li"},"Int8Array"),"\u3001",(0,a.kt)("inlineCode",{parentName:"li"},"Unit8Array"),"\u3001",(0,a.kt)("inlineCode",{parentName:"li"},"Float32Array"),"\u3001",(0,a.kt)("inlineCode",{parentName:"li"},"BigInt64Array"),"\u7b49\u5bf9\u8c61"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"ArrayBuffer"),"\u548c",(0,a.kt)("inlineCode",{parentName:"li"},"SharedArrayBuffer")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"DataView"))),(0,a.kt)("p",null,"\u5b83\u4eec\u7684\u8f6c\u6362\u5173\u7cfb\u5982\u4e0b\uff1a"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"\u6570\u636e\u7ed3\u6784\u5316\u5bf9\u8c61\u8f6c\u6362",src:t(8698).Z,width:"668",height:"181"})),(0,a.kt)("h3",{id:"typedarray"},"TypedArray"),(0,a.kt)("p",null,"\u8be5\u5bf9\u8c61\u63cf\u8ff0\u4e00\u4e2a\u5e95\u5c42\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u7f13\u51b2\u533a\u7684\u4e00\u4e2a\u7c7b\u6570\u7ec4\u89c6\u56fe\u3002"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Int8Array"),"\uff1a\u4e8c\u8fdb\u5236\u8865\u78018\u4f4d\u6709\u7b26\u53f7\u6574\u6570\u7684\u6570\u7ec4\uff0c\u56e0\u6b64\u8303\u56f4\u662f",(0,a.kt)("inlineCode",{parentName:"li"},"0b10000000~0b01111111"),"\uff08\u5341\u8fdb\u5236",(0,a.kt)("inlineCode",{parentName:"li"},"-128~127"),"\uff09"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Uint8Array"),"\uff1a\u4e8c\u8fdb\u5236\u8865\u78018\u4f4d\u65e0\u7b26\u53f7\u6574\u6570\u7684\u6570\u7ec4\uff0c\u56e0\u6b64\u8303\u56f4\u662f",(0,a.kt)("inlineCode",{parentName:"li"},"0b00000000~0b11111111"),"\uff08\u5341\u8fdb\u5236",(0,a.kt)("inlineCode",{parentName:"li"},"0~255"),"\uff09"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Float32Array"),"\uff1a32\u4f4d\u6d6e\u70b9\u6570\u578b\u6570\u7ec4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"BigInt64Array"),"\uff1a64\u4f4d\u6709\u7b26\u53f7\u6574\u6570\u7ec4\u6210\u7684\u6570\u7ec4\uff0c\u521d\u59cb\u5316\u503c\u4e3a",(0,a.kt)("inlineCode",{parentName:"li"},"0n"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const arr1 = new Int8Array(4);\narr1[0] = 0b01111111;   // +\u6700\u5927\narr1[1] = 0b00000001;   // +\u6700\u5c0f\narr1[2] = 0b11111111;   // -\u6700\u5927\narr1[3] = 0b10000000;   // -\u6700\u5c0f\nconsole.log(arr1);    // Int8Array(4) [ 127, 1, -1, -128 ]\nconsole.log(arr1.length);   // 4\n// \u6570\u7ec4\u5143\u7d20\u5360\u51e0\u4e2a\u5b57\u8282\nconsole.log(arr1.BYTES_PER_ELEMENT);  // 1\nconst arr2 = new Uint8Array(4);\narr2[0] = 0b00000000;   // \u6700\u5c0f\narr2[1] = 0b11111111;   // \u6700\u5927\nconsole.log(arr2);  // Uint8Array(4) [ 0, 255, 0, 0 ]\nconsole.log(arr2.length);   // 4\nconsole.log(arr2.BYTES_PER_ELEMENT);  // 1\nconst arr3 = new Int16Array(4);\narr3[0] = 0b0111111111111111;\narr3[1] = 0b0000000000000001;\narr3[2] = 0b1111111111111111;\narr3[3] = 0b1000000000000000;\nconsole.log(arr3);  // Int16Array(4) [ 32767, 1, -1, -32768 ]\nconsole.log(arr3.length);   // 4\nconsole.log(arr3.BYTES_PER_ELEMENT);  // 2\n")),(0,a.kt)("p",null,"\u521b\u5efaTypedArray\u6570\u7ec4\u7684\u56db\u79cd\u65b9\u5f0f\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// 1.\u521b\u5efa\u957f\u5ea6\u4e3a8\u7684Int32\u6570\u7ec4\nconst arr1 = new Int32Array(8);\n// 2.\u901a\u8fc7\u6570\u7ec4\u521b\u5efa\nconst arr2 = new Int32Array([21, 22]);\n// 3.\u901a\u8fc7\u5176\u4ed6TypedArray\u521b\u5efa\nconst arr3 = new Int32Array(arr2);\n// 4.\u901a\u8fc7ArrayBuffer\u521b\u5efa\uff0c\u4e09\u4e2a\u53c2\u6570\u5206\u522b\u4e3abuffer,byteOffset,length\nconst arr4 = new Int32Array(new ArrayBuffer(16), 0, 4);\n")),(0,a.kt)("p",null,"\u81f3\u4e8e\u4e00\u4e9b\u5177\u4f53\u7684\u65b9\u6cd5\uff0c\u8fd9\u91cc\u4e0d\u662f\u91cd\u70b9\uff0c\u5f88\u591a\u548cArray\u7c7b\u4f3c\u3002"),(0,a.kt)("h3",{id:"arraybuffer"},"ArrayBuffer"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"ArrayBuffer"),"\u5bf9\u8c61\u7528\u6765\u8868\u793a\u901a\u7528\u7684\u3001\u56fa\u5b9a\u957f\u5ea6\u7684\u539f\u59cb\u4e8c\u8fdb\u5236\u6570\u636e\u7f13\u51b2\u533a\u3002"),(0,a.kt)("p",null,"\u4e0d\u80fd\u76f4\u63a5\u64cd\u4f5c",(0,a.kt)("inlineCode",{parentName:"p"},"ArrayBuffer"),"\u7684\u5185\u5bb9\uff0c\u800c\u662f",(0,a.kt)("strong",{parentName:"p"},"\u8981\u901a\u8fc7TypedArray\u6216DataView\u5bf9\u8c61\u6765\u64cd\u4f5c"),"\uff0c\u5b83\u4eec\u4f1a\u5c06\u7f13\u51b2\u533a\u4e2d\u7684\u6570\u636e\u8868\u793a\u4e3a\u7279\u5b9a\u7684\u683c\u5f0f\uff0c\u5e76\u901a\u8fc7\u8fd9\u4e9b\u683c\u5f0f\u6765\u8bfb\u5199\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const buffer = new ArrayBuffer(8);\nconsole.log(buffer.byteLength);     // 8\n")),(0,a.kt)("h3",{id:"dataview"},"DataView"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"DataView"),"\u89c6\u56fe\u662f\u4e00\u4e2a\u53ef\u4ee5\u4ece\u4e8c\u8fdb\u5236",(0,a.kt)("inlineCode",{parentName:"p"},"ArrayBuffer"),"\u5bf9\u8c61\u4e2d\u8bfb\u5199\u591a\u79cd\u6570\u503c\u7c7b\u578b\u7684\u5e95\u5c42\u63a5\u53e3\u3002"),(0,a.kt)("p",null,"\u4e0b\u9762\u7684view1\u548cview2\u662f\u9488\u5bf9\u4e8ebuffer\u7684\u4e24\u4e2a\u89c6\u56fe\uff0cbuffer\u5bf9\u5b83\u4eec\u4fe9\u662f\u5171\u4eab\u7684\uff0c\u90fd\u80fd\u901a\u8fc7",(0,a.kt)("inlineCode",{parentName:"p"},"view.buffer"),"\u8bbf\u95ee\u5230ArrayBuffer\u5bf9\u8c61"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const buffer = new ArrayBuffer(8);\n// \u521b\u5efa\u89c6\u56fe\nconst view1 = new DataView(buffer);\nconst view2 = new DataView(buffer, 4, 2);\n// \u5c06byteOffset\u4e3a4\u540e\u76842\u5b57\u8282\u8bbe\u7f6e\u4e3a0xFFFF\uff0c\u53731111111111111111\nview1.setInt16(1, 0xFFFF);\nconsole.log(view1.getInt16(0));  // 0xFFFF\uff0c\u5373\u4e3a-1\nconsole.log(view2);\n/*\nDataView {\n  byteLength: 2,\n  byteOffset: 4,\n  buffer: ArrayBuffer {\n    [Uint8Contents]: <00 ff ff 00 00 00 00 00>,\n    byteLength: 8\n  }\n}\n*/\n")),(0,a.kt)("h2",{id:"buffer"},"Buffer"),(0,a.kt)("h3",{id:"buffer\u5b9e\u4f8b\u5316"},"Buffer\u5b9e\u4f8b\u5316"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Buffer.from()"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\u4f20\u5165\u5b57\u7b26\u4e32"),(0,a.kt)("li",{parentName:"ul"},"\u4f20\u5165buffer\uff0c\u521b\u5efa\u526f\u672c"),(0,a.kt)("li",{parentName:"ul"},"\u4f20\u5165\u6570\u5b57\u6570\u7ec4"),(0,a.kt)("li",{parentName:"ul"},"\u4f20\u5165ArrayBuffer\uff0c\u5171\u4eab\u5185\u5b58"),(0,a.kt)("li",{parentName:"ul"},"\u4f20\u5165\u652f\u6301valueOf\u6216Symbol.toPrimitive\u7684\u5bf9\u8c61",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"valueOf"),"\uff1a",(0,a.kt)("inlineCode",{parentName:"li"},"Buffer.from(object.valueOf(), offsetOrEncoding, length)")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Symbol.toPrimitive"),"\uff1a",(0,a.kt)("inlineCode",{parentName:"li"},"Buffer.from(object[Symbol.toPrimitive]('string'), offsetOrEncoding)")))))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Buffer.alloc()"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// 1.\u901a\u8fc7\u5b57\u7b26\u4e32\u521b\u5efabuffer\nconst buf1 = Buffer.from('Hello', 'utf-8');\nconsole.log(buf1);  // <Buffer 48 65 6c 6c 6f>\n// 2.\u901a\u8fc7buffer\u521b\u5efa\u526f\u672cbuffer\nconst buf2 = Buffer.from(buf1);\nconsole.log(buf2, buf1 === buf2);   // <Buffer 48 65 6c 6c 6f> false\n// 3.\u901a\u8fc7\u6570\u5b57\u6570\u7ec4\u521b\u5efabuffer\nconst buf3 = Buffer.from([0x56, 0xff, 0xc3]);\nconsole.log(buf3);  // <Buffer 56 ff c3>\n// 4.\u4e0eArrayBuffer\u5171\u4eab\u5185\u5b58\nconst ab = new Int8Array([10, 16]);\nconst buf4 = Buffer.from(ab.buffer);\nconsole.log(buf4);  // <Buffer 0a 10>\n// \u7531\u4e8e\u662f\u5171\u4eab\u5185\u5b58\uff0c\u4fee\u6539\u540eBuffer\u4e5f\u4f1a\u8ddf\u7740\u81ea\u52a8\u4fee\u6539\nab[1] = 11;\nconsole.log(buf4);  // <Buffer 0a 0b>\n// 5.\u652f\u6301valueOf\u6216Symbol.toPrimitive\u7684\u5bf9\u8c61\uff0c\u521d\u59cb\u5316Buffer\nclass Foo {\n  [Symbol.toPrimitive]() {\n    return 'this is a test';\n  }\n}\nconst buf5 = Buffer.from(new Foo())\nconsole.log(buf5);  // <Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74>\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"/**\n * size: buffer\u5927\u5c0f\n * fill: \u8981\u586b\u5145\u7684\u521d\u59cb\u503c\n * encoding: \u5982\u679cfill\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u8fd9\u662f\u5b83\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u9ed8\u8ba4utf8\n */\nconst buf = Buffer.alloc(8,'ab','utf8')\nconsole.log(buf);   // <Buffer 61 62 61 62 61 62 61 62>\n")),(0,a.kt)("h3",{id:"buffer\u7684\u4e00\u4e9b\u64cd\u4f5c"},"Buffer\u7684\u4e00\u4e9b\u64cd\u4f5c"),(0,a.kt)("p",null,"1.Buffer\u548cString\u8f6c\u6362"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u5b57\u7b26\u4e32---\x3eBuffer\nconst buf1 = Buffer.from('test', 'utf8')\nconsole.log(buf1);    // <Buffer 74 65 73 74>\n// Buffer---\x3e\u5b57\u7b26\u4e32\nconst str1 = buf1.toString();\nconst str2 = buf1.toString('hex');\nconsole.log(str1, str2);    // test 74657374\n")),(0,a.kt)("p",null,"2.Buffer\u62fc\u63a5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const buf1 = Buffer.from('a');\nconst buf2 = Buffer.from('b');\nconst buf3 = Buffer.from('c');\nconsole.log(Buffer.concat([buf1, buf2, buf3]));   // <Buffer 61 62 63>\n")),(0,a.kt)("p",null,"3.StringDecoder"),(0,a.kt)("p",null,"\u5728Node.js\u4e2d\u6c49\u5b57\u5b57\u7b26\u662f\u7531\u4e09\u4e2a\u5b57\u8282\u8868\u793a\u7684\uff0c\u5982\u679c\u5904\u7406\u4e2d\u6587\u5b57\u7b26\u65f6\u5019\u4f7f\u7528\u76843\u7684\u500d\u6570\u7684\u5b57\u8282\u6570\uff0c\u5c31\u4f1a\u9020\u6210\u5b57\u7b26\u62fc\u63a5\u4e71\u7801\u95ee\u9898\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(6531).Z,width:"447",height:"186"})),(0,a.kt)("p",null,"\u4f7f\u7528 string_decoder \u6a21\u5757\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1a"),(0,a.kt)("p",null,"StringDecoder\u5728\u5f97\u5230\u7f16\u7801\u540e\uff0c\u77e5\u9053\u5bbd\u5b57\u8282\u5728utf-8\u4e0b\u53603\u4e2a\u5b57\u8282\uff0c\u6240\u4ee5\u5728\u5904\u7406\u672b\u5c3e\u4e0d\u5168\u7684\u5b57\u8282\u65f6\uff0c\u4f1a\u4fdd\u7559\u5230\u7b2c\u4e8c\u6b21write()\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js{1,3,7}"},"const { StringDecoder } = require('string_decoder');\nconst buf = Buffer.from('\u4e2d\u6587\u5b57\u7b26\u4e32\uff01');\nconst decoder = new StringDecoder('utf8');\nfor (let i = 0; i < buf.length; i += 5) {\n  const b = Buffer.allocUnsafe(5);\n  buf.copy(b, 0, i);\n  console.log(decoder.write(b));\n}\n")),(0,a.kt)("h2",{id:"stream"},"Stream"),(0,a.kt)("h3",{id:"\u57fa\u672c\u6982\u5ff5"},"\u57fa\u672c\u6982\u5ff5"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u6d41\u662f\u5bf9\u8f93\u5165\u8f93\u51fa\u8bbe\u5907\u7684\u62bd\u8c61\uff0c\u662f\u4e00\u7ec4\u6709\u5e8f\u7684\u3001\u6709\u8d77\u70b9\u548c\u7ec8\u70b9\u7684\u5b57\u8282\u6570\u636e\u4f20\u8f93\u624b\u6bb5"),"\u3002"),(0,a.kt)("p",null,"\u5728Node.js\u4e2d\u5b89\u88c5\u6d41\u52a8\u65b9\u5411\u53ef\u4ee5\u5206\u4e3a\u4e09\u79cd\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u6d41\u5411\u7a0b\u5e8f\uff1areadable"),(0,a.kt)("li",{parentName:"ul"},"\u7a0b\u5e8f\u6d41\u5411\u8bbe\u5907\uff1awritable"),(0,a.kt)("li",{parentName:"ul"},"\u53cc\u5411\u6d41\u52a8\uff1aduplex\u3001transform")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pipe()"),"\u8fde\u63a5\uff1a\u6d41\u7684\u52a0\u5de5\u5668\uff0c\u5982\u4e0b\u9762\u4f8b\u5b50\u6240\u793a\uff0c\u6d41\u7684\u65b9\u5411\uff1a"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rs ---\x3e lowercase"),"\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"lowercase"),"\u5728\u4e0b\u6e38\uff0c\u6240\u4ee5",(0,a.kt)("inlineCode",{parentName:"p"},"lower"),"\u9700\u8981\u662f\u4e2awritable\u6d41\u3002\n",(0,a.kt)("inlineCode",{parentName:"p"},"lowercase ---\x3e ws"),"\uff1a\u76f8\u5bf9\u800c\u8a00\uff0c",(0,a.kt)("inlineCode",{parentName:"p"},"lowercase"),"\u53c8\u5728\u4e0a\u6e38\uff0c\u6240\u4ee5",(0,a.kt)("inlineCode",{parentName:"p"},"lower"),"\u9700\u8981\u662f\u4e2areadable\u6d41\u3002"),(0,a.kt)("p",null,"\u56e0\u6b64",(0,a.kt)("inlineCode",{parentName:"p"},"lowercase"),"\u5fc5\u987b\u662f\u53cc\u5411\u7684\u6d41\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\nconst rs = fs.createReadStream('./test.txt');\nconst ws = fs.createWriteStream('./src/test.txt');\nrs.pipe(lowercase).pipe(ws);\n")),(0,a.kt)("h3",{id:"\u53ef\u8bfb\u6d41"},"\u53ef\u8bfb\u6d41"),(0,a.kt)("p",null,"\u53ef\u8bfb\u6d41\u662f",(0,a.kt)("strong",{parentName:"p"},"\u751f\u4ea7\u6570\u636e"),"\u7528\u6765\u4f9b\u7a0b\u5e8f\u6d88\u8d39\u7684\u6d41\u3002\u5e38\u89c1\u7684\u6570\u636e\u751f\u4ea7\u65b9\u5f0f\u6709\u8bfb\u53d6\u78c1\u76d8\u6587\u4ef6\u3001\u8bfb\u53d6\u7f51\u7edc\u8bf7\u6c42\u5185\u5bb9\u7b49\u3002"),(0,a.kt)("h4",{id:"\u81ea\u5b9a\u4e49\u53ef\u8bfb\u6d41"},"\u81ea\u5b9a\u4e49\u53ef\u8bfb\u6d41"),(0,a.kt)("p",null,"\u81ea\u5b9a\u4e49\u53ef\u8bfb\u6d41\u9700\u8981\u4e24\u6b65\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u7ee7\u627fStream\u6a21\u5757\u7684Readable\u7c7b\u3002"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"\u91cd\u5199",(0,a.kt)("inlineCode",{parentName:"strong"},"_read()"),"\u65b9\u6cd5"),"\uff0c\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"this.push"),"\u5c06\u751f\u4ea7\u7684\u6570\u636e\u653e\u5165\u5230\u5f85\u8bfb\u53d6\u961f\u5217\u4e2d\u3002")),(0,a.kt)("p",null,"\u6ce8\u610f\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"_read()"),"\u65b9\u6cd5\u6709\u4e00\u4e2a\u53c2\u6570size\uff0c\u5728\u6682\u505c\u6a21\u5f0f\u4e0b\u6307\u5b9a\u5e94\u8bfb\u53d6\u591a\u5c11\u6570\u636e\u8fd4\u56de\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"this.push"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\u5185\u5bb9\u53ea\u80fd\u662f\u5b57\u7b26\u4e32\u6216Buffer\uff0c\u4e0d\u80fd\u662f\u6570\u5b57"),(0,a.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u4e2a\u53c2\u6570encoding\u6307\u5b9a\u5b57\u7b26\u4e32\u7f16\u7801\u7c7b\u578b"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"this.push(null)"),"\u7528\u4e8e\u6807\u8bc6\u6570\u636e\u8bfb\u53d6\u5b8c\u6bd5")))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const { Readable } = require('stream');\nclass RandomNumberStream extends Readable {\n  constructor(max) {\n    super();\n    this.max = max;\n  }\n  _read() {\n    setTimeout(() => {\n      if (this.max) {\n        const randomNumber = parseInt(Math.random() * 1000);\n        this.push(`${randomNumber}\\n`);\n        this.max = this.max - 1;\n      } else {\n        // \u5411\u7f13\u5b58\u533apush\u4e00\u4e2anull\u7528\u4e8e\u6682\u505c\u64cd\u4f5c\n        this.push(null);\n      }\n    }, 100)\n  }\n}\n// \u8bfb\u53d65\u4e2a\u4efb\u610f\u6570\uff0c\u6bcf\u4e2a\u95f4\u96940.1s\uff0c\u8f93\u51fa\u5230\u63a7\u5236\u53f0\nconst rns = new RandomNumberStream(5);\nrns.pipe(process.stdout)\n")),(0,a.kt)("h4",{id:"\u4e24\u79cd\u8bfb\u53d6\u6a21\u5f0f\u548c\u4e09\u79cd\u72b6\u6001"},"\u4e24\u79cd\u8bfb\u53d6\u6a21\u5f0f\u548c\u4e09\u79cd\u72b6\u6001"),(0,a.kt)("p",null,"\u5728\u4e0a\u9762\u4ee3\u7801\u4e2d\u7528\u4e86setTimeout\u800c\u4e0d\u662fsetInterval\uff0c\u4e3a\u5565\uff1f\u8fd9\u5c31\u8981\u5f15\u51fa\u4e24\u79cd\u8bfb\u53d6\u6a21\u5f0f\u5462\uff0c\u4f7f\u7528\u4e86",(0,a.kt)("inlineCode",{parentName:"p"},"pipe()"),"\u8bbe\u7f6e\u4e3a\u4e86\u6d41\u52a8\u6a21\u5f0f\uff0c\u56e0\u800c\u901a\u8fc7setTimeout\u4e5f\u80fd\u5b9e\u73b0\u91cd\u590d\u5b9a\u65f6\u6548\u679c\u3002"),(0,a.kt)("p",null,"\u4e24\u79cd\u6a21\u5f0f\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u6d41\u52a8\u6a21\u5f0f\uff1a\u6570\u636e\u4ece\u5e95\u5c42\u7cfb\u7edf\u8bfb\u51fa\uff0c\u5e76",(0,a.kt)("strong",{parentName:"li"},"\u5c3d\u53ef\u80fd\u5feb"),"\u5730\u63d0\u4f9b\u7ed9\u5e94\u7528\u7a0b\u5e8f\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u6682\u505c\u6a21\u5f0f\uff1a\u5fc5\u987b",(0,a.kt)("strong",{parentName:"li"},"\u663e\u793a\u5730\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"strong"},"read()"),"\u65b9\u6cd5"),"\u6765\u8bfb\u53d6\u82e5\u5e72\u6570\u636e\u5757\u3010\u6324\u7259\u818f\u5f0f\u8bfb\u53d6\u6570\u636e\u3011")),(0,a.kt)("p",null,"\u4e24\u79cd\u6a21\u5f0f\u662f\u53ef\u4ee5\u76f8\u4e92\u8f6c\u6362\u7684\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u6682\u505c\u6a21\u5f0f \u2192 \u6d41\u52a8\u6a21\u5f0f",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u6dfb\u52a0data\u4e8b\u4ef6\u76d1\u542c\u5668\u6765\u542f\u52a8\u6570\u636e\u76d1\u542c"),(0,a.kt)("li",{parentName:"ul"},"\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"resume()"),"\u65b9\u6cd5\uff0c\u663e\u793a\u6682\u505c\u53ef\u8bfb\u6d41\u6062\u590d\u53d1\u51fa",(0,a.kt)("inlineCode",{parentName:"li"},"data"),"\u4e8b\u4ef6\uff0c\u8fdb\u800c\u5207\u6362\u5230\u6d41\u52a8\u6a21\u5f0f"),(0,a.kt)("li",{parentName:"ul"},"\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"pipe()"),"\u65b9\u6cd5\u5c06\u6570\u636e\u8f6c\u63a5\u5230\u53e6\u4e00\u4e2a\u53ef\u5199\u6d41"))),(0,a.kt)("li",{parentName:"ul"},"\u6d41\u52a8\u6a21\u5f0f \u2192 \u6682\u505c\u6a21\u5f0f",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\u5728\u6d41\u6ca1\u6709",(0,a.kt)("inlineCode",{parentName:"li"},"pipe()"),"\u65f6\uff0c\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"pause()"),"\u65b9\u6cd5\u53ef\u4ee5\u5c06\u6d41\u6682\u505c"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"pipe()"),"\u65f6\u79fb\u9664\u6240\u6709",(0,a.kt)("inlineCode",{parentName:"li"},"data"),"\u4e8b\u4ef6\u7684\u76d1\u542c\uff0c\u518d\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"unpipe()"),"\u65b9\u6cd5")))),(0,a.kt)("p",null,"\u4e09\u79cd\u72b6\u6001\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"readable.readableFlowing === null"),"\uff1a\u4e0d\u63d0\u4f9b\u4f7f\u7528\u6d41\u6570\u636e\u673a\u5236\uff0c\u56e0\u6b64\u6d41\u4e0d\u4f1a\u4ea7\u751f\u6570\u636e\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"readable.readableFlowing === false"),"\uff1a\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"pause()"),"\u3001",(0,a.kt)("inlineCode",{parentName:"li"},"unpipe()"),"\u6216\u63a5\u53d7backpressure\u5bfc\u81f4\u53ef\u8bfb\u6d41\u8bbe\u7f6e\u4e3afalse\uff0c\u6682\u505c\u505c\u6b62\u4e8b\u4ef6\u6d41\u52a8\u5355\u4e0d\u4f1a\u505c\u6b62\u6570\u636e\u751f\u6210\u3002\u8fd9\u79cd\u72b6\u6001\u4e3a",(0,a.kt)("inlineCode",{parentName:"li"},"data"),"\u4e8b\u4ef6\u9644\u52a0\u4fa6\u542c\u5668\u4e0d\u4f1a\u5c06\u72b6\u6001\u5207\u6362\u4e3atrue\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"readable.readableFlowing === true"),"\uff1a\u4e3a",(0,a.kt)("inlineCode",{parentName:"li"},"data"),"\u4e8b\u4ef6\u6dfb\u52a0\u4fa6\u542c\u5668\u3001\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"pipe()"),"\u6216",(0,a.kt)("inlineCode",{parentName:"li"},"resume()"),"\u65b9\u6cd5\u5c06\u5176\u72b6\u6001\u8bbe\u7f6e\u4e3atrue\uff0c\u5bfc\u81f4\u53ef\u8bfb\u6d41\u5f00\u59cb\u4e3b\u52a8\u53d1\u51fa\u4e8b\u4ef6\u3002")),(0,a.kt)("p",null,"1.\u6d41\u52a8\u6a21\u5f0f"),(0,a.kt)("p",null,"\u4e0a\u8ff0\u4f8b\u5b50\u901a\u8fc7",(0,a.kt)("inlineCode",{parentName:"p"},"pipe()"),"\u5c31\u662f\u6d41\u52a8\u6a21\u5f0f\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u901a\u8fc7data\u4e8b\u4ef6\u65b9\u5f0f\u3002"),(0,a.kt)("p",null,"\u5f53\u53ef\u8bfb\u6d41\u751f\u4ea7\u51fa\u53ef\u4f9b\u6d88\u8d39\u7684\u6570\u636e\u540e\u5c31\u4f1a\u89e6\u53d1data\u4e8b\u4ef6\uff0cdata\u4e8b\u4ef6\u76d1\u542c\u5668\u7ed1\u5b9a\u540e\uff0c\u6570\u636e\u4f1a\u88ab\u5c3d\u53ef\u80fd\u5730\u4f20\u9012\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const rns = new RandomNumberStream(5);\nrns.on('data', chunk => {\n  console.log(chunk);\n})\nrns.on('end', () => {\n  console.log('done');\n})\nrns.on('error', (err) => {\n  console.error(err);\n})\n")),(0,a.kt)("p",null,"2.\u6682\u505c\u6a21\u5f0f"),(0,a.kt)("p",null,"Node.js\u63d0\u4f9b\u4e86\u4e00\u4e2a",(0,a.kt)("inlineCode",{parentName:"p"},"readable"),"\u4e8b\u4ef6\uff0c\u5f53\u6570\u636e\u4ece\u6d41\u4e2d\u8bfb\u53d6\u6216\u5230\u8fbe\u672b\u5c3e\u65f6\uff0c\u5c06\u53d1\u51fa",(0,a.kt)("inlineCode",{parentName:"p"},"readable"),"\u4e8b\u4ef6\uff0c\u5982\u679c\u6570\u636e\u53ef\u7528\uff0c",(0,a.kt)("inlineCode",{parentName:"p"},"stream.read()"),"\u5c06\u8fd4\u56de\u8be5\u6570\u636e\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"/**\n * \u5f53read()\u51fd\u6570\u8fd4\u56de\u503c\u4e3anull\u65f6\u5019\u8868\u793a\u8bfb\u53d6\u5b8c\u6210\n * \u8bbe\u7f6esize\u4e3a2\uff0c\u8868\u793a\u6bcf\u6b21\u8bfb\u53d62\u4e2a\u5b57\u8282\n */\nrns.on('readable', () => {\n  let chunk;\n  while ((chunk = rns.read(2)) !== null) {\n    console.log(chunk);\n  }\n})\n")),(0,a.kt)("h3",{id:"\u53ef\u5199\u6d41"},"\u53ef\u5199\u6d41"),(0,a.kt)("p",null,"\u53ef\u5199\u6d41\u662f\u5bf9\u6570\u636e\u6d41\u5411\u8bbe\u5907\u7684\u62bd\u8c61\uff0c\u7528\u6765",(0,a.kt)("strong",{parentName:"p"},"\u6d88\u8d39\u4e0a\u6e38\u6d41\u8fc7\u6765\u7684\u6570\u636e"),"\uff0c\u901a\u8fc7\u53ef\u5199\u6d41\u7a0b\u5e8f\u53ef\u4ee5\u628a\u6570\u636e\u5199\u5165\u8bbe\u5907\uff0c\u5e38\u89c1\u7684\u662f\u672c\u5730\u78c1\u76d8\u6587\u4ef6\u6216\u8005TCP\u3001HTTP\u7b49\u7f51\u7edc\u54cd\u5e94\u3002"),(0,a.kt)("h4",{id:"\u4f7f\u7528"},"\u4f7f\u7528"),(0,a.kt)("p",null,"\u4e4b\u524d\u63d0\u5230\u901a\u8fc7\u76d1\u542c\u53ef\u8bfb\u6d41\u7684data\u4e8b\u4ef6\u5c31\u80fd\u4f7f\u53ef\u8bfb\u6d41\u8fdb\u5165\u5230\u6d41\u52a8\u6a21\u5f0f\u4e2d\uff0c\u6211\u4eec\u5728\u56de\u8c03\u4e8b\u4ef6\u91cc\u8c03\u7528\u4e86\u53ef\u5199\u6d41\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"write()"),"\u65b9\u6cd5\uff0c\u8fd9\u6837\u6570\u636e\u5c31\u88ab\u5199\u5165\u4e86\u53ef\u5199\u6d41\u62bd\u8c61\u7684\u8bbe\u5907\u4e2d\uff0c\u4e5f\u5c31\u662fcopy.txt\u6587\u4ef6\u3002"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"write()"),"\u6709\u4e09\u4e2a\u53c2\u6570\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"chunk"),"\uff1a\u8868\u793a\u8981\u5199\u5165\u7684\u6570\u636e"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"encoding"),"\uff1a\u5b57\u7b26\u7f16\u7801"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1a\u6570\u636e\u88ab\u5199\u5165\u4e4b\u540e\u7684\u56de\u8c03\u51fd\u6570")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\nconst rs = fs.createReadStream('./src/test.txt');\nconst ws = fs.createWriteStream('./copy.txt');\n\nrs.setEncoding('utf-8');\nrs.on('data', chunk => {\n  ws.write(chunk);\n});\n")),(0,a.kt)("h4",{id:"\u81ea\u5b9a\u4e49\u53ef\u5199\u6d41"},"\u81ea\u5b9a\u4e49\u53ef\u5199\u6d41"),(0,a.kt)("p",null,"\u81ea\u5b9a\u4e49\u53ef\u5199\u6d41\u9700\u8981\u4e24\u6b65\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u7ee7\u627fStream\u6a21\u5757\u7684Writable\u7c7b\u3002"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"\u91cd\u5199",(0,a.kt)("inlineCode",{parentName:"strong"},"_write()"),"\u65b9\u6cd5"),"\u3002")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const { Writable } = require('stream');\nclass OutputStream extends Writable {\n  // \u548c\u6700\u7ec8\u53ef\u5199\u6d41\u66b4\u9732\u51fa\u6765\u7684write()\u65b9\u6cd5\u4e00\u6837\uff0c_write()\u65b9\u6cd5\u6709\u4e09\u4e2a\u53c2\u6570\n  _write(chunk, encoding, callback) {\n    process.stdout.write(chunk.toString().toUpperCase());\n    process.nextTick(callback);\n  }\n}\n// \u5b9e\u4f8b\u5316\u53ef\u5199\u6d41\nconst wo = new OutputStream({\n  objectMode: false,\n  highWaterMark: 16,\n  decodeStrings: true\n})\n")),(0,a.kt)("p",null,"\u5b9e\u4f8b\u5316\u53ef\u5199\u6d41\u6709\u51e0\u4e2aoptions\u53ef\u9009\uff0c\u4e0b\u9762\u4e09\u4e2a\u6bd4\u8f83\u5e38\u7528\uff0c\u9664\u4e86\u8fd9\u4e9b\u8fd8\u6709",(0,a.kt)("a",{parentName:"p",href:"https://nodejs.org/dist/latest-v19.x/docs/api/stream.html#new-streamwritableoptions"},"new stream.Writable([options])"),"\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"objectMode"),"\uff1a\u9ed8\u8ba4\u503cfalse\uff0c\u8bbe\u7f6e\u4e3atrue\u65f6",(0,a.kt)("inlineCode",{parentName:"li"},"writable.write()"),"\u65b9\u6cd5\u9664\u4e86string\u548cbuffer\u5916\uff0c\u8fd8\u53ef\u4ee5\u5199\u5165\u4efb\u610fJavaScript\u5bf9\u8c61"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"highWaterMark"),"\uff1a\u6bcf\u6b21\u6700\u591a\u5199\u5165\u7684\u6570\u636e\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a16\uff0c\u537316kb"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"decodeStrings"),"\uff1a\u662f\u5426\u628a\u4f20\u5165\u7684\u6570\u636e\u8f6c\u6210Buffer\uff0c\u9ed8\u8ba4\u662ftrue")),(0,a.kt)("p",null,"\u65b9\u6cd5\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"write()"),"\uff1a\u5f53\u8981\u6c42\u5199\u5165\u7684\u6570\u636e\u5927\u4e8e\u53ef\u5199\u6d41\u7684 highWaterMark \u7684\u65f6\u5019\uff0c\u6570\u636e\u4e0d\u4f1a\u88ab\u4e00\u6b21\u5199\u5165\uff0c\u6709\u4e00\u90e8\u5206\u6570\u636e\u88ab\u6ede\u7559\u3002\u6570\u636e\u6709\u6ede\u7559\u7684\u8bdd\uff0c\u8fd4\u56de false\uff0c\u5982\u679c\u53ef\u4ee5\u5904\u7406\u5b8c\u5c31\u4f1a\u8fd4\u56de true\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"end()"),"\uff1a\u6ca1\u6709\u5176\u4ed6\u6570\u636e\u9700\u8981\u5199\u5165\uff0c\u53ef\u5199\u6d41\u53ef\u4ee5\u5173\u95ed\u4e86\u3002")),(0,a.kt)("p",null,"\u4e8b\u4ef6\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"pipe"),"\uff1a\u53ef\u8bfb\u6d41\u8c03\u7528pipe()\u65b9\u6cd5\u65f6\u5019\u89e6\u53d1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"unpipe"),"\uff1a\u53ef\u8bfb\u6d41\u8c03\u7528unpipe()\u65b9\u6cd5\u65f6\u5019\u89e6\u53d1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"drain"),"\uff1a\u5f53\u4e4b\u524d\u5b58\u5728\u6ede\u7559\u6570\u636e\uff0c\u4e5f\u5c31\u662f writeable.write() \u8fd4\u56de\u8fc7 false\uff0c\u7ecf\u8fc7\u4e00\u6bb5\u65f6\u95f4\u7684\u6d88\u5316\uff0c\u5904\u7406\u5b8c\u4e86\u79ef\u538b\u6570\u636e\uff0c\u53ef\u4ee5\u7ee7\u7eed\u5199\u5165\u65b0\u6570\u636e\u7684\u65f6\u5019\u89e6\u53d1\uff08drain \u7684\u672c\u610f\u5373\u4e3a\u6392\u6c34\u3001\u67af\u7aed\uff0c\u633a\u5f62\u8c61\u7684\uff09"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"finish"),"\u3001",(0,a.kt)("inlineCode",{parentName:"li"},"error"),"\uff1a\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"end()"),"\u65b9\u6cd5\u5e76\u4e14\u6240\u6709\u6570\u636e\u90fd\u88ab\u5199\u5165\u5e95\u5c42\u540e\u624d\u4f1a\u89e6\u53d1\u3002")),(0,a.kt)("h4",{id:"back-pressure"},"back pressure"),(0,a.kt)("p",null,"\u6d41\u4e0d\u662f\u4e00\u6b21\u6027\u628a\u6240\u6709\u6570\u636e\u8f7d\u5165\u5185\u5b58\u5904\u7406\uff0c\u800c\u662f\u4e00\u8fb9\u8bfb\u4e00\u8fb9\u5199\u3002\u4f46\u4e00\u822c\u8bfb\u53d6\u901f\u5ea6\u5feb\u4e8e\u5199\u5165\u901f\u5ea6\uff0c\u90a3\u4e48pipe()\u65b9\u6cd5\u662f\u5982\u4f55\u505a\u5230\u4f9b\u9700\u5e73\u8861\u7684\u5462\uff1f"),(0,a.kt)("p",null,"\u4e3b\u8981\u4f9d\u8d56\u4e0b\u9762\u4e09\u70b9\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u53ef\u8bfb\u6d41\u6709\u6d41\u52a8\u548c\u6682\u505c\u4e24\u79cd\u6a21\u5f0f\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,a.kt)("inlineCode",{parentName:"li"},"pause()")," \u548c ",(0,a.kt)("inlineCode",{parentName:"li"},"resume()")," \u65b9\u6cd5\u5207\u6362"),(0,a.kt)("li",{parentName:"ol"},"\u53ef\u5199\u6d41\u7684 ",(0,a.kt)("inlineCode",{parentName:"li"},"write()")," \u65b9\u6cd5\uff0c\u6bcf\u6b21\u53ef\u4ee5\u5904\u7406\u591a\u5c11\u662f highWatermark \u51b3\u5b9a\u7684"),(0,a.kt)("li",{parentName:"ol"},"\u5f53\u53ef\u5199\u6d41\u5904\u7406\u5b8c\u4e86\u79ef\u538b\u6570\u636e\u4f1a\u89e6\u53d1 drain \u4e8b\u4ef6")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const { Readable, Writable } = require('stream');\n// \u81ea\u5b9a\u4e49\u53ef\u8bfb\u6d41\nclass RandomNumberStream extends Readable {\n  constructor(max) {\n    super();\n    this.max = max;\n  }\n  _read() {\n    setTimeout(() => {\n      if (this.max) {\n        const randomNumber = parseInt(Math.random() * 1000);\n        this.push(`${randomNumber}\\n`);\n        this.max = this.max - 1;\n      } else {\n        // \u5411\u7f13\u5b58\u533apush\u4e00\u4e2anull\u7528\u4e8e\u6682\u505c\u64cd\u4f5c\n        this.push(null);\n      }\n    }, 1000)\n  }\n}\n// \u81ea\u5b9a\u4e49\u53ef\u5199\u6d41\nclass OutputStream extends Writable {\n  _write(chunk, encoding, callback) {\n    // \u5199\u5165\u6570\u636e\n    process.stdout.write(chunk);\n    process.nextTick(callback);\n  }\n}\nconst rns = new RandomNumberStream(10);\nconst os = new OutputStream({\n  objectMode: false,\n  highWaterMark: 8,\n  decodeStrings: true,\n});\n// data\u4e8b\u4ef6\u662f\u6d41\u52a8\u6a21\u5f0f\nrns.on('data', chunk => {\n  // \u5f53\u6709\u6570\u636e\u6ede\u7559\u65f6\uff0c\u8f6c\u6362\u6210\u6682\u505c\u6a21\u5f0f\n  if (os.write(chunk) === false) {\n    console.log('pause');\n    rns.pause();\n  }\n});\n// \u5982\u679c\u6709\u79ef\u538b\u7684\u6570\u636e\uff0c\u5c31\u89e6\u53d1drain\u4e8b\u4ef6\uff0c\u8f6c\u6362\u6210\u6d41\u52a8\u6a21\u5f0f\nos.on('drain', () => {\n  console.log('drain');\n  rns.resume();\n});\n")),(0,a.kt)("h3",{id:"\u53cc\u5de5\u6d41"},"\u53cc\u5de5\u6d41"),(0,a.kt)("p",null,"\u53cc\u6d41\u5c31\u662f\u540c\u65f6\u5b9e\u73b0 Readable \u548c Writable \u6d41\uff0c\u5728Node.js\u4e2d\u53cc\u5de5\u6d41\u5e38\u7528\u5982\u4e0b\u4e24\u79cd\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Duplex"),(0,a.kt)("li",{parentName:"ul"},"Transform")),(0,a.kt)("h4",{id:"duplex"},"Duplex"),(0,a.kt)("p",null,"\u548c\u53ef\u8bfb\u6d41\u3001\u53ef\u5199\u6d41\u7c7b\u4f3c\uff0c\u5b9e\u73b0\u53cc\u5de5\u6d41\u9700\u8981\u4e09\u6b65\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u7ee7\u627f Duplex \u7c7b"),(0,a.kt)("li",{parentName:"ol"},"\u5b9e\u73b0 _read() \u65b9\u6cd5"),(0,a.kt)("li",{parentName:"ol"},"\u5b9e\u73b0 _write() \u65b9\u6cd5")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const { Duplex } = require('stream');\nclass MyDuplex extends Duplex {\n  constructor(options) {\n    super(options);\n  }\n  _write(chunk, encoding, callback) { }\n  _read(size) { }\n}\n")),(0,a.kt)("h4",{id:"transform"},"Transform"),(0,a.kt)("p",null,"\u548cDuplex\u5bf9\u6bd4\u4e24\u8005\u533a\u522b\uff1aDuplex \u867d\u7136\u540c\u65f6\u5177\u5907\u53ef\u8bfb\u6d41\u548c\u53ef\u5199\u6d41\uff0c\u4f46",(0,a.kt)("strong",{parentName:"p"},"\u4e24\u8005\u662f\u76f8\u5bf9\u72ec\u7acb\u7684"),"\uff1bTransform \u7684",(0,a.kt)("strong",{parentName:"p"},"\u53ef\u8bfb\u6d41\u7684\u6570\u636e\u4f1a\u7ecf\u8fc7\u4e00\u5b9a\u7684\u5904\u7406\u8fc7\u7a0b\u81ea\u52a8\u8fdb\u5165\u53ef\u5199\u6d41\u3002")),(0,a.kt)("p",null,"\u5b9e\u73b0Transform\u8f6c\u6362\u6d41\u9700\u8981\u4e09\u6b65\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u7ee7\u627f Transform \u7c7b"),(0,a.kt)("li",{parentName:"ol"},"\u5b9e\u73b0 _transform() \u65b9\u6cd5"),(0,a.kt)("li",{parentName:"ol"},"\u5b9e\u73b0 _flush() \u65b9\u6cd5")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"_transform(chunk, encoding, callback)"),"\uff1a",(0,a.kt)("strong",{parentName:"p"},"\u4e0d\u80fd\u76f4\u63a5\u8c03\u7528\uff0c\u5fc5\u987b\u5b50\u7c7b\u5b9e\u73b0\u3002"),"\u7528\u6765\u63a5\u6536\u6570\u636e\uff0c\u5e76\u4ea7\u751f\u8f93\u51fa\u3002\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"_transform()"),"\u65b9\u6cd5\u5185\u90e8\u53ef\u4ee5\u8c03\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"this.push(data)"),"\u751f\u4ea7\u6570\u636e\uff0c\u4ea4\u7ed9\u53ef\u5199\u6d41\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u8c03\u7528\uff0c\u610f\u5473\u8fd9\u8f93\u5165\u4e0d\u4f1a\u4ea7\u751f\u8f93\u51fa\u3002"),(0,a.kt)("p",null,"\u5f53\u6570\u636e\u5904\u7406\u5b8c\u6210\u540e\u5fc5\u987b\u8c03\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"callback(err, data)"),"\uff0cerr\u4f20\u9012\u9519\u8bef\u4fe1\u606f\uff0cdata\u4f20\u5165\u6548\u679c\u548c this.push(data) \u4e00\u6837\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"transform.prototype._transform = function (data, encoding, callback) {\n  this.push(data);\n  callback();\n};\ntransform.prototype._transform = function (data, encoding, callback) {\n  callback(null, data);\n};\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"_flush()"),"\uff1a",(0,a.kt)("strong",{parentName:"p"},"\u4e0d\u80fd\u76f4\u63a5\u8c03\u7528\uff0c\u5fc5\u987b\u5b50\u7c7b\u5b9e\u73b0\u3002"),"\u5f53\u6ca1\u6709\u66f4\u591a\u7684\u5199\u5165\u6570\u636e\u88ab\u6d88\u8017\u65f6\uff0c\u4f46\u5728\u89e6\u53d1 ",(0,a.kt)("inlineCode",{parentName:"p"},"end"),"\u4e8b\u4ef6\u4ee5\u8868\u793a\u53ef\u8bfb\u6d41\u7ed3\u675f\u4e4b\u524d\uff0c\u5c06\u8c03\u7528\u6b64\u65b9\u6cd5\u3002"),(0,a.kt)("p",null,"Transform \u4e8b\u4ef6\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"finish"),"\uff1a\u5f53\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"transform.end()"),"\u5e76\u4e14\u6570\u636e\u88ab",(0,a.kt)("inlineCode",{parentName:"li"},"_transform()"),"\u5904\u7406\u5b8c\u540e\u4f1a\u89e6\u53d1finish"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"end"),"\uff1a\u8c03\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"_flush()"),"\u540e\u6240\u6709\u6570\u636e\u8f93\u51fa\u5b8c\u6bd5\uff0c\u89e6\u53d1end\u4e8b\u4ef6")))}k.isMDXComponent=!0},6531:(e,n,t)=>{t.d(n,{Z:()=>r});const r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAb8AAAC6CAIAAACxy9QiAAAauUlEQVR4nO3dfVAb550H8F8bPI0nlWzql4Yk1o0YsAohaMYxZg5yyHGTsokT+65Ngnx1hlOLhdGE4l7AkXA6mV4D0hiSi5uMiLFbhkt7ltLOXWwnrdTeOMYJzGDsTOAIjA5OO1n7jp5fRoy203hqpnN/6G0lrVZi0Uoi+X7Gf5h9efbZZx/99OzzrPb50r33biEAAFimL+c7AwAAqxKiJwCAHIieAAByIHoCAMiB6AkAIAeiJwCAHIieAAByIHoCAMiB6AkAIAeiJwCAHIieAAByIHoCAMiB6AkAIAeiJwCAHIieAAByIHoCAMhRlMW0mC7nHm30L/8ZS7+HiEhncnTUqJOXExFRhcnRHlvpP23p90b+aOx07i2lpFVMl3PntWPWYR+lSISCE8esQ74Kk6O9hsbjt4zmhyaOWYd8RERMp3NP5DDxeVNMXEEFozkhaux0Pnwz9ieFTm3DeUs/xZWtILfipcR0OnfefN06NBtdozM5Oja8b+mnuO3j91JGwtWRvMrEnrH0eSQq0ob347KaWBlEa0KaLAUnogWVrjYG46tT3NGFJ8KesfRF6lHqNDOtycn5z4oDrpmX6tTxy4JjL1c+Q+6ZF+sFmRj9cVXTCXP8wvlT9+3qIiKivvPcvrLYnzGvnLvaVDbn1jz8PNEr564+du0nlcbj4e1DaUY3Pfr+1cevxS0xu2derL/mum/n4eiivvPc7msvVz4zmIVzz5JsRk8iilYvXbOjw9lJkWAkjH17HCY2VCcaO517S/2nLdZwfWI6nU5ntaDmRWtPY6dzbyfjlQhtYoEvGKTaJ5lhX9zyxidr1ERBIgpVVp3vdUt/6MPTaDJVEM2SkiKx2xL+VOiaHR1Ox0RcpBPh6bOkiiCxUqowOdqdnSQZCr39Fm/kuJvPx4paWYKrU2FytKe4ygLRisR0Ofd0MZ4M8qlrdnTU0sTrlkhJ6kyOJ7VEiV+eCZtVmDp36GjWl0FtFKtO0TQrfMcs/aFjMc0mXei4adOULitFnTBWhqKVILQREZGZiMJRL150Yd95bt+Maz6ySzC4effb5q64uGZ2P1aW6sjBINV/9yidOJxqA3rFWH9tfq5sex9RYlAuJErdufuGhyaCG0sqEpd73p0IqjdoiYiYzr2l8a0eT7/ljF+705S0F3mn/SSSWhpqomBpVaNwkc70cKmf9Yf/0mxQB31j0bDlHZIOYSunazYJmr1ERL5h67FxqnmCyULqs0ND48GNd+uykJRyZoesqa6yGM+UnzaUpD+lCpOp9sYZi/BLyDdkTQpDjZ0dCZvNDvUP+zKrjT4fW7qnS+RKaTerg7Nj0WvqGY7c1mRew1eVrl+OBdWbhdFRXbWrVbjFK8Z6mp8Lpth/enquzPj+KynT73uwbO7yrkvzZbvfNmchu4pRrt9Tu0Etub6xqjQ4cTaxleSZZtW6HYkfFl3zzlL2/PJD243z7/tLHzbFkquo09HE2anIn9zNoFpXl7uqrKurUPvfT2xn+S76gtqqbIRP0m6WLvQCIX6VxehMD5cml1gy5okaGj+btsnGVJcGRTfLrDaO9Z3xa/d0NiZsRuy1oLqiLvF8llPDV7fp34xSnVEQDfseLJv7retayh3OPeyeL2861ye+9uj2svlLz1PX5fnEoFxglIqeuuadpcJmXWSxqTlcy3V3b6SbC8mfCvZaUL050umlrulwOp1OZ0ftjTNp7t1K9zjDHM2Cquk9O0E1T0aqO/NEDQnaCDQ7ZD19o6bd6XSYclKdtRvUwZtc0uLZhRsyWtbJKkw7tUHfRaU6yrJI9Co7nc5oYFLXhq98zc0zGfTJ6ko20I0/pD3xlJtlVBuJiDz9p/2lezsTvup8w9YzN2s64utexmkmSFGTc6u8ibt6lbt6lbs640qKX2b3D+tozCW4p55v+u18+WORLQ+4dpfNX0q68Y/z/K5T82X7zh8VWfXK9vL5S11E9PylOXXVrgMrOA2FZbnfU13b4awlosTOrNK9TudeIgpOvG6xZt6EFPboOR0lUp2DqXqLfGOzwY5qhrweqjDt1PrP9/mo8cnYem+/xRvqfHQGRYaYVgN1TYezhojiBkBWEcl+T12zw+koWd7gSWzsRYEC8fafqXbubNZ54quKp8/iIZ3J0eF0rvCguer3lCTa71nexF1tIqLg6I81lSfi1z1/aa7p8V0H6PgJ6vtuHY293EXkljxE107X9quPuw8cbopLyux+rGzut7uIiOjwpXnj7kfNdKKARoqEstz2DI4fs4TEV3f/aYvFYjk2TjXN4Vae7w83RPuztJvVwWts4tLZoaFxkne/4xs+H+pp0u3Qqdlp0XrpG7ZaLGdu1HYk35RlFXszqN6gSVpcUbKRbiyk+rwFbyYVR8IGE7FCl/rQijV780T8KovxDQ9NkFTvyo0/+Ih8Czcp1uE7O2S1WCyWM/7EbeM3E65YTm30vDtBtSaxvkvfkNViOX2jpr2TWW4NXw3m3Jr77tP8ZIzqf5jcID3sGqP67x4lOrq9LPifv88k3h12JSd1YNcD6ljLd18ZqeuMKW7w8y+nz3v6hocmqMYUuh/xTvtF+hyZqhT3nivo0fOcHSfdDtOTtTTxrsSXumeaFf9oZY9vbDZYWp3YwxkL69zNyJBahCZN73EKyWE6XTd0LoVuAjJt5kdznhz7dCUbwv/zTPlFeh6TpNxsWbVxdmhonGqaTSWix4iOcC6zhq8Wx5/56SjVdSSN5xx/5jdzZdvdbz9ePv+bphOiu6ZKKlZTWx+tUs+77rtPE/n38miwbHvq8aX8yvHT8r6h4ej3tqf/9I2adofgO5zpdO7ZOC428L2yHj3fRR/V1oiMOzV2ChqbTJU2k76zFfEND01s2OMUjNvqmh2xXt3ZMV9QOKrLdO7NaMwk+Thjs0Fh9xzTtUfWsJsCGjud7TU3Tmd6cyrsQPdM+dWCRl/oAYbwsIy3/8zNmg5nYo9kIu/ZCYrfrMLU2axbXm2MtANqIl90TJcgwcaq0vCdxPLSXD0Gm/55jOp+4E7skTx8ab6svo5Gf5n6USTxpOrKw3+ad1Wp5y4Ldx88Nx0sf1Cse7QAZLnfM73ZoaFxR0d754Kl3+Ptt3AmR7vTGVkpeDKOiIQ9euQ/HX2OT9C7Guogu0ihvvY9kWQSe45mh86zNVVTSR9Y7ubG9lCHbPgQCj40HuYbsloWupyxzAZjz34S+Yasx8jREV0rO0u+4fiEWOlnDJUmuDrBiehzkWGCqxzqA6W4S+w/Ey0fb7+FOp3tka3jO0w9fRa2WXDKRMHxY/2Jcco3ZLWMxW3mP2PxhROXro0J6QxP6NrDGWGvbewQrX7p0lx2Tc6VSBcnkWgf6AnjsUenf/TSub4Tu4SLu345tvuHdC6zhmdcUnVERPSKsV49fyr+WMd/P93x0uPuA4c5InXdi1evvhhaHhzL/5PzX7r33i35zQEAwGqE37kDAMiB6AkAIAeiJwCAHIieAAByIHoCAMiB6AkAIAeiJwCAHDl/Wh4A8irQVjDvO8iG4oHkN0fkCJ6WBwCQA3fuAAByIHoCAMiB6AkAIAeiJwCAHIieAAByIHoCAMhRtG5dcb7zAACw+qDtCQAgB6InAIAciJ4AAHIgegIAyIHoCQAgB6InAIAciJ4AAHIgegIAyIHoCQAgB6InAIAciJ4AAHIgegIAyIHoCQAgB6InAIAciJ4AAHIgegIAyIHoCQAgB6InAIAciJ4AAHIgegIAyIHoCQAgB6InAIAciJ4AAHIgegIAyIHoCQAgB6InAIAciJ4AAHIgegIAyIHoCQAgB6InAIAciJ4AAHIgegIAyIHoCQAgxx2bNn09z1kwtNoPPrrJ/+H0Ym4P29Zz8DvfrN3EfqDQgZU+L21T9wt/X7V07tKnyqS/cgWSwwLJRlYpXnshAwXQ9hyZ5UhVWqvNdz5ka2iz93Qbk/L/eT2vL6islwaKd9UrymZi2qZuc7UqfhnnOTIwIr3bBc9knbl0h5ZYNn6Foa2H0QgX8JODDlfCRnKNDBxJk6+VSnleACukfO2F9LIaPYkoo3CZiB1neX01Y3CL7MhPDfa6Q9HH0NbDmHtKJ0/2ZiuCKkzqvCCmoc3eWLx6LitASPajp6SGNnujRhAQw1j3KFfNVDbQyAWJnUcGTpZ0t+j13zK4jo8YWu1M8eSgY4GJtk85j+14JEw1tNkbI83WWItVa7Sa9XGN4/hYrzV2t0TWJ7VzDa32aEuY89oGLsSlpm+x66PHiwSCFOelNVrNpexg7wITySQfFzvEM5+0iogoIExVIvMpiRxL+ry0RqtZH0goakHsE8uhodXOaOLPMXRjEbpkFzyTdWZ9i73YaxsouIJKf5WlElx28WaaEyJKrL0SpQGKyG30NFRoiEilrU26mx2Z4Rimzqi9IHnJ2YUACeqPSm/u0XNem+1CqAYz3U1cr5uNfFZtLpZCdc7cU+w5MjBCrMthc0X21jZ1m6sFiTe02Rs1nNfWeyGyl5UiVTDUhxCrrIbWNsOFgXBqUk2nlOelqjbbtZODRwbYUHBpaVs4MjASCzTJmQ9nOLIqPv9SmU8tslc4ZjW0dTdpe91sBuclLlUOR343Wd+ij+vEaKjUEHGzoeJkXQ7bQqudabR3lyR+s+a7oNKVhkSCWS7ejGpvwrEyTBpkye2o0cgsR0Q8O558VTMaY9GWFBPxi1zkb37yZKS6sON+nlTrWdIa6zXEeaOVknW5J3nS1DelSdpYpyHOE2n7sC73JK/SMw1ERNqmek389/zI8UxvxlOfF+eJfGhHZjmi4hItSWbewFSr+KlTYh82qcxLnXNJMRE3E23uXRhY2ectdQ5DV0cbKwZDhYb4SY+gpTly3DY4xauqzfZWQ/zO+S+o1CSrTZaLVzIfOTwWRGQ/emqYHrs9+i/hk3BhwHbEJn5dL3gmeZX+WwaRVWGGtha9ip88Fds9sBBLiXU5bLbjpN1RqiI+cEWwXziwxo0/JdLWlqqiTaHQXguByCe1VqsibkZm32Wq8xJLMHXmWWqo1BDvvyhWdFKZl8IuBIg0TE+bRKEvg0QOiR1necG3iKFSI/Ilyrp7bV6ONIzdKhiLLoCCSkkywSwXr6RcHgsiCmLUKCQ0xlJpoBHh7qpqsz1yh8JPDdoy+kYVRtWI4hItUcqdtxSriFSNdntj3GKeiEhTrCKe5UT3y4D4eaUmmnnJPaQyT0mPLgj61y4M2K4Yu1v0TI+dIWU7y0JdwOGb94ZKDXEeiUup0jMNrgGpTnBSoKCWTzrBHBZvTo8FYTkeNZIkOsaSPMQkk9hnLeZKgCdNIHHUIrIrT5r1GonYKy2zMTFJAcm1kplP83QL6+o94qJwP5o+o95SmUZmOIbR1mqJ1VRoiPOItChDT7wJR/+Wa0UFtXxpE8xd8eb2WECU86flG9rsPfbulF2QIzMcaepW9AQxe9HPk6ZS2JOVfHslspvEHVzorqgy5T3RlQBPquItEqlnel6pM598FAMTfbR2hbefoTTcvYNTPKmKY63U9OdFFBkJFNtekEMiIhr53SSvKq3VGio1IpfD0Go3V6v4qcFMQmceCkq0NDJOcLnFq23qFun4yozIsUARuY2egjF3cZEP2AqOwbpGOdI0RjuAtMYmvSp+gEL0yJ4pXlVtbhMbQBj53SRPGkbQGWdoFXQwhaKrZHDM9LwkMs+O+/noUbRGK1PMR+84pTIvwdAq/K2LtlarIj4Q66EQP6+47xLhU1ySOYxuoNK3MJrEy6E1Wu2Mhjhvij7xZLktqNh5J5aGVIKyilewMUl+Zy/rWKCI3N65j8xyjEYjOuYexo77+fATnfKPctxGrfZwBxBRhneCrLvXttBmj+vDivThsq7eIwttPYy5J/xwHue1DQgOGHoQNbJW7MG9jM8rdeZZl8NTHMkD57X1Uls0q1KZlzrWKaPVbo82EBMLSvy8Ro4PlljN4RxyHtvJku6W0rQ5DJcCy+urVYkVoIHRq9I+7Zic+dwVlERpSCQor3hD2QwVVOZjlemOBUr4UmVldfqtcknb1G2uDsgdeirEA+XlcIUp8iQmfla0UqhOBaAA3hKSgHWPcukfz1y5XN/d5Oq8Clno2a9RhM4Vw715ISikMfcIxd6AoDW27RgfCPWsNTB6FXHeXH6Qv+hvdjC0mvUqzuP4QheCfHmuvZCs8O7cFSV8CxSXxSdXQEr0B9qynwUGItTegvMFi54AAFmi+LvlDW3Wx8u+fHP6U7wCGwA+T3IwaqQqpivL658p2rK7/dD+besVyhAAwMrlYsxd+jeSiYo2Gg58/6F7Nt3/9EFj5Z2KZQoAYEUK7Yml9YYDzzGaNUREpNI/e8hYXohPBQAAZHnUyNDWU1/Mq1SqNNuJv/tjvaHtUCR0xjad/Hm/a24pi5kEAFi5LLfsuABfH3Db4idgqJyJe05Fa7QyC6Kh8zlGsyZw+Rdv/Qe7sHiLir5aXvudp5/Yqv/eoaWfv/ZrBFAAKCQFcl+8fseB5xjNWiK6rap+6gdN96xdQ59d//Ct15wfHnrhoU0PPvvc0ltvvIMACgAFoxD6Pddv23/w70rXhv7YvLX6nrVriIjWbtLXahe9H/0vEa3ZVPvswd1bCiTWAwDkP3reWWk8+PT9KfpJl4iWKNzgXFPy0IHvGzYhgAJAQch+MFIJJlkN00RfIxbGLYSPXm489Kw+1RBTYGaULdrWsCm6YI2Gaf8+vXp8BE/eA0C+ZT96Jk/bnTxqtE9yjiEiIgp88quT71wvN5q2rs16FgEAVkzx37knR894d1aKND+vj7/6xju3H9hvfup+4TRftznP6z8buY6xIwDIv7z3e96acb35q08SZjX8LHB9y1OWhNC58OEJhE4AKBR5j55EtPjRL978d/9nCUvj+hRuXx9/6833riB0AkChKIToSUSLF0+84eGiAVTD2FsEd/OBy3jYEwAKTIFETyJaHBl4w8PdJiIizmM74gnPOsBP4odGAFB4lH6/p/avv1V+a/TD6YyeMbr16aWPl7buKFv3tbJHvlm2jvAjdwAoWIX3bvmijZHXLPGTb73mmrmV7wwBAIhQ/N3yy/aXP3368X/f+Y2/4j0n/3Xqj/nODQCAuMJrewIArAb5GzUytHYbv8hzmwPA6qZw9JSYoWjk+Clqsrc1ZC1BAIAcUjJ6ppuhiB1n+eKSZbQ/MeURABQM5fo9E6bZ4G22sTZ7o0ZyH57nVSpVwntGUiWIh5kAII8Uel1m8gxFKjJUFE+etImExRit0bqPMgmdRKTSf6+TEEABIE+UaHuGZihaK5yhiLbs7jZXBzxeYkSan1xoOc9zfveAeOhMTDA05ZGKApfxSyQAyIesR8/1Ow48F5pm49p/TS1tqYjOUDRaeeiFhzbR7evjiT9a1xq7W/Q0NXjqIrFs8mxxy08QAEBx2X1afv22/Qe/o7sr9MddG76uWnMHEdGau4qL2N+f/VPlrjLVHXfdV/WNO+c/mgv+hYhI29T9wkOB4X86dvaTxcXFpN9zLj9BAICcyOKY+7JnKNIarXbz+lGbI0VfKKY8AoDClbU793Kj9XspZiiy2bxpR9vjcTbbz8qNnakSJAqM/7T/3ZLm7qcF83bc5jyY8ggAciUH7bXA/m1TAz9aMB7+h7hgeJsbnCneR26xEXbpjGHKIwDIv6zduc+5Xntrkk9afH381dd+4dfu/8fE0Ol5/WeS6S3JSBANTwDImSz2e2Z9hiJMeQQAhSu7v9TM+gxFmPIIAApU1t/veet/Pppa2rqtbF3od0Hryh7ZdvdXomsDl4d/+m+RZzOLqx56gD75IM1755eRIABAzijxduRbn16aWtq6o2zdHUScx3Z0fmt0mo1X355bIkOr/eC3H3nkmw/e/ZU//99H6aJnBgkCAORc7t4SkvhSD21T9z461euW+t37shIEAMgh5WbmuPXpx9NLZdvL1t0RnqHI9+e49YuffPDBJ8sZJE+XIABADik5r1HWZyjClEcAUDAwrxEAgBz5m9dIitbY3WPvbsK0RwBQsPI3r1GaGYr4yVOZDygBAOSaknfuRRsNB55jNGvCgzwzt1KvKjF2t6R8JUgI57UNXFAqqwAAy6TcW0LWR+IjEan0zx4SzKKRuMplcxPxk4PRV9Vpjd1NdCr+Tw9CJwAUEIXu3MWnITKWF4lPeQQAsNoo0fYMTUO0JnkaItfcV0VXERGRSm/u0QuTifuTn1QgowAAsmU9eq7fceA5RrOWiG6rqp/6QVN0GqJeW8pVc6QN3bnfKip6Z25J5M69bcc4hpAAoJBkN3qu37b/YGgGNyLavDUyHrV203tsylX6Wu17V7ZsUqnuMffQ7YXbJ95870pCsqxrALETAApLFsfc76w0HnpWbODcZvtJqlVExF8+Obqppb6YV6nSdIByniMDI1nIKADAymWt7VmeMnS+VG7sTBU6iQIzoyz9LZHfTfqWyC4n4+/cw68U8SB0AkDByO9vjcIzFOU1DwAAcih95359/NU33rlelHLV7Qf2m5+6whOTdspNfmpwGa+zAwBQVhZHjW7NuN78VVHCDOyfBa5veaq75de9fSlWPXW/iq7wxE+eVOlb6PbChyfefO/KFtE7dwCAwpGjeY3s9i6JGYoYDan0LVIzFLHuXjQ8AaCQ5G5eo0ceqf+Xo69lNkNRcdXfVNH0h+nn7AAAyBMlRo0WRwbe8HC3iYiI89iOeLjQct5Y/sdUqyZ//tqvMc0GAKweCr1b/tanlz5e2rqjbN3Xyh6JzuAWekuIxKootD0BoNDlZV6jtDMULU5/gNAJAAUtT/MaYYYiAFjlMK8RAIAchTmvEQBAoUP0BACQA9ETAEAOZUaNDK32g9+u3cR+gIFzAPicQtsTAEAORE8AADmUiZ7cIk8UWMBrPQDgc0uZ6MkuBIgPcIqkDQBQCHDnDgAgh0LR80qAx407AHyeKRQ92QX/Im7cAeBzDL9zBwCQI4vzGsUY2noYDRHntQ1cUCJ9AIC8U+TOnQvwSiQLAFA4cOcOACAHnlgCAJAD0RMAQA5ETwAAORA9AQDkQPQEAJAD0RMAQA5ETwAAORA9AQDkQPQEAJAD0RMAQA5ETwAAORA9AQDkQPQEAJAD0RMAQA5ETwAAORA9AQDk+H9/9l9LuqLZ6wAAAABJRU5ErkJggg=="},8698:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/\u6570\u636e\u7ed3\u6784\u5316\u5bf9\u8c61\u8f6c\u6362-7c8d1c588805c6d06bc717b6d83756c4.svg"}}]);