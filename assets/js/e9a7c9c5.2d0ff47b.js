"use strict";(self.webpackChunkprivate_long_blog=self.webpackChunkprivate_long_blog||[]).push([[693],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>g});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var i=r.createContext({}),c=function(e){var n=r.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},u=function(e){var n=c(e.components);return r.createElement(i.Provider,{value:n},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,i=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=c(t),d=a,g=p["".concat(i,".").concat(d)]||p[d]||m[d]||l;return t?r.createElement(g,s(s({ref:n},u),{},{components:t})):r.createElement(g,s({ref:n},u))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,s=new Array(l);s[0]=d;var o={};for(var i in n)hasOwnProperty.call(n,i)&&(o[i]=n[i]);o.originalType=e,o[p]="string"==typeof e?e:a,s[1]=o;for(var c=2;c<l;c++)s[c]=t[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},6948:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var r=t(7462),a=(t(7294),t(3905));const l={},s="\u524d\u7aef\u9762\u8bd5\u624b\u5199\u7cfb\u5217",o={unversionedId:"interview/\u524d\u7aef\u9762\u8bd5\u624b\u5199\u7cfb\u5217/index",id:"interview/\u524d\u7aef\u9762\u8bd5\u624b\u5199\u7cfb\u5217/index",title:"\u524d\u7aef\u9762\u8bd5\u624b\u5199\u7cfb\u5217",description:"1.\u9632\u6296\u548c\u8282\u6d41",source:"@site/docs/interview/\u524d\u7aef\u9762\u8bd5\u624b\u5199\u7cfb\u5217/index.md",sourceDirName:"interview/\u524d\u7aef\u9762\u8bd5\u624b\u5199\u7cfb\u5217",slug:"/interview/\u524d\u7aef\u9762\u8bd5\u624b\u5199\u7cfb\u5217/",permalink:"/docs/interview/\u524d\u7aef\u9762\u8bd5\u624b\u5199\u7cfb\u5217/",draft:!1,tags:[],version:"current",lastUpdatedAt:1691201844,formattedLastUpdatedAt:"2023\u5e748\u67085\u65e5",frontMatter:{},sidebar:"interview",previous:{title:"\u4f60\u95ee\u6211\u7b54\u516b\u80a1\u6587",permalink:"/docs/interview/\u4f60\u95ee\u6211\u7b54\u516b\u80a1\u6587/"},next:{title:"\u6821\u62db\u524d\u7aef\u9762\u7ecf",permalink:"/docs/interview/\u6821\u62db\u524d\u7aef\u9762\u7ecf/"}},i={},c=[{value:"1.\u9632\u6296\u548c\u8282\u6d41",id:"1\u9632\u6296\u548c\u8282\u6d41",level:2},{value:"2.\u6d45\u62f7\u8d1d\u548c\u6df1\u62f7\u8d1d",id:"2\u6d45\u62f7\u8d1d\u548c\u6df1\u62f7\u8d1d",level:2},{value:"\u6d45\u62f7\u8d1d",id:"\u6d45\u62f7\u8d1d",level:3},{value:"Object.assign",id:"objectassign",level:4},{value:"ES6\u89e3\u6784\u8d4b\u503c",id:"es6\u89e3\u6784\u8d4b\u503c",level:4},{value:"\u6df1\u62f7\u8d1d",id:"\u6df1\u62f7\u8d1d",level:3},{value:"JSON\u65b9\u5f0f",id:"json\u65b9\u5f0f",level:4},{value:"\u9012\u5f52\u65b9\u5f0f",id:"\u9012\u5f52\u65b9\u5f0f",level:4},{value:"\u666e\u901a\u7248\uff08\u89e3\u51b3\u51fd\u6570\u5c5e\u6027\u4e22\u5931\u95ee\u9898\uff09",id:"\u666e\u901a\u7248\u89e3\u51b3\u51fd\u6570\u5c5e\u6027\u4e22\u5931\u95ee\u9898",level:5},{value:"\u5347\u7ea7\u7248\uff08\u89e3\u51b3\u5faa\u73af\u5f15\u7528\u95ee\u9898\uff09",id:"\u5347\u7ea7\u7248\u89e3\u51b3\u5faa\u73af\u5f15\u7528\u95ee\u9898",level:5},{value:"3.\u624b\u5199Promise\u7cfb\u5217",id:"3\u624b\u5199promise\u7cfb\u5217",level:2},{value:"API",id:"api",level:3},{value:"\u786e\u7acb\u8f85\u52a9\u51fd\u6570",id:"\u786e\u7acb\u8f85\u52a9\u51fd\u6570",level:3},{value:"\u6784\u9020\u51fd\u6570",id:"\u6784\u9020\u51fd\u6570",level:4},{value:".then()",id:"then",level:4},{value:"Promise\u72b6\u6001\u8f6c\u6362\u81ea\u52a8\u673a",id:"promise\u72b6\u6001\u8f6c\u6362\u81ea\u52a8\u673a",level:4},{value:"Promise.resolve",id:"promiseresolve",level:3},{value:"Promise.reject",id:"promisereject",level:3},{value:"Promise.prototype.finally",id:"promiseprototypefinally",level:3},{value:"Promise.all",id:"promiseall",level:3},{value:"Promise.race",id:"promiserace",level:3},{value:"Promise.allSettled",id:"promiseallsettled",level:3},{value:"\u5ef6\u65f6\u51fd\u6570",id:"\u5ef6\u65f6\u51fd\u6570",level:3},{value:"\u8d85\u65f6\u51fd\u6570",id:"\u8d85\u65f6\u51fd\u6570",level:3},{value:"\u5e76\u53d1\u63a7\u5236",id:"\u5e76\u53d1\u63a7\u5236",level:3},{value:"\u4f7f\u7528Promise\u5b9e\u73b0\u6bcf\u96941\u79d2\u8f93\u51fa1,2,3",id:"\u4f7f\u7528promise\u5b9e\u73b0\u6bcf\u96941\u79d2\u8f93\u51fa123",level:3},{value:"\u4f7f\u7528Promise\u5b9e\u73b0\u7ea2\u7eff\u706f\u4ea4\u66ff\u91cd\u590d\u4eae",id:"\u4f7f\u7528promise\u5b9e\u73b0\u7ea2\u7eff\u706f\u4ea4\u66ff\u91cd\u590d\u4eae",level:3},{value:"\u5c01\u88c5\u4e00\u4e2a\u5f02\u6b65\u52a0\u8f7d\u56fe\u7247\u7684\u65b9\u6cd5",id:"\u5c01\u88c5\u4e00\u4e2a\u5f02\u6b65\u52a0\u8f7d\u56fe\u7247\u7684\u65b9\u6cd5",level:3},{value:"4.\u8bbe\u8ba1\u6a21\u5f0f\u7cfb\u5217",id:"4\u8bbe\u8ba1\u6a21\u5f0f\u7cfb\u5217",level:2},{value:"\u5355\u4f8b\u6a21\u5f0f",id:"\u5355\u4f8b\u6a21\u5f0f",level:3},{value:"\u61d2\u6c49\u5f0f",id:"\u61d2\u6c49\u5f0f",level:4},{value:"\u997f\u6c49\u5f0f",id:"\u997f\u6c49\u5f0f",level:4},{value:"\u53d1\u5e03\u8ba2\u9605",id:"\u53d1\u5e03\u8ba2\u9605",level:3},{value:"\u89c2\u5bdf\u8005\u6a21\u5f0f",id:"\u89c2\u5bdf\u8005\u6a21\u5f0f",level:3},{value:"5.call\u3001apply\u3001bind",id:"5callapplybind",level:2},{value:"call",id:"call",level:3},{value:"apply",id:"apply",level:3},{value:"bind",id:"bind",level:3},{value:"6.instanceOf",id:"6instanceof",level:2},{value:"7.new",id:"7new",level:2},{value:"7.\u666e\u901a\u6570\u7ec4\u53bb\u91cd",id:"7\u666e\u901a\u6570\u7ec4\u53bb\u91cd",level:2},{value:"ES6 Set\u53bb\u91cd",id:"es6-set\u53bb\u91cd",level:3},{value:"reduce+includes",id:"reduceincludes",level:3},{value:"hasOwnProperty\uff08\u63a8\u8350\uff09",id:"hasownproperty\u63a8\u8350",level:3},{value:"8.\u6241\u5e73\u5316",id:"8\u6241\u5e73\u5316",level:2},{value:"\u7eaf\u9012\u5f52\uff08\u63a8\u8350\uff09",id:"\u7eaf\u9012\u5f52\u63a8\u8350",level:3},{value:"reduce+\u9012\u5f52\uff08\u63a8\u8350\uff09",id:"reduce\u9012\u5f52\u63a8\u8350",level:3},{value:"9.Promise\u5c01\u88c5ajax",id:"9promise\u5c01\u88c5ajax",level:2},{value:"10.\u5782\u76f4\u5c45\u4e2d\uff0c\u5e76\u7ed8\u5236\u65cb\u8f6c\u52a8\u753b",id:"10\u5782\u76f4\u5c45\u4e2d\u5e76\u7ed8\u5236\u65cb\u8f6c\u52a8\u753b",level:2},{value:"12.URL\u5904\u7406",id:"12url\u5904\u7406",level:2},{value:"\u4eceURL\u4e2d\u5c06\u53c2\u6570\u89e3\u6790\u4e3a\u5bf9\u8c61",id:"\u4eceurl\u4e2d\u5c06\u53c2\u6570\u89e3\u6790\u4e3a\u5bf9\u8c61",level:3},{value:"\u5bf9\u8c61\u8f6c\u6362\u4e3aURL\u53c2\u6570",id:"\u5bf9\u8c61\u8f6c\u6362\u4e3aurl\u53c2\u6570",level:3},{value:"\u83b7\u53d6URL\u67d0\u4e2a\u53c2\u6570\u7684\u503c",id:"\u83b7\u53d6url\u67d0\u4e2a\u53c2\u6570\u7684\u503c",level:3},{value:"\u4fee\u6539URL\u67d0\u4e2a\u53c2\u6570\u7684\u503c",id:"\u4fee\u6539url\u67d0\u4e2a\u53c2\u6570\u7684\u503c",level:3},{value:"13.\u77ed\u6a2a\u7ebf\u548c\u9a7c\u5cf0\u4e92\u8f6c\u6362",id:"13\u77ed\u6a2a\u7ebf\u548c\u9a7c\u5cf0\u4e92\u8f6c\u6362",level:2},{value:"14.\u67ef\u91cc\u5316add\u51fd\u6570",id:"14\u67ef\u91cc\u5316add\u51fd\u6570",level:2},{value:"15.\u7ec4\u5408\u7ee7\u627f",id:"15\u7ec4\u5408\u7ee7\u627f",level:2},{value:"16.isEqual\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u76f8\u540c",id:"16isequal\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u76f8\u540c",level:2},{value:"17.setTimeout\u5b9e\u73b0setInterval",id:"17settimeout\u5b9e\u73b0setinterval",level:2},{value:"18.\u8ba1\u7b97\u51fd\u6570\u7684\u6267\u884c\u65f6\u95f4",id:"18\u8ba1\u7b97\u51fd\u6570\u7684\u6267\u884c\u65f6\u95f4",level:2},{value:"19.\u5bf9\u8c61\u64cd\u4f5c",id:"19\u5bf9\u8c61\u64cd\u4f5c",level:2},{value:"\u4e24\u5bf9\u8c61\u5408\u5e76",id:"\u4e24\u5bf9\u8c61\u5408\u5e76",level:3},{value:"\u4e24\u5bf9\u8c61\u53d6\u4ea4\u96c6",id:"\u4e24\u5bf9\u8c61\u53d6\u4ea4\u96c6",level:3},{value:"\u5bf9\u8c61\u6241\u5e73\u5316",id:"\u5bf9\u8c61\u6241\u5e73\u5316",level:3},{value:"19.React Hooks\u5b9e\u73b0\u5b9a\u65f6\u5668",id:"19react-hooks\u5b9e\u73b0\u5b9a\u65f6\u5668",level:2}],u={toc:c},p="wrapper";function m(e){let{components:n,...l}=e;return(0,a.kt)(p,(0,r.Z)({},u,l,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"\u524d\u7aef\u9762\u8bd5\u624b\u5199\u7cfb\u5217"},"\u524d\u7aef\u9762\u8bd5\u624b\u5199\u7cfb\u5217"),(0,a.kt)("h2",{id:"1\u9632\u6296\u548c\u8282\u6d41"},"1.\u9632\u6296\u548c\u8282\u6d41"),(0,a.kt)("p",null,"\u5728\u89c4\u5b9a\u65f6\u95f4\u5185\uff0c\u53ea\u8ba9\u6700\u540e\u4e00\u6b21\u751f\u6548\uff0c\u524d\u9762\u7684\u4e0d\u751f\u6548\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u9632\u6296\u51fd\u6570\nconst debounce = (callback, wait) => {\n  let timer = -1;\n  return function (...args) {\n    // \u6e05\u9664\u672a\u6267\u884c\u7684\u5b9a\u65f6\u5668\u4efb\u52a1\n    if (timer !== -1) {\n      clearTimeout(timer);\n    }\n    timer = setTimeout(() => {\n      callback.call(this, args);\n    }, wait);\n  }\n}\n")),(0,a.kt)("p",null,"\u51fd\u6570\u6267\u884c\u4e00\u6b21\u540e\uff0c\u53ea\u6709\u5927\u4e8e\u8bbe\u5b9a\u7684\u6267\u884c\u5468\u671f\u540e\u624d\u4f1a\u6267\u884c\u7b2c\u4e8c\u6b21\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u8282\u6d41\u51fd\u6570\nconst throttle = (callback, wait) => {\n  let lastTime = 0;\n  return function (...args) {\n    // \u5f53\u524d\u65f6\u95f4\n    const current = Number(new Date());\n    // \u53ea\u6709\u8d85\u8fc7\u8fd9\u4e2await\u65f6\u95f4\u624d\u80fd\u8c03\u7528callback\n    if (current - lastTime > wait) {\n      callback.call(this, args);\n      lastTime = current;\n    }\n  }\n}\n")),(0,a.kt)("h2",{id:"2\u6d45\u62f7\u8d1d\u548c\u6df1\u62f7\u8d1d"},"2.\u6d45\u62f7\u8d1d\u548c\u6df1\u62f7\u8d1d"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u6d45\u62f7\u8d1d\uff1a\u53ea\u662f\u590d\u5236\u4e86\u5bf9\u8c61\u5c5e\u6027\u6216\u6570\u7ec4\u5143\u7d20\u672c\u8eab\uff08\u53ea\u662f\u5f15\u7528\u5730\u5740\u503c\uff09"),(0,a.kt)("li",{parentName:"ul"},"\u6df1\u62f7\u8d1d\uff1a\u4e0d\u4ec5\u590d\u5236\u4e86\u5bf9\u8c61\u5c5e\u6027\u6216\u6570\u7ec4\u5143\u7d20\u672c\u8eab\uff0c\u8fd8\u590d\u5236\u4e86\u6307\u5411\u7684\u5bf9\u8c61\uff08\u4f7f\u7528\u9012\u5f52\uff09\u3002\u6df1\u62f7\u8d1d\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3",(0,a.kt)("strong",{parentName:"li"},"\u5f15\u7528\u6570\u636e\u7c7b\u578b\u4e0d\u80fd\u901a\u8fc7\u8d4b\u503c\u7684\u65b9\u5f0f\u590d\u5236\u4e00\u4efd"),"\u7684\u95ee\u9898")),(0,a.kt)("h3",{id:"\u6d45\u62f7\u8d1d"},"\u6d45\u62f7\u8d1d"),(0,a.kt)("h4",{id:"objectassign"},"Object.assign"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function lightClone(target) {\n  if (target !== null && typeof target === 'object') {\n    if (target instanceof Array) {\n      return Object.assign([], target);\n    } else {\n      return Object.assign({}, target);\n    }\n  }\n  return target;\n}\n")),(0,a.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const obj1 = { x: 'abc', y: { m: 1 } }\nconst obj2 = lightClone(obj1)\nconsole.log(obj2, obj2 === obj1, obj2.x === obj1.x, obj2.y === obj1.y)\n/*************************\nfalse true true\n*************************/\n")),(0,a.kt)("h4",{id:"es6\u89e3\u6784\u8d4b\u503c"},"ES6\u89e3\u6784\u8d4b\u503c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function lightClone(target) {\n  if (target !== null && typeof target === 'object') {\n    if (target instanceof Array) {\n      return [...target];\n    } else {\n      return { ...target };\n    }\n  }\n  return target;\n}\n")),(0,a.kt)("h3",{id:"\u6df1\u62f7\u8d1d"},"\u6df1\u62f7\u8d1d"),(0,a.kt)("h4",{id:"json\u65b9\u5f0f"},"JSON\u65b9\u5f0f"),(0,a.kt)("p",null,"\u6709\u4e24\u4e2a\u95ee\u9898\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u51fd\u6570\u5c5e\u6027\u4f1a\u4e22\u5931"),(0,a.kt)("li",{parentName:"ul"},"\u5faa\u73af\u5f15\u7528\u95ee\u9898")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function deepClone(target) {\n  return JSON.parse(JSON.stringify(target))\n}\n")),(0,a.kt)("h4",{id:"\u9012\u5f52\u65b9\u5f0f"},"\u9012\u5f52\u65b9\u5f0f"),(0,a.kt)("h5",{id:"\u666e\u901a\u7248\u89e3\u51b3\u51fd\u6570\u5c5e\u6027\u4e22\u5931\u95ee\u9898"},"\u666e\u901a\u7248\uff08\u89e3\u51b3\u51fd\u6570\u5c5e\u6027\u4e22\u5931\u95ee\u9898\uff09"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const deepClone = (target) => {\n  if (target !== null && typeof target === 'object') {\n    const cloneTarget = target instanceof Array ? [] : {};\n    for (const key in target) {\n      if (target.hasOwnProperty(key)) {\n        cloneTarget[key] = deepClone(target[key]);\n      }\n    }\n    return cloneTarget;\n  }\n  return target;\n}\n")),(0,a.kt)("h5",{id:"\u5347\u7ea7\u7248\u89e3\u51b3\u5faa\u73af\u5f15\u7528\u95ee\u9898"},"\u5347\u7ea7\u7248\uff08\u89e3\u51b3\u5faa\u73af\u5f15\u7528\u95ee\u9898\uff09"),(0,a.kt)("p",null,"\u7531\u4e8e\u5faa\u73af\u5f15\u7528\uff0c\u9012\u5f52\u64cd\u4f5c\u662f\u65e0\u7a77\u65e0\u5c3d\u7684\u3002\u56e0\u6b64\u53ea\u9700\u8981",(0,a.kt)("strong",{parentName:"p"},"\u4fdd\u8bc1\u6570\u636e\u514b\u9686\u8fc7\u4e00\u6b21\u4e4b\u540e\u4e0d\u4f1a\u518d\u6b21\u514b\u9686"),"\u5373\u53ef\uff0c\u800c\u4fdd\u5b58\u8fd9\u4e2a\u8bbf\u95ee\u8fc7\u7684\u6570\u636e\u53ef\u4ee5\u7528Map\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const deepClone = (target, map = new Map()) => {\n  if (target !== null && typeof target === 'object') {\n    let cloneTarget = map.get(target);\n    // \u5982\u679c\u4e4b\u524d\u514b\u9686\u8fc7\uff0c\u5c31\u8fd4\u56de\u4e4b\u524d\u514b\u9686\u8fc7\u7684\u6570\u636e\n    if (cloneTarget) {\n      return cloneTarget;\n    }\n    cloneTarget = target instanceof Array ? [] : {};\n    map.set(target, cloneTarget);\n    for (const key in target) {\n      if (target.hasOwnProperty(key)) {\n        cloneTarget[key] = deepClone(target[key], map);\n      }\n    }\n    return cloneTarget;\n  }\n  return target;\n}\n")),(0,a.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {\n  a: 1,\n  b: ['H', 'i'],\n  c: {\n    h: {\n      i: 2\n    }\n  },\n  d: function () { }\n}\n// \u9a8c\u8bc1\u5faa\u73af\u5f15\u7528\u65f6\u5019\u624d\u52a0\u4e0a\u8fd9\u53e5\nobj.pro = obj;\n\nconst clone = deepClone(obj);\nconsole.log(clone === obj, clone.c === obj.c, clone.d === obj.d);\n/*************************\nfalse false true\n*************************/\n")),(0,a.kt)("h2",{id:"3\u624b\u5199promise\u7cfb\u5217"},"3.\u624b\u5199Promise\u7cfb\u5217"),(0,a.kt)("h3",{id:"api"},"API"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u5b9a\u4e49\u6574\u4f53\u7ed3\u6784"),(0,a.kt)("li",{parentName:"ol"},"\u6784\u9020\u51fd\u6570"),(0,a.kt)("li",{parentName:"ol"},"promise.then()/catch()/finally()"),(0,a.kt)("li",{parentName:"ol"},"Promise.resolve()/reject()"),(0,a.kt)("li",{parentName:"ol"},"Promise.all/allSettle/race()"),(0,a.kt)("li",{parentName:"ol"},"Promise.resolveDelay()/rejectDelay()")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u9762\u8bd5\u5e38\u8003\u624b\u5199finally/resolve/reject/all/allSettle/race")),(0,a.kt)("h3",{id:"\u786e\u7acb\u8f85\u52a9\u51fd\u6570"},"\u786e\u7acb\u8f85\u52a9\u51fd\u6570"),(0,a.kt)("h4",{id:"\u6784\u9020\u51fd\u6570"},"\u6784\u9020\u51fd\u6570"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"new Promise((resolve,reject)=>{\n  \u2026\u2026\n  resolve(data1);\n  \u2026\u2026\n  reject(data2);\n});\n")),(0,a.kt)("p",null,"\u4f20\u5165\u503c\uff1a\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u56de\u8c03\u51fd\u6570\u4e24\u4e2a\u503c\u4e3aresolve\u548creject"),(0,a.kt)("p",null,"\u8fd4\u56de\u503c\uff1apromise\u5b9e\u4f8b\u5bf9\u8c61"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"state\u4e3afulfilled\uff1bresult\u4e3adata1"),(0,a.kt)("li",{parentName:"ul"},"state\u4e3arejected\uff1bresult\u4e3adata2")),(0,a.kt)("h4",{id:"then"},".then()"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"promise.then(\n  data1=>{ },\n  data2=>{ }\n)\n")),(0,a.kt)("p",null,"\u4f20\u5165\u503c\uff1a\u4e24\u4e2a\u56de\u8c03\u51fd\u6570\uff0cdata1\u662fresolve\u7ed3\u679c\uff0cdata2\u662freject\u7ed3\u679c"),(0,a.kt)("p",null,"\u8fd4\u56de\u503c\uff1apromise\u5b9e\u4f8b\u5bf9\u8c61\uff0cstate\u4e3apending"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5982\u679c\u56de\u8c03\u51fd\u6570\u8fd4\u56de\u503c\u4e3aPromise\u7c7b\u578b\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u8fd9\u4e2a\u5bf9\u8c61"),(0,a.kt)("li",{parentName:"ul"},"\u5982\u679c\u56de\u8c03\u51fd\u6570\u8fd4\u56de\u503c\u4e0d\u4e3aPromise\uff0c\u5219\u8f6c\u6362\u4e3apromise\u5bf9\u8c61")),(0,a.kt)("h4",{id:"promise\u72b6\u6001\u8f6c\u6362\u81ea\u52a8\u673a"},"Promise\u72b6\u6001\u8f6c\u6362\u81ea\u52a8\u673a"),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(6363).Z,width:"1245",height:"520"})),(0,a.kt)("p",null,"\u8c03\u7528resolve/reject\u662f\u521b\u5efa\u627f\u8bfa\uff0c\u5c01\u88c5\u6570\u636e\u5230promise\u5bf9\u8c61\u4e2d"),(0,a.kt)("p",null,"\u8c03\u7528then/catch/finally\u662f\u5151\u73b0\u627f\u8bfa\uff0c\u6839\u636epromise\u5bf9\u8c61\u7684\u72b6\u6001\u6267\u884c\u5bf9\u5e94\u7684\u51fd\u6570"),(0,a.kt)("h3",{id:"promiseresolve"},"Promise.resolve"),(0,a.kt)("p",null,"\u4f20\u5165\u503c\uff1a\u4efb\u610f\u7c7b\u578b\u7684\u53c2\u6570"),(0,a.kt)("p",null,"\u8fd4\u56de\u503c\uff1apromise\u5bf9\u8c61"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u4f20\u5165\u4e3apromise\uff0c\u8fd4\u56de\u5c31\u662f\u8fd9\u4e2apromise"),(0,a.kt)("li",{parentName:"ul"},"\u4f20\u5165\u4e3a\u666e\u901a\u503c\uff0c\u5305\u88c5\u6210promise\u8fd4\u56de"),(0,a.kt)("li",{parentName:"ul"},"thenable\u5bf9\u8c61\uff0c\u8fd4\u56de\u8ddf\u968f\u8fd9\u4e2a\u5bf9\u8c61\u7684promise")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"Promise.resolve = function (param) {\n  // \u5982\u679c\u662fpromise\u5c31\u76f4\u63a5\u8fd4\u56de\n  if (param instanceof Promise) return param;\n  return new Promise((resolve, reject) => {\n    // \u5982\u679c\u662fthenable\u5bf9\u8c61\uff0c\u8fd4\u56de\u7684promise\u4f1a\u8ddf\u968f\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u91c7\u7528\u5b83\u7684\u6700\u7ec8\u72b6\u6001\u4f5c\u4e3a\u81ea\u5df1\u7684\u72b6\u6001\n    if (param && param.then && typeof param.then === 'function') {\n      // resolve\u548creject\u90fd\u662f\u51fd\u6570\n      param.then(resolve, reject);\n    } else {\n      // \u5982\u679c\u662f\u666e\u901a\u53c2\u6570\u5c31\u5305\u88c5\u6210promise\u5bf9\u8c61\n      resolve(param);\n    }\n  })\n}\n")),(0,a.kt)("h3",{id:"promisereject"},"Promise.reject"),(0,a.kt)("p",null,"\u4f20\u5165\u503c\uff1a\u4efb\u610f\u7c7b\u578b\u7684\u53c2\u6570"),(0,a.kt)("p",null,"\u8fd4\u56de\u503c\uff1apromise\u5bf9\u8c61"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"Promise.reject = function (reason) {\n  return new Promise((resolve, reject) => {\n    reject(reason);\n  });\n}\n")),(0,a.kt)("h3",{id:"promiseprototypefinally"},"Promise.prototype.finally"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"/*\n\u65e0\u8bba\u5f53\u524dpromise\u662f\u6210\u529f\u8fd8\u662f\u5931\u8d25\u90fd\u4f1a\u8c03\u7528\n\u6267\u884c\u4f20\u5165\u53c2\u6570\u3010\u8c03\u7528callback()\u3011\n\u5e76\u5c06\u503c\u539f\u5c01\u4e0d\u52a8\u7684\u5f80\u4e0b\u4f20\u3010resolve(res)\u3011\n*/\nPromise.prototype.finally = function (callback) {\n  return new Promise((resolve, reject) => {\n    this.then(res => {\n      callback();\n      resolve(res);\n    }, err => {\n      callback();\n      reject(err);\n    });\n  })\n}\n")),(0,a.kt)("h3",{id:"promiseall"},"Promise.all"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"Promise.all = function (promises) {\n  return new Promise((resolve, reject) => {\n    let result = [];\n    let resolvedCount = 0;\n    let len = promises.length;\n    if (len == 0) {\n      resolve(result);\n      return;\n    }\n    promises.forEach((p, index) => {\n      // console.log('index-outer:' + index);\n      // \u8fd9\u91cc\u7528Promise.resolve(p)\u518d\u5305\u88c5\u4e0b\u662f\u4e3a\u4e86\u5904\u7406\u6570\u7ec4\u9879\u4e3a\u5e38\u91cf\u7684\u60c5\u51b5\n      Promise.resolve(p).then(\n        value => {\n          resolvedCount++;\n          result[index] = value;\n          // console.log('index-inner:' + index);\n          if (resolvedCount === len) {\n            resolve(result);\n          }\n        },\n        reason => reject(reason)\n      )\n    })\n  })\n}\n")),(0,a.kt)("p",null,"\u6d4b\u8bd5\u7528\u4f8b\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"let promise1 = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    resolve('Hello')\n  }, 1000);\n});\n\nlet promise2 = new Promise((resolve, reject) => {\n  resolve(3);\n});\n\nlet promise3 = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    resolve('China')\n  }, 0);\n});\nPromise.all([promise1, promise2, promise3]).then(data => {\n  console.log(data);\n})\n/*\nindex-outer:0\nindex-outer:1\nindex-outer:2\nindex-inner:1\nindex-inner:2\nindex-inner:0\n[ 'Hello', 3, 'China' ]\n*/\n")),(0,a.kt)("h3",{id:"promiserace"},"Promise.race"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"Promise.race = function (promises) {\n  return new Promise((resolve, reject) => {\n    promises.forEach(p => {\n      // \u7531\u7b2c\u4e00\u4e2a\u5b8c\u6210\u7684promise\u51b3\u5b9a\u7ed3\u679c\n      p.then(resolve, reject);\n    });\n  })\n}\n")),(0,a.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"let promise1 = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    resolve('Hello')\n  }, 500);\n});\n\nlet promise2 = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    reject(new Error('Whoops!!!'))\n  }, 200);\n});\n\nPromise.race([promise1, promise2]).then(data => {\n  console.log(data);\n})\n/*\nG:\\front-en-development\\JSTest>node test.js\nG:\\front-en-development\\JSTest\\test.js:9\n    reject(new Error('Whoops!!!'))\n           ^\nError: Whoops!!!\n    at Timeout._onTimeout (G:\\front-en-development\\JSTest\\test.js:9:12)\n    at listOnTimeout (node:internal/timers:557:17)\n    at processTimers (node:internal/timers:500:7)\n*/\n")),(0,a.kt)("h3",{id:"promiseallsettled"},"Promise.allSettled"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"Promise.allSettled = function (promises) {\n  return new Promise((resolve, reject) => {\n    let result = [];\n    let resolvedCount = 0;\n    let len = promises.length;\n    if (len === 0) {\n      resolve(result);\n      return;\n    }\n    promises.forEach((p, index) => {\n      Promise.resolve(p).then(\n        res => {\n          result[index] = {\n            status: 'fulfilled',\n            value: res\n          };\n          resolvedCount++;\n          // \u5168\u90e8\u904d\u5386\u5b8c\u6210\u540e\u4f20\u51fa\n          if (resolvedCount === len) {\n            resolve(result);\n          }\n        },\n        err => {\n          result[index] = {\n            status: 'rejected',\n            reason: err\n          }\n          resolvedCount++;\n        }\n      )\n    });\n  })\n}\n")),(0,a.kt)("p",null,"\u6d4b\u8bd5\u4ee3\u7801\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const p1 = Promise.reject(1);\nconst p2 = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    resolve(2);\n  }, 1000);\n});\nconst p3 = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    reject(new Error('p3\u5904\u9519\u8bef'));\n  }, 0);\n});\nPromise.allSettled([0, p1, p2, p3]).then((results) => {\n  console.log('results', results);\n});\n/*\nresults [\n  { status: 'fulfilled', value: 0 },\n  { status: 'rejected', reason: 1 },\n  { status: 'fulfilled', value: 2 },\n  {\n    status: 'rejected',\n    reason: Error: p3\u5904\u9519\u8bef\n        at Timeout._onTimeout (G:\\front-en-development\\JSTest\\test.js:9:12)\n        at listOnTimeout (node:internal/timers:557:17)\n        at processTimers (node:internal/timers:500:7)\n  }\n]\n*/\n")),(0,a.kt)("h3",{id:"\u5ef6\u65f6\u51fd\u6570"},"\u5ef6\u65f6\u51fd\u6570"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function resolveDelay(value, time) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (value instanceof Promise) {\n        value.then(resolve, reject);\n      } else {\n        resolve(value);\n      }\n    }, time);\n  })\n}\n\nfunction rejectDelay(reason, time) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      reject(reason);\n    }, time);\n  })\n}\n")),(0,a.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const p = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    resolve(2);\n  }, 1000);\n});\n\nresolveDelay(p, 1000).then((data) => {\n  console.log('data = ' + data);\n}).catch((err) => {\n  console.log(err);\n})\n/*\u5ef6\u65f61\u79d2\u540e\u624d\u4f1a\u6253\u5370\u51fa\ndata = 2\n*/\n")),(0,a.kt)("h3",{id:"\u8d85\u65f6\u51fd\u6570"},"\u8d85\u65f6\u51fd\u6570"),(0,a.kt)("p",null,"\u65b9\u6cd5\u4e00\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u5f02\u6b65\u8d85\u65f6\u51fd\u6570\uff0c\u65f6\u95f4\u5185\u8c03\u7528\uff0c\u65f6\u95f4\u5916\u629b\u51fa\u5f02\u5e38\nfunction overTime(promise, time) {\n  return new Promise((resolve, reject) => {\n    promise.then(resolve, reject);\n    setTimeout(() => {\n      reject(new Error('\u8d85\u65f6\u9519\u8bef'))\n    }, time);\n  });\n}\n")),(0,a.kt)("p",null,"\u65b9\u6cd5\u4e8c\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u4f7f\u7528Promise.race\u65b9\u5f0f\nfunction overTime(promise, time) {\n  let promiseTimeout = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      reject(new Error('\u8d85\u65f6\u9519\u8bef'));\n    }, time);\n  });\n  return Promise.race([promise, promiseTimeout]);\n}\n")),(0,a.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const p = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    resolve(2);\n  }, 1000);\n});\n\noverTime(p, 5000).then((data) => {\n  console.log('data = ' + data);\n}).catch((err) => {\n  console.log(err);\n})\n/*\ndata = 2\n\u6ce8\u610f\uff1a\u4e24\u79cd\u65b9\u6cd5\u90fd\u662f\u5728\u7b2c5\u79d2\u624d\u4f1a\u505c\u6b62\n*/\n\noverTime(p, 50).then((data) => {\n  console.log('data = ' + data);\n}).catch((err) => {\n  console.log(err);\n})\n/*\nError: \u8d85\u65f6\u9519\u8bef\n    at Timeout._onTimeout (G:\\front-en-development\\JSTest\\test.js:21:14)     \n    at listOnTimeout (node:internal/timers:557:17)\n    at processTimers (node:internal/timers:500:7)\n*/\n")),(0,a.kt)("h3",{id:"\u5e76\u53d1\u63a7\u5236"},"\u5e76\u53d1\u63a7\u5236"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"img",src:t(2031).Z,width:"1304",height:"305"})),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const asyncPool = async (poolLimit, array, iteratorFunc) => {\n  // \u5f02\u6b65\u4efb\u52a1\u7684\u7ed3\u679c\n  const ret = [];\n  // \u6b63\u5728\u6267\u884c\u7684\u5f02\u6b65\u4efb\u52a1\n  const doingTasks = [];\n  for (const item of array) {\n    // \u8c03\u7528iteratorFunc\u51fd\u6570\u6267\u884c\u5f02\u6b65\u4efb\u52a1\n    const p = Promise.resolve().then(() => iteratorFunc(item, array));\n    ret.push(p);\n    // \u5f53poolLimit\u503c\u5c0f\u4e8e\u6216\u7b49\u4e8e\u603b\u4efb\u52a1\u4e2a\u6570\u65f6\uff0c\u8fdb\u884c\u5e76\u53d1\u63a7\u5236\n    if (poolLimit <= array.length) {\n      // \u4efb\u52a1\u5b8c\u6210\u540e\uff0c\u4ece\u6b63\u5728\u6267\u884c\u7684\u4efb\u52a1\u6570\u7ec4\u4e2d\u79fb\u9664\u5df2\u5b8c\u6210\u7684\u4efb\u52a1\n      const e = p.then(() => doingTasks.splice(doingTasks.indexOf(e), 1));\n      doingTasks.push(e);\n      if (doingTasks.length >= poolLimit) {\n        await Promise.race(doingTasks);\n      }\n    }\n  }\n  return Promise.all(ret);\n}\n")),(0,a.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u6d4b\u8bd5\nconst timeout = (i, array) => {\n  console.log(i);\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(i)\n    }, i)\n  })\n}\nasyncPool(2, [1000, 5000, 1000, 500, 1500, 100, 1000], timeout).then((res) => {\n  console.log(res)\n})\n")),(0,a.kt)("h3",{id:"\u4f7f\u7528promise\u5b9e\u73b0\u6bcf\u96941\u79d2\u8f93\u51fa123"},"\u4f7f\u7528Promise\u5b9e\u73b0\u6bcf\u96941\u79d2\u8f93\u51fa1,2,3"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const arr = [1, 2, 4, 8];\narr.reduce((prev, cur) => {\n  return prev.then(() => {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        console.log(cur);\n        resolve();\n      }, 1000)\n    })\n  })\n}, Promise.resolve());\n")),(0,a.kt)("p",null,"\u8981\u6784\u6210Promise\u94fe\u6761\u7ed3\u6784\uff0c\u5373\u8ba9reduce\u4e2d\u6bcf\u6b21\u7684\u8fd4\u56de\u5c31\u662f\u4e00\u4e2a.then\u540e\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u8fd4\u56de\u7684\u5bf9\u8c61\u7531\u5185\u90e8\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u503c\u63a7\u5236\u662f\u5565\uff0c\u5373return new Promise\u90e8\u5206\u3002\u5728\u5b9a\u65f6\u5668\u5185\u90e8resolve\uff0c\u8fd9\u6837\u5728\u6253\u5370\u8f93\u51fa\u540e\u624d\u4f1a\u8ba9\u72b6\u6001\u7531pending\u8f6c\u53d8\u4e3afulfilled\uff0c\u63a5\u7740\u4e0b\u4e00\u6b21\u94fe\u6761\u6267\u884c\u3002"),(0,a.kt)("h3",{id:"\u4f7f\u7528promise\u5b9e\u73b0\u7ea2\u7eff\u706f\u4ea4\u66ff\u91cd\u590d\u4eae"},"\u4f7f\u7528Promise\u5b9e\u73b0\u7ea2\u7eff\u706f\u4ea4\u66ff\u91cd\u590d\u4eae"),(0,a.kt)("p",null,"\u7ea2\u706f3\u79d2\u4eae\u4e00\u6b21\uff0c\u9ec4\u706f2\u79d2\u4eae\u4e00\u6b21\uff0c\u7eff\u706f1\u79d2\u4eae\u4e00\u6b21\uff1b\u5982\u4f55\u8ba9\u4e09\u4e2a\u706f\u4e0d\u65ad\u4ea4\u66ff\u91cd\u590d\u4eae\u706f\uff1f(\u7528Promise\u5b9e\u73b0)\u4e09\u4e2a\u4eae\u706f\u51fd\u6570\u5df2\u7ecf\u5b58\u5728\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function red() {\n  console.log('red');\n}\nfunction green() {\n  console.log('green');\n}\nfunction yellow() {\n  console.log('yellow');\n}\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const light = (timer, cb) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      cb();\n      resolve();\n    }, timer)\n  })\n}\n\nconst step = () => {\n  Promise.resolve()\n    .then(() => { return light(3000, red) })\n    .then(() => { return light(2000, yellow) })\n    .then(() => { return light(1000, green) })\n    .then(() => { step() })\n}\nstep();\n")),(0,a.kt)("h3",{id:"\u5c01\u88c5\u4e00\u4e2a\u5f02\u6b65\u52a0\u8f7d\u56fe\u7247\u7684\u65b9\u6cd5"},"\u5c01\u88c5\u4e00\u4e2a\u5f02\u6b65\u52a0\u8f7d\u56fe\u7247\u7684\u65b9\u6cd5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function loadImg(url) {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => {\n      console.log('\u56fe\u7247\u52a0\u8f7d\u5b8c\u6210');\n      resolve();\n    }\n    img.onerror = function () {\n      reject(new Error('Could not load image at' + url));\n    };\n    img.src = url;\n  })\n}\n")),(0,a.kt)("h2",{id:"4\u8bbe\u8ba1\u6a21\u5f0f\u7cfb\u5217"},"4.\u8bbe\u8ba1\u6a21\u5f0f\u7cfb\u5217"),(0,a.kt)("h3",{id:"\u5355\u4f8b\u6a21\u5f0f"},"\u5355\u4f8b\u6a21\u5f0f"),(0,a.kt)("h4",{id:"\u61d2\u6c49\u5f0f"},"\u61d2\u6c49\u5f0f"),(0,a.kt)("p",null,"\u7b2c\u4e00\u6b21\u8c03\u7528\u7684\u65f6\u5019\u624d\u4f1a\u521b\u5efa\u5355\u4f8b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"class Singleton {\n  static getInstance() {\n    if (!Singleton.instance) {\n      Singleton.instance = new Singleton();\n    }\n    return Singleton.instance;\n  }\n}\n")),(0,a.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const s1 = Singleton.getInstance();\nconst s2 = Singleton.getInstance();\nconsole.log(s1 === s2);\n")),(0,a.kt)("h4",{id:"\u997f\u6c49\u5f0f"},"\u997f\u6c49\u5f0f"),(0,a.kt)("p",null,"\u7c7b\u52a0\u8f7d\u7684\u65f6\u5019\u5c31\u521b\u5efa\u5355\u4f8b\uff0c\u6d6a\u8d39\u5185\u5b58"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"class Singleton {\n  instance = new Singleton();\n  static getInstance() {\n    return this.instance;\n  }\n}\n")),(0,a.kt)("h3",{id:"\u53d1\u5e03\u8ba2\u9605"},"\u53d1\u5e03\u8ba2\u9605"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u80fd\u7ed9on\u6dfb\u52a0\u9632\u6296\u51fd\u6570\u5417\uff1f")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"class EventEmitter {\n  constructor() {\n    this.events = {};\n  }\n  // \u8ba2\u9605\n  on(eventName, callback) {\n    if (!this.events[eventName]) {\n      this.events[eventName] = [callback];\n    } else {\n      this.events[eventName].push(callback);\n    }\n  }\n  // \u53d6\u6d88\u8ba2\u9605\n  off(eventName, callback) {\n    if (this.events[eventName]) {\n      const index = this.events[eventName].indexOf(callback);\n      if (index >= 0) {\n        this.events[eventName].splice(index, 1);\n      }\n    }\n  }\n  // \u53d1\u5e03\uff0c\u5f53once\u4e3atrue\u65f6\u5019\uff0c\u53d1\u5e03\u4e00\u6b21\u540e\u9500\u6bc1\n  emit(eventName, once = false) {\n    this.events[eventName]?.forEach(cb => cb());\n    if (once) {\n      delete this.events[eventName];\n    }\n  }\n}\n")),(0,a.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const eventEmitter = new EventEmitter();\n// \u6d4b\u8bd5\u53d1\u5e03\u8ba2\u9605\neventEmitter.on('change', () => {\n  console.log('Hello');\n})\neventEmitter.emit('change')\n// \u6d4b\u8bd5\u53d6\u6d88\u8ba2\u9605\nconst fn = () => { console.log('click'); }\neventEmitter.on('click', fn)\neventEmitter.off('click', fn);\neventEmitter.emit('click')\n")),(0,a.kt)("h3",{id:"\u89c2\u5bdf\u8005\u6a21\u5f0f"},"\u89c2\u5bdf\u8005\u6a21\u5f0f"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u88ab\u89c2\u5bdf\u8005\nclass Subject {\n  constructor(state) {\n    this.state = state;\n    this.observers = [];\n  }\n  // \u6536\u96c6\u89c2\u5bdf\u8005\n  attach(observer) {\n    this.observers.push(observer)\n  }\n  // \u4fee\u6539\u88ab\u89c2\u5bdf\u8005\u72b6\u6001\uff0c\u8c03\u7528\u89c2\u5bdf\u8005\u66f4\u65b0\n  setState(newState) {\n    if (newState !== undefined) {\n      this.state = newState;\n    }\n    this.observers.forEach(observer => observer.update(this))\n  }\n}\n// \u89c2\u5bdf\u8005\nclass Observer {\n  constructor(name) {\n    this.name = name;\n  }\n  /**\n   * \u7531\u4e8e\u88ab\u89c2\u5bdf\u8005\u53d1\u751f\u72b6\u6001\u6539\u53d8\u800c\u5f15\u53d1\u7684\u66f4\u65b0\n   * this: \u89c2\u5bdf\u8005\u5bf9\u8c61\n   * @param {*} subject \u88ab\u89c2\u5bdf\u7684\u5bf9\u8c61\n   */\n  update(subject) {\n    console.log(this.name + '\u5df2\u88ab\u901a\u77e5', '\u5f53\u524d\u5b66\u751f\u7684\u72b6\u6001\u662f' + subject.state)\n  }\n}\n")),(0,a.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"let student = new Subject('happy');\nlet parent = new Observer('\u7236\u6bcd');\nlet teacher = new Observer('\u8001\u5e08');\n// \u53ea\u9700\u8981\u4fee\u6539\u88ab\u89c2\u5bdf\u8005\uff0c\u89c2\u5bdf\u8005\u5c31\u4f1a\u4fee\u6539\u5e76\u8c03\u7528\nstudent.attach(parent);\nstudent.attach(teacher);\nstudent.setState('tried');\n/***************\n\u7236\u6bcd\u5df2\u88ab\u901a\u77e5 \u5f53\u524d\u5b66\u751f\u7684\u72b6\u6001\u662ftried\n\u8001\u5e08\u5df2\u88ab\u901a\u77e5 \u5f53\u524d\u5b66\u751f\u7684\u72b6\u6001\u662ftried\n***************/\n")),(0,a.kt)("h2",{id:"5callapplybind"},"5.call\u3001apply\u3001bind"),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(766).Z,width:"1409",height:"367"})),(0,a.kt)("h3",{id:"call"},"call"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// call\nFunction.prototype.call = function (context = window, ...args) {\n  let key = Symbol('key');\n  context[key] = this;\n  let result = context[key](...args);\n  delete context[key];\n  return result;\n}\n")),(0,a.kt)("h3",{id:"apply"},"apply"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// apply\nFunction.prototype.apply = function (context = window, args) {\n  let key = Symbol('key');\n  context[key] = this;\n  let result = context[key](...args);\n  delete context[key];\n  return result;\n}\n")),(0,a.kt)("h3",{id:"bind"},"bind"),(0,a.kt)("p",null,"\u6ce8\u610f\uff1a\u8fd9\u4e2abind\u51fd\u6570\u5b9e\u73b0\u662f\u6709\u70b9\u5c0f\u7455\u75b5\uff0c\u4f9d\u8d56\u4e8eapply\u7684\uff0c\u53ea\u80fd\u5355\u72ec\u4f7f\u7528"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// bind\nFunction.prototype.bind = function (context, ...args) {\n  let self = this; // \u4fdd\u5b58\u539f\u51fd\u6570\n  return function (...args2) { // \u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570\n    return self.apply(context, [...args, ...args2]); // \u6267\u884c\u65b0\u51fd\u6570\u65f6\uff0c\u5c06\u4f20\u5165\u7684\u4e0a\u4e0b\u6587context\u4f5c\u4e3a\u65b0\u51fd\u6570\u7684this\n  }\n}\n")),(0,a.kt)("h2",{id:"6instanceof"},"6.instanceOf"),(0,a.kt)("p",null,"\u5b9e\u73b0\u4e0d\u4e86\u539f\u751f\u7684\u90a3\u79cd\u8fd0\u7b97\u7b26\u5f62\u5f0f\uff0c\u53ea\u80fd\u7528\u5199\u4e2a\u51fd\u6570"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function myInstanceOf(obj, classFunc) {\n  // \u83b7\u53d6\u539f\u578b\u5bf9\u8c61\n  let protoObj = obj.__proto__;\n  while (protoObj) {\n    if (protoObj === classFunc.prototype) {\n      return true;\n    }\n    // \u987a\u7740\u539f\u578b\u94fe\u8d70\u5230\u5934\n    protoObj = protoObj.__proto__;\n  }\n  return false;\n}\n\n// Test\nfunction Person(name, age) {\n  this.name = name\n  this.age = age\n}\nconst p = new Person('tom', 12);\nconsole.log(myInstanceOf(p, Object));    // true\nconsole.log(myInstanceOf(p, Person));    // true\nconsole.log(myInstanceOf(p, Function));  // false\n")),(0,a.kt)("h2",{id:"7new"},"7.new"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function newInstance(fn, ...args) {\n  // \u521b\u5efa\u7a7a\u5bf9\u8c61\n  const obj = {};\n  // \u6307\u5411\u539f\u578b\u5bf9\u8c61\n  obj.__proto__ = fn.prototype;\n  const result = fn.apply(obj, args);\n  return result instanceof Object ? result : obj;\n}\n\nfunction Person(name, age) {\n  this.name = name\n  this.age = age\n}\n\nconst p = newInstance(Person,'Alice',20);\nconsole.log(p);   // Person { name: 'Alice', age: 20 }\n")),(0,a.kt)("h2",{id:"7\u666e\u901a\u6570\u7ec4\u53bb\u91cd"},"7.\u666e\u901a\u6570\u7ec4\u53bb\u91cd"),(0,a.kt)("h3",{id:"es6-set\u53bb\u91cd"},"ES6 Set\u53bb\u91cd"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function uniq(arr) {\n  return Array.from(new Set(arr));\n}\n")),(0,a.kt)("h3",{id:"reduceincludes"},"reduce+includes"),(0,a.kt)("p",null,"\u8fd9\u79cd\u65b9\u5f0f\u6709\u7f3a\u70b9\uff0c\u5c31\u662f\u5bf9\u8c61\u5f62\u5f0f\u65e0\u6cd5\u53bb\u91cd\uff0c\u4f46\u662fNaN\u53ef\u4ee5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function uniq(arr) {\n  return arr.reduce((prev, cur) => {\n    return prev.includes(cur) ? prev : [...prev, cur];\n  }, []);\n}\n")),(0,a.kt)("h3",{id:"hasownproperty\u63a8\u8350"},"hasOwnProperty\uff08\u63a8\u8350\uff09"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"hasOwnProperty()"),"\u65b9\u6cd5\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6307\u793a\u5bf9\u8c61\u81ea\u8eab\u5c5e\u6027\u4e2d\u662f\u5426\u5177\u6709\u6307\u5b9a\u7684\u5c5e\u6027"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function uniq(arr) {\n  let obj = {};\n  let res = arr.filter((item, index, array) => {\n    if (obj.hasOwnProperty(typeof item + item)) {\n      return false;\n    } else {\n      obj[typeof item + item] = true;\n      return true;\n    }\n  })\n  return res;\n}\n")),(0,a.kt)("h2",{id:"8\u6241\u5e73\u5316"},"8.\u6241\u5e73\u5316"),(0,a.kt)("h3",{id:"\u7eaf\u9012\u5f52\u63a8\u8350"},"\u7eaf\u9012\u5f52\uff08\u63a8\u8350\uff09"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"let flatten = function (arr) {\n  for (let i = 0; i < arr.length; i++) {\n    const item = arr[i];\n    if (Array.isArray(item)) {\n      flatten(item);\n    } else {\n      res.push(item);\n    }\n  }\n  return res;\n}\n")),(0,a.kt)("h3",{id:"reduce\u9012\u5f52\u63a8\u8350"},"reduce+\u9012\u5f52\uff08\u63a8\u8350\uff09"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function flatten(arr) {\n  return arr.reduce((res, item) => {\n    return res.concat(Array.isArray(item) ? flatten(item) : item)\n  }, []);\n}\n")),(0,a.kt)("h2",{id:"9promise\u5c01\u88c5ajax"},"9.Promise\u5c01\u88c5ajax"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u7528Promise\u5c01\u88c5ajax\nfunction ajax(url, method = \"GET\", params = {}, data = {}) {\n  return new Promise((resolve, reject) => {\n    method = method.toUpperCase();\n    let querystring = '';\n    Object.keys(params).forEach(key => {\n      querystring += `${key}=${params[key]}&`\n    })\n    if (querystring) {\n      // \u53bb\u9664\u6700\u540e\u7684&\n      querystring = querystring.substring(0, querystring.length - 1);\n      // \u63a5\u5230url\u4e0a\n      url = url + '?' + querystring;\n    }\n    // \u6267\u884cajax\u8bf7\u6c42\n    const xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method === 'GET') {\n      xhr.send();\n    } else if (method === 'POST' || method === 'PUT' || method === 'DELETE') {\n      // \u8bbe\u7f6e\u8bf7\u6c42\u6570\u636e\u683c\u5f0f\u4e3ajson\u683c\u5f0f\n      xhr.setRequestHeader('Content-Type', 'application/json;charset=utf-8');\n      // \u53d1\u9001json\u683c\u5f0f\u8bf7\u6c42\u4f53\u53c2\u6570\n      xhr.send(JSON.stringify(data));\n    }\n    // \u7ed1\u5b9a\u72b6\u6001\u6539\u53d8\u7684\u76d1\u542c\n    xhr.onreadystatechange = function () {\n      // \u670d\u52a1\u5668\u54cd\u5e94\u5b8c\u6210\uff0c\u53ef\u4ee5\u83b7\u53d6\u4f7f\u7528\u670d\u52a1\u5668\u7684\u54cd\u5e94\u4e86\n      if (xhr.readyState !== 4) {\n        return;\n      }\n      // \u54cd\u5e94\u7801\u4e3a2**\u4ee3\u8868\u6210\u529f\n      const { status, statusText } = xhr;\n      if (status >= 200 && status <= 299) {\n        const response = {\n          data: JSON.parse(xhr.response),\n          status,\n          statusText\n        }\n        resolve(response);\n      } else {\n        // \u8bf7\u6c42\u5931\u8d25\u4e86\u8c03\u7528reject()\n        reject(new Error('request error status is ' + status))\n      }\n    }\n  });\n}\n\najax.get = function (url, options) {\n  return ajax(Object.assign(options, { url, method: 'GET' }));\n}\najax.post = function (url, data, options) {\n  return ajax(Object.assign(options, { url, data, method: 'POST' }))\n}\najax.put = function (url, data, options) {\n  return ajax(Object.assign(options, { url, data, method: 'PUT' }))\n}\najax.delete = function (url, options) {\n  return ajax(Object.assign(options, { url, method: 'DELETE' }))\n}\n")),(0,a.kt)("h2",{id:"10\u5782\u76f4\u5c45\u4e2d\u5e76\u7ed8\u5236\u65cb\u8f6c\u52a8\u753b"},"10.\u5782\u76f4\u5c45\u4e2d\uff0c\u5e76\u7ed8\u5236\u65cb\u8f6c\u52a8\u753b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<style>\n  #container {\n    width: 300px;\n    height: 300px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border: 1px solid red;\n  }\n\n  .box {\n    height: 100px;\n    width: 100px;\n    background-color: red;\n    animation: myChange 2s linear infinite;\n  }\n\n  @keyframes myChange {\n    0% {\n      transform: rotate(0deg);\n    }\n\n    25% {\n      transform: rotate(90deg);\n    }\n\n    50% {\n      transform: rotate(180deg);\n    }\n\n    75% {\n      transform: rotate(270deg);\n    }\n\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n</style>\n<div id="container">\n  <div class="box"></div>\n</div>\n')),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(9820).Z,width:"481",height:"481"})),(0,a.kt)("h2",{id:"12url\u5904\u7406"},"12.URL\u5904\u7406"),(0,a.kt)("h3",{id:"\u4eceurl\u4e2d\u5c06\u53c2\u6570\u89e3\u6790\u4e3a\u5bf9\u8c61"},"\u4eceURL\u4e2d\u5c06\u53c2\u6570\u89e3\u6790\u4e3a\u5bf9\u8c61"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const parseParam = (url) => {\n  const parseStr = url.split(/\\?|\\#/)[1];\n  const parseArr = parseStr.split('&');\n  const paramsObj = {};\n  for (const param of parseArr) {\n    // \u6709\u7279\u6b8a\u60c5\u51b5\uff0c\u6ca1\u6709\u7b49\u53f7\u7684\u9ed8\u8ba4\u4e3aboolean\n    if (/=/.test(param)) {\n      let [key, val] = param.split('=');\n      // \u89e3\u7801\n      val = decodeURIComponent(val);\n      // \u5982\u679c\u662f\u6570\u5b57\u5219\u89e3\u6790\u6210number\u7c7b\u578b\n      val = /^\\d+$/.test(val) ? parseFloat(val) : val;\n      // \u5982\u679c\u6709key\u503c\uff0c\u5219\u4ee5\u6570\u7ec4\u5f62\u5f0f\u5c55\u793a\n      if (paramsObj.hasOwnProperty(key)) {\n        paramsObj[key] = [].concat(paramsObj[key], val);\n      } else {\n        paramsObj[key] = val;\n      }\n    } else {\n      paramsObj[param] = true;\n    }\n  }\n  return paramsObj;\n}\n")),(0,a.kt)("p",null,"\u9664\u4e86\u624b\u52a8\u89e3\u6790\u7684\u65b9\u5f0f\u5916\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7URL\u5bf9\u8c61\u89e3\u6790"),(0,a.kt)("h3",{id:"\u5bf9\u8c61\u8f6c\u6362\u4e3aurl\u53c2\u6570"},"\u5bf9\u8c61\u8f6c\u6362\u4e3aURL\u53c2\u6570"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const paramsToUrl = (obj) => {\n  const params = [];\n  for (let key in obj) {\n    // \u7f16\u7801\n    const val = encodeURIComponent(obj[key]);\n    params.push(`${key}=${val}`);\n  }\n  return params.join('&');\n}\n")),(0,a.kt)("h3",{id:"\u83b7\u53d6url\u67d0\u4e2a\u53c2\u6570\u7684\u503c"},"\u83b7\u53d6URL\u67d0\u4e2a\u53c2\u6570\u7684\u503c"),(0,a.kt)("p",null,"1.\u4f7f\u7528\u89e3\u6790\u7684\u5bf9\u8c61\u7ed3\u679c\u6765\u83b7\u53d6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u8fd9\u4e2a\u8981\u7528\u5230\u4e0a\u8ff0\u7684\u89e3\u6790\u7ed3\u679c\nconst getParamFromURL = (url, key) => {\n  return parseParam(url)[key];\n}\n")),(0,a.kt)("p",null,"2.\u4f7f\u7528JS\u5185\u7f6e\u7684URL\u5bf9\u8c61\u89e3\u6790\u5f97\u5230URLSearchParams\u5bf9\u8c61\uff0c\u518d\u83b7\u53d6\u7ed3\u679c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const getParamFromURL = (url, key) => {\n  return new URL(url).searchParams.get(key);\n}\n")),(0,a.kt)("h3",{id:"\u4fee\u6539url\u67d0\u4e2a\u53c2\u6570\u7684\u503c"},"\u4fee\u6539URL\u67d0\u4e2a\u53c2\u6570\u7684\u503c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const replaceParamVal = (oUrl, paramName, replaceWith) => {\n  const rgx = new RegExp(paramName + '=([^&]*)', 'gi');\n  return oUrl.replace(rgx, paramName + '=' + replaceWith);\n}\n")),(0,a.kt)("h2",{id:"13\u77ed\u6a2a\u7ebf\u548c\u9a7c\u5cf0\u4e92\u8f6c\u6362"},"13.\u77ed\u6a2a\u7ebf\u548c\u9a7c\u5cf0\u4e92\u8f6c\u6362"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u9a7c\u5cf0\u8f6c\u77ed\u6a2a\u7ebf\nconst getKebabCase = (str) => {\n  return str.replace(/[A-Z]/g, (item) => '-' + item.toLowerCase())\n}\n// \u77ed\u6a2a\u7ebf\u8f6c\u9a7c\u5cf0\nconst getCamelCase = (str) => {\n  return str.replace(/-([a-z])/g, (i, item) => item.toUpperCase())\n}\n")),(0,a.kt)("h2",{id:"14\u67ef\u91cc\u5316add\u51fd\u6570"},"14.\u67ef\u91cc\u5316add\u51fd\u6570"),(0,a.kt)("p",null,"\u67ef\u91cc\u5316\u7684\u5b9a\u4e49\uff1a\u63a5\u6536\u4e00\u90e8\u5206\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\u63a5\u6536\u5269\u4f59\u53c2\u6570\uff0c\u63a5\u6536\u8db3\u591f\u53c2\u6570\u540e\uff0c\u6267\u884c\u539f\u51fd\u6570\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const curry = (fn, args = []) => {\n  // \u4f20\u5165\u7684\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u7684\u4e2a\u6570\n  const length = fn.length;\n  return function () {\n    // arguments\u662f\u5f53\u524d\u56de\u8c03\u51fd\u6570fn\u7684\u53c2\u6570\n    const newArgs = args.concat([...arguments]);\n    if (newArgs.length < length) {\n      return curry.call(this, fn, newArgs);\n    } else {\n      return fn.apply(this, newArgs);\n    }\n  }\n}\n")),(0,a.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const addFn = (a, b, c, d, e) => {\n  return a + b + c + d + e;\n}\n// \u67ef\u91cc\u5316\u540e\u7684\u51fd\u6570\nlet curryTest = curry(addFn, [10])\nconsole.log(curryTest(1, 2)(3, 4));     // 20\n")),(0,a.kt)("h2",{id:"15\u7ec4\u5408\u7ee7\u627f"},"15.\u7ec4\u5408\u7ee7\u627f"),(0,a.kt)("p",null,"\u7ec4\u5408\u7ee7\u627f\uff1a\u539f\u578b\u94fe\u7ee7\u627f\u3010\u65b9\u6cd5\u7ee7\u627f\u3011+call\u8c03\u7528\u3010\u5c5e\u6027\u7ee7\u627f\u3011"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'function SuperType(name) {\n  this.name = name;\n  this.colors = ["red", "blue", "green"];\n}\nSuperType.prototype.sayName = function () {\n  console.log(this.name);\n}\nfunction SubType(name, age) {\n  SuperType.call(this, name);   // \u7ee7\u627f\u5c5e\u6027\n  this.age = age;\n}\nSubType.prototype.sayAge = function () {\n  console.log(this.age);\n}\n// \u7ee7\u627f\u65b9\u6cd5\nSubType.prototype = Object.create(SuperType.prototype);\nSubType.prototype.constructor = SubType;\n')),(0,a.kt)("p",null,"\u6d4b\u8bd5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"/*****************Test**********************/\nvar instance = new SubType(\"EvanChen\", 18);\ninstance.colors.push(\"black\");\nconsole.log(instance);\ninstance.sayName();\n/*\nSubType {\n  name: 'EvanChen',\n  colors: [ 'red', 'blue', 'green', 'black' ],\n  age: 18\n}\nEvanChen\n*/\n")),(0,a.kt)("h2",{id:"16isequal\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u76f8\u540c"},"16.isEqual\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u76f8\u540c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const isObject = (obj) => {\n  return obj !== null && typeof obj === 'object'\n}\nconst isEqual = (obj1, obj2) => {\n  if (!isObject(obj1) || !isObject(obj2)) {\n    return obj1 === obj2;\n  }\n  // \u540c\u4e00\u4e2a\u53d8\u91cf\u60c5\u51b5\n  if (obj1 === obj2) {\n    return true;\n  }\n  const obj1Keys = Object.keys(obj1);\n  const obj2Keys = Object.keys(obj2);\n  // \u957f\u5ea6\u4e0d\u80fd\u80af\u5b9a\u4e0d\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\n  if (obj1Keys.length !== obj2Keys.length) {\n    return false;\n  }\n  // \u9012\u5f52\u904d\u5386\n  for (const key in obj1) {\n    if (!isEqual(obj1[key], obj2[key])) {\n      return false;\n    }\n  }\n  return true;\n}\n")),(0,a.kt)("h2",{id:"17settimeout\u5b9e\u73b0setinterval"},"17.setTimeout\u5b9e\u73b0setInterval"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"let i = 0;\nsetTimeout(function run() {\n  i++;\n  console.log(i);\n  setTimeout(run, 1000);\n}, 1000);\n")),(0,a.kt)("h2",{id:"18\u8ba1\u7b97\u51fd\u6570\u7684\u6267\u884c\u65f6\u95f4"},"18.\u8ba1\u7b97\u51fd\u6570\u7684\u6267\u884c\u65f6\u95f4"),(0,a.kt)("h2",{id:"19\u5bf9\u8c61\u64cd\u4f5c"},"19.\u5bf9\u8c61\u64cd\u4f5c"),(0,a.kt)("h3",{id:"\u4e24\u5bf9\u8c61\u5408\u5e76"},"\u4e24\u5bf9\u8c61\u5408\u5e76"),(0,a.kt)("h3",{id:"\u4e24\u5bf9\u8c61\u53d6\u4ea4\u96c6"},"\u4e24\u5bf9\u8c61\u53d6\u4ea4\u96c6"),(0,a.kt)("h3",{id:"\u5bf9\u8c61\u6241\u5e73\u5316"},"\u5bf9\u8c61\u6241\u5e73\u5316"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u539f\u6570\u636e\nconst obj = {\n    a: 1,\n    b: {\n        f: '2',\n        g: '3'\n    },\n    c: {\n        d:[1, 2, {\n            e: true\n        }]\n    }\n}\n\n// \u8f6c\u5316\u4e3a\nconst obj = {\n    a:1,\n    'b.f': '2',\n    'b.g': '3',\n    'c.d[0]': 1,\n    'c.d[1]': 2,\n    'c.d[2].e': true\n}\n")),(0,a.kt)("h2",{id:"19react-hooks\u5b9e\u73b0\u5b9a\u65f6\u5668"},"19.React Hooks\u5b9e\u73b0\u5b9a\u65f6\u5668"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"export default function App() {\n  const [seconds, setSeconds] = useState(0);\n  useEffect(() => {\n    const timer = setInterval(() => setSeconds((t) => t + 1), 1000);\n    return () => clearInterval(timer);\n  }, []);\n  return <span>{seconds}</span>;\n}\n")),(0,a.kt)("p",null,"\u5982\u679c\u8003\u8651setInterval\u5728\u540e\u53f0\u88ab\u8282\u6d41\uff0c\u5c31\u9700\u8981\u8ba1\u7b97\u5f53\u524d\u65f6\u95f4\u4e0e\u8d77\u59cb\u65f6\u95f4\u4e4b\u5dee\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"export default function App() {\n  const [seconds, setSeconds] = useState(0);\n  useEffect(() => {\n    const start = performance.now();\n    const timer = setInterval(() => {\n      const cur = performance.now();\n      setSeconds(Math.trunc((cur - start) * 0.001));\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n  return <span>{seconds}</span>;\n}\n")))}m.isMDXComponent=!0},6363:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/Promise\u72b6\u6001\u8f6c\u6362\u81ea\u52a8\u673a-1fb6e989e66cccea022bc83f0fa0ddc1.png"},766:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/call\u548cbind-099aafe715b67c46a1bf6f724ce026e8.png"},2031:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/tasks-e4b39a713076ee00bcdf7ea32ff9b903.png"},9820:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/\u65cb\u8f6c\u6b63\u65b9\u5f62-b2b819f63a1e42ffd20ec857e344b4a9.gif"}}]);