<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-frontend-programing-skills/Vue3从入门到精通/Vue3内置组件/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">内置组件 | 筝语的博客</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://zhengyulong-cn.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://zhengyulong-cn.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://zhengyulong-cn.github.io/docs/frontend-programing-skills/Vue3从入门到精通/Vue3内置组件/"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="内置组件 | 筝语的博客"><meta data-rh="true" name="description" content="Transition"><meta data-rh="true" property="og:description" content="Transition"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://zhengyulong-cn.github.io/docs/frontend-programing-skills/Vue3从入门到精通/Vue3内置组件/"><link data-rh="true" rel="alternate" href="https://zhengyulong-cn.github.io/docs/frontend-programing-skills/Vue3从入门到精通/Vue3内置组件/" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://zhengyulong-cn.github.io/docs/frontend-programing-skills/Vue3从入门到精通/Vue3内置组件/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7dc8b376.css">
<link rel="preload" href="/assets/js/runtime~main.d33791a4.js" as="script">
<link rel="preload" href="/assets/js/main.bae5f37a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="我的网站Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="我的网站Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">筝语的博客</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/frontend-programing-skills/">前端技术</a><a class="navbar__item navbar__link" href="/docs/backend-programing-skills/">后端技术</a><a class="navbar__item navbar__link" href="/docs/interview/你问我答八股文/">面试</a><a class="navbar__item navbar__link" href="/docs/quick-links/">快捷链接</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/frontend-programing-skills/">概要</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/frontend-programing-skills/HTML和CSS/CSS布局实例/">HTML和CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/frontend-programing-skills/现代JavaScript/JavaScript编程语言-上/">现代JavaScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/frontend-programing-skills/React从入门到精通/React入门——描述UI">React从入门到精通</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/frontend-programing-skills/Vue3从入门到精通/Vue3基础/">Vue3从入门到精通</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontend-programing-skills/Vue3从入门到精通/Vue3基础/">Vue3基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontend-programing-skills/Vue3从入门到精通/Vue3组件/">Vue3组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontend-programing-skills/Vue3从入门到精通/Vue3逻辑复用/">Vue3逻辑复用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/frontend-programing-skills/Vue3从入门到精通/Vue3内置组件/">内置组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontend-programing-skills/Vue3从入门到精通/Vue3和TypeScript/">Vue3和TypeScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontend-programing-skills/Vue3从入门到精通/Vue3常用API梳理/">Vue3常用API梳理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontend-programing-skills/Vue3从入门到精通/VueRouter/">Vue Router</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/frontend-programing-skills/Node从入门到精通/Node入门——基础及配置">Node从入门到精通</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/frontend-programing-skills/Webpack5从入门到精通/Webpack5常用配置/">Webpack5从入门到精通</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/frontend-programing-skills/Linux从入门到精通/Linux入门——介绍与基础命令">Linux从入门到精通</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Vue3从入门到精通</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">内置组件</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>内置组件</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transition">Transition<a href="#transition" class="hash-link" aria-label="Transition的直接链接" title="Transition的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="触发">触发<a href="#触发" class="hash-link" aria-label="触发的直接链接" title="触发的直接链接">​</a></h3><p>触发条件：</p><ul><li>v-if切换</li><li>v-show切换</li><li><code>&lt;component&gt;</code>切换的动态组件</li></ul><p>::: danger
Transition仅支单个元素或组件作为其插槽内容，如果内容是组件，这个组件必须仅有一个根元素。
:::</p><p>当Transition组件中的元素被插入或移除时，会发生如下：</p><ol><li>Vue会自动检测目标元素是否应用了CSS过渡或动画，如果是，则一些CSS过渡class在适当时机添加或移除。</li><li>如果有作为监听器的JavaScript钩子，钩子会在适当时期调用。</li><li>如果没有过渡和钩子，那么相关DOM操作将在浏览器下一个动画帧后执行。</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="基于css的过渡效果">基于CSS的过渡效果<a href="#基于css的过渡效果" class="hash-link" aria-label="基于CSS的过渡效果的直接链接" title="基于CSS的过渡效果的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="动态效果解析">动态效果解析<a href="#动态效果解析" class="hash-link" aria-label="动态效果解析的直接链接" title="动态效果解析的直接链接">​</a></h4><p>整个插入动画是这样的：</p><ol><li>在元素插入前添加类名<code>v-enter-from</code>、<code>v-enter-active</code></li><li>元素插入完成，浏览器进入下一动画帧，移除<code>v-enter-from</code>，添加<code>v-enter-to</code></li><li>应用整个进入动画阶段，动画结束后移除<code>v-enter-active</code>、<code>v-enter-to</code></li><li>最终应用类名没有<code>v-enter-*</code></li></ol><p>相关类名作用：</p><ul><li><code>v-enter-from</code>：进入动画的起始状态</li><li><code>v-enter-active</code>：进入动画的生效状态</li><li><code>v-enter-to</code>：进入动画的结束状态</li><li><code>v-leave-from</code>：离开动画的起始状态</li><li><code>v-leave-active</code>：离开动画的生效状态</li><li><code>v-leave-to</code>：离开动画的结束状态</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="过渡类名的命名">过渡类名的命名<a href="#过渡类名的命名" class="hash-link" aria-label="过渡类名的命名的直接链接" title="过渡类名的命名的直接链接">​</a></h4><p>过渡效果是可以通过name命名的，相应的类名前缀也要修改：</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { ref } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const show = ref(true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;show = !show&quot;&gt;Toggle&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;Transition name=&quot;fade&quot; appear&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;p v-if=&quot;show&quot;&gt;hello&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/Transition&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;style&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.fade-enter-active,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.fade-leave-active {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  transition: opacity 0.5s ease;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.fade-enter-from,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.fade-leave-to {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  opacity: 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>::: tip
如果你想在某个节点初次渲染时应用一个过渡效果，你可以添加<code>appear</code>
:::</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="active状态">active状态<a href="#active状态" class="hash-link" aria-label="active状态的直接链接" title="active状态的直接链接">​</a></h4><p>active阶段可以是过渡，也可以是动画，搭配原生的CSS中transition或animation属性使用。</p><p>上面例子展示的是transition，下面给出一个animation的例子：</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { ref } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const show = ref(true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;show = !show&quot;&gt;Toggle&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;Transition name=&quot;bounce&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;p v-if=&quot;show&quot; style=&quot;margin-top: 20px; text-align: center;&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      弹性文字</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/Transition&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;style&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.bounce-enter-active {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  animation: bounce-in 0.5s;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.bounce-leave-active {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  animation: bounce-in 0.5s reverse;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@keyframes bounce-in {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  0% {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    transform: scale(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  50% {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    transform: scale(1.25);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  100% {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    transform: scale(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="自定义过渡类名">自定义过渡类名<a href="#自定义过渡类名" class="hash-link" aria-label="自定义过渡类名的直接链接" title="自定义过渡类名的直接链接">​</a></h4><p>有时候想用第三方动画库比如Animate.css，这时候就需要自定义过渡class了：</p><ul><li><code>enter-from-class</code></li><li><code>enter-active-class</code></li><li><code>enter-to-class</code></li><li><code>leave-from-class</code></li><li><code>leave-active-class</code></li><li><code>leave-to-class</code></li></ul><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- 假设你已经在页面中引入了 Animate.css --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Transition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name=&quot;custom-classes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  enter-active-class=&quot;animate__animated animate__tada&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  leave-active-class=&quot;animate__animated animate__bounceOutRight&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;p v-if=&quot;show&quot;&gt;hello&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/Transition&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="深层级过渡">深层级过渡<a href="#深层级过渡" class="hash-link" aria-label="深层级过渡的直接链接" title="深层级过渡的直接链接">​</a></h4><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { ref } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const show = ref(true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;show = !show&quot;&gt;Toggle&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;Transition duration=&quot;550&quot; name=&quot;nested&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;div v-if=&quot;show&quot; class=&quot;outer&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;div class=&quot;inner&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/Transition&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;style&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.outer, .inner {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    background: #eee;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  padding: 30px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  min-height: 100px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.inner { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  background: #ccc;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/* 外层动画效果 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.nested-enter-active, .nested-leave-active {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    transition: all 0.3s ease-in-out;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/* 添加过渡延迟，这样内外动画就有先后顺序了 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.nested-leave-active {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  transition-delay: 0.25s;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.nested-enter-from,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.nested-leave-to {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform: translateY(30px);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  opacity: 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/* 内层动画效果 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.nested-enter-active .inner,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.nested-leave-active .inner { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  transition: all 0.3s ease-in-out;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.nested-enter-active .inner {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    transition-delay: 0.25s;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.nested-enter-from .inner,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.nested-leave-to .inner {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform: translateX(30px);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  opacity: 0.001;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>默认情况下，Transition组件是监听根元素的第一个transitioned或animationed事件来自动判断过渡何时结束的，而在嵌套过渡中，期望等等内部元素过渡完成。因此，可以向Transaction组件传入duration来显示指定过渡持续时间（ms）</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="钩子">钩子<a href="#钩子" class="hash-link" aria-label="钩子的直接链接" title="钩子的直接链接">​</a></h3><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Transition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :css=&quot;false&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @before-enter=&quot;onBeforeEnter&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @enter=&quot;onEnter&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @after-enter=&quot;onAfterEnter&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @enter-cancelled=&quot;onEnterCancelled&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @before-leave=&quot;onBeforeLeave&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @leave=&quot;onLeave&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @after-leave=&quot;onAfterLeave&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @leave-cancelled=&quot;onLeaveCancelled&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;!-- ... --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/Transition&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>钩子函数：</p><ul><li><code>onBeforeEnter(el)</code>：在元素插入到DOM前调用，用来设置enter-from状态。</li><li><code>onEnter(el, done)</code>：元素插入到DOM后下一帧调用，用来开始进入动画，调用回调函数done表示过渡结束。</li><li><code>onAfterEnter(el)</code>：过渡完成时调用。</li><li><code>onEnterCancelled(el)</code>：过渡完成时调用。</li><li><code>onBeforeLeave(el)</code>：在leave钩子前调用。</li><li><code>onLeave(el, done)</code>：在离开过渡开始时调用，用来开始离开动画，调用回调函数done表示回调结束。</li><li><code>onAfterLeave(el)</code>：在离开过渡完成且元素从DOM中移除时调用。</li><li><code>onLeaveCancelled(el)</code>：仅在v-show过渡中调用。</li></ul><p>::: tip
在使用仅由JavaScript执行的动画时，最好添加:css=&quot;false&quot;来显示跳过对CSS过渡的自动探测，性能更好。
:::</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="过渡模式">过渡模式<a href="#过渡模式" class="hash-link" aria-label="过渡模式的直接链接" title="过渡模式的直接链接">​</a></h3><p>有时候想要先执行离开动画，然后在其完成之后再执行进入动画，这时候可以通过修改mode属性来实现这一行为。</p><p>mode：</p><ul><li><code>in-out</code>：先入后出</li><li><code>out-in</code>：先出后入</li></ul><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Transition mode=&quot;out-in&quot;&gt;...&lt;/Transition&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="组件间过渡">组件间过渡<a href="#组件间过渡" class="hash-link" aria-label="组件间过渡的直接链接" title="组件间过渡的直接链接">​</a></h3><p>除了v-if和v-show来触发，也可用于动态组件切换：</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Transition name=&quot;fade&quot; mode=&quot;out-in&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;component :is=&quot;activeComponent&quot;&gt;&lt;/component&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/Transition&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transitiongroup">TransitionGroup<a href="#transitiongroup" class="hash-link" aria-label="TransitionGroup的直接链接" title="TransitionGroup的直接链接">​</a></h2><p>用于对v-for列表中元素或组件的插入、移除、顺序改变添加动画效果。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="对比transition">对比Transition<a href="#对比transition" class="hash-link" aria-label="对比Transition的直接链接" title="对比Transition的直接链接">​</a></h3><p>大体上和Transition是基本相同的props、CSS过渡class和JavaScript钩子监听器，但也有一些区别：</p><ul><li>默认不会渲染一个容器元素，需要传入tag来指定一个元素作为容器元素来渲染。</li><li>过渡模式不可用，因为元素之间不是互斥的。</li><li>列表每个元素都必须有key。</li><li>过渡class会应用在列表元素上，而不是容器元素上。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="动画示例">动画示例<a href="#动画示例" class="hash-link" aria-label="动画示例的直接链接" title="动画示例的直接链接">​</a></h3><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { shuffle as _shuffle } from &#x27;lodash-es&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { ref } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const getInitialItems = () =&gt; [1, 2, 3, 4, 5]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const items = ref(getInitialItems())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let id = items.value.length + 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function insert() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const i = Math.round(Math.random() * items.value.length)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  items.value.splice(i, 0, id++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function reset() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  items.value = getInitialItems()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function shuffle() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  items.value = _shuffle(items.value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function remove(item) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const i = items.value.indexOf(item)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (i &gt; -1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    items.value.splice(i, 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;insert&quot;&gt;插入到任意位置&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;reset&quot;&gt;重置&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;shuffle&quot;&gt;洗牌&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;TransitionGroup tag=&quot;ul&quot; name=&quot;fade&quot; class=&quot;container&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;div v-for=&quot;item in items&quot; class=&quot;item&quot; :key=&quot;item&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {{ item }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;button @click=&quot;remove(item)&quot;&gt;x&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/TransitionGroup&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;style&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.container {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  position: relative;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  padding: 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.item {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  height: 30px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  background-color: #f3f3f3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  border: 1px solid #666;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  box-sizing: border-box;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/* 1.声明进入和离开的状态 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.fade-enter-from,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.fade-leave-to {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  opacity: 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform: scaleY(0.01) translate(30px, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/* 2.声明过渡效果 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.fade-move,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.fade-enter-active,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.fade-leave-active {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  transition: all 0.5s cubic-bezier(0.55, 0, 0.1, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/* 3.确保离开的项目被移除出了布局流，以便正确地计算移动时的动画效果 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.fade-leave-active {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  position: absolute;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="keepalive">KeepAlive<a href="#keepalive" class="hash-link" aria-label="KeepAlive的直接链接" title="KeepAlive的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="基本使用">基本使用<a href="#基本使用" class="hash-link" aria-label="基本使用的直接链接" title="基本使用的直接链接">​</a></h3><p>作用：缓存内部组件相关实例。</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- 非活跃的组件将会被缓存！ --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;KeepAlive&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;component :is=&quot;activeComponent&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/KeepAlive&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>默认情况下是缓存内部的所有组件实例，但可用用include和exclude来定制该行为。这两个参数可用是逗号分割的字符串、正则表达式、数组：</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- 以英文逗号分隔的字符串 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;KeepAlive include=&quot;a,b&quot; :max=&quot;10&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;component :is=&quot;view&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/KeepAlive&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- 正则表达式 (需使用 `v-bind`) --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;KeepAlive :include=&quot;/a|b/&quot; :max=&quot;10&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;component :is=&quot;view&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/KeepAlive&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- 数组 (需使用 `v-bind`) --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;KeepAlive :include=&quot;[&#x27;a&#x27;, &#x27;b&#x27;]&quot; :max=&quot;10&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;component :is=&quot;view&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/KeepAlive&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>通过传入max来限制可被缓存的最大组件实例数，缓存的调度或销毁符合LRU算法。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="缓存实例的生命周期">缓存实例的生命周期<a href="#缓存实例的生命周期" class="hash-link" aria-label="缓存实例的生命周期的直接链接" title="缓存实例的生命周期的直接链接">​</a></h3><p>当组件实例从DOM上移除但被KeepAlive缓存为组件树的一部分时，它将变为不活跃状态而不是被卸载。当组件实例作为缓存树一部分插入到DOM中时，将被重新激活。</p><p>一个持续存在的组件开业通过<code>onActivated()</code>和<code>onDeactivated()</code>注册相应的两个状态的生命周期钩子：</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { onActivated, onDeactivated } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">onActivated(() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 调用时机为首次挂载</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 以及每次从缓存中被重新插入时</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">onDeactivated(() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 在从 DOM 上移除、进入缓存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 以及组件卸载时调用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>注意：</p><ul><li><code>onActivated</code>在组件挂载时也会调用，<code>onDeactivated</code>在组件卸载时也会调用。</li><li>这两个钩子不仅仅适用于<code>KeepAlive</code>缓存的根组件，也适用于后代组件。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="teleport">Teleport<a href="#teleport" class="hash-link" aria-label="Teleport的直接链接" title="Teleport的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="基本用法">基本用法<a href="#基本用法" class="hash-link" aria-label="基本用法的直接链接" title="基本用法的直接链接">​</a></h3><p>将一个组件内部的一部分模板“传送”到该组件的 DOM 结构外层的位置去。</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;open = true&quot;&gt;Open Modal&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;Teleport to=&quot;body&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;div v-if=&quot;open&quot; class=&quot;modal&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;p&gt;Hello from the modal!&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;button @click=&quot;open = false&quot;&gt;Close&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/Teleport&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>&lt;Teleport&gt;</code>接收一个<code>to</code>来指定传送的目标。<code>to</code>的值可以是一个CSS选择器字符串，也可以是一个DOM元素对象。这段代码的作用就是告诉Vue把以下模板片段传送到<code>body</code>标签下。</p><p><code>&lt;Teleport&gt;</code>只改变了渲染的DOM结构，它不会影响组件间的逻辑关系。包裹的组件虽然在渲染时候会跑到其它位置，但它们还是保持逻辑上的父子关系，传入的props和触发的事件也会照常工作。</p><p>在某些场景下需要禁用Teleport，可用对其传入disabled来处理：</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Teleport :disabled=&quot;isMobile&quot;&gt;...&lt;/Teleport&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="多个teleport共享目标">多个Teleport共享目标<a href="#多个teleport共享目标" class="hash-link" aria-label="多个Teleport共享目标的直接链接" title="多个Teleport共享目标的直接链接">​</a></h3><p>多个Teleport组件可用将其内容挂载到同一个目标元素上，顺序就是依次叠加。</p><p>比如例子：</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Teleport to=&quot;#modals&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div&gt;A&lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/Teleport&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Teleport to=&quot;#modals&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div&gt;B&lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/Teleport&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>渲染结果：</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">modals</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">A</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">B</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="suspense">Suspense<a href="#suspense" class="hash-link" aria-label="Suspense的直接链接" title="Suspense的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="基本使用-1">基本使用<a href="#基本使用-1" class="hash-link" aria-label="基本使用的直接链接" title="基本使用的直接链接">​</a></h3><p>Suspense可以等待的异步依赖有两种：</p><ul><li>带有<code>setup()</code>钩子的组件，也包含使用<code>&lt;script setup&gt;</code>时有顶层<code>await</code>表达式的组件</li><li>异步组件</li></ul><p>组合式API中的组件可以是异步的：</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> posts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      posts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果使用<code>&lt;script setup&gt;</code>，那么顶层await表达式会让该组件成为一个异步依赖：</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const res = await fetch(...)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const posts = await res.json()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {{ posts }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="加载中状态">加载中状态<a href="#加载中状态" class="hash-link" aria-label="加载中状态的直接链接" title="加载中状态的直接链接">​</a></h3><p><code>&lt;Suspense&gt;</code>组件有两个插槽：<code>#default</code>和<code>#fallback</code>，两个插槽都只允许一个直接子节点。</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;Suspense&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!-- 具有深层异步依赖的组件 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;Dashboard /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!-- 在 #fallback 插槽中显示 “正在加载中” --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;template #fallback&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Loading...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/Suspense&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/frontend-programing-skills/Vue3从入门到精通/Vue3逻辑复用/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Vue3逻辑复用</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/frontend-programing-skills/Vue3从入门到精通/Vue3和TypeScript/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Vue3和TypeScript</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#transition" class="table-of-contents__link toc-highlight">Transition</a><ul><li><a href="#触发" class="table-of-contents__link toc-highlight">触发</a></li><li><a href="#基于css的过渡效果" class="table-of-contents__link toc-highlight">基于CSS的过渡效果</a></li><li><a href="#钩子" class="table-of-contents__link toc-highlight">钩子</a></li><li><a href="#过渡模式" class="table-of-contents__link toc-highlight">过渡模式</a></li><li><a href="#组件间过渡" class="table-of-contents__link toc-highlight">组件间过渡</a></li></ul></li><li><a href="#transitiongroup" class="table-of-contents__link toc-highlight">TransitionGroup</a><ul><li><a href="#对比transition" class="table-of-contents__link toc-highlight">对比Transition</a></li><li><a href="#动画示例" class="table-of-contents__link toc-highlight">动画示例</a></li></ul></li><li><a href="#keepalive" class="table-of-contents__link toc-highlight">KeepAlive</a><ul><li><a href="#基本使用" class="table-of-contents__link toc-highlight">基本使用</a></li><li><a href="#缓存实例的生命周期" class="table-of-contents__link toc-highlight">缓存实例的生命周期</a></li></ul></li><li><a href="#teleport" class="table-of-contents__link toc-highlight">Teleport</a><ul><li><a href="#基本用法" class="table-of-contents__link toc-highlight">基本用法</a></li><li><a href="#多个teleport共享目标" class="table-of-contents__link toc-highlight">多个Teleport共享目标</a></li></ul></li><li><a href="#suspense" class="table-of-contents__link toc-highlight">Suspense</a><ul><li><a href="#基本使用-1" class="table-of-contents__link toc-highlight">基本使用</a></li><li><a href="#加载中状态" class="table-of-contents__link toc-highlight">加载中状态</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023-present zhengyu. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d33791a4.js"></script>
<script src="/assets/js/main.bae5f37a.js"></script>
</body>
</html>