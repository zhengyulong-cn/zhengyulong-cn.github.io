<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-programing-skills/现代JavaScript/滚动、距离和坐标/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">滚动、距离和坐标 | 筝语的博客</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://zhengyulong-cn.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://zhengyulong-cn.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://zhengyulong-cn.github.io/docs/programing-skills/现代JavaScript/滚动、距离和坐标/"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="滚动、距离和坐标 | 筝语的博客"><meta data-rh="true" name="description" content="滚动"><meta data-rh="true" property="og:description" content="滚动"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://zhengyulong-cn.github.io/docs/programing-skills/现代JavaScript/滚动、距离和坐标/"><link data-rh="true" rel="alternate" href="https://zhengyulong-cn.github.io/docs/programing-skills/现代JavaScript/滚动、距离和坐标/" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://zhengyulong-cn.github.io/docs/programing-skills/现代JavaScript/滚动、距离和坐标/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7dc8b376.css">
<link rel="preload" href="/assets/js/runtime~main.9743336f.js" as="script">
<link rel="preload" href="/assets/js/main.77104bc7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="我的网站Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="我的网站Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">筝语的博客</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/programing-skills/">专业技术</a><a class="navbar__item navbar__link" href="/docs/interview/你问我答八股文/">面试</a><a class="navbar__item navbar__link" href="/docs/quick-links/">快捷链接</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/programing-skills/">概要</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/programing-skills/HTML和CSS/CSS布局实例/">HTML和CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/programing-skills/现代JavaScript/JavaScript编程语言-上/">现代JavaScript</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/programing-skills/现代JavaScript/JavaScript编程语言-上/">JavaScript编程语言(上)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/programing-skills/现代JavaScript/JavaScript编程语言-下/">JavaScript编程语言(下)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/programing-skills/现代JavaScript/JavaScript浏览器/">JavaScript浏览器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/programing-skills/现代JavaScript/Promise的使用/">Promise的使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/programing-skills/现代JavaScript/fetch的使用/">fetch的使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/programing-skills/现代JavaScript/DOM的使用/">DOM的使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/programing-skills/现代JavaScript/JS和TS类的用法汇总及对比/">JS和TS类的用法汇总及对比</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/programing-skills/现代JavaScript/浏览器事件使用汇总/">浏览器事件使用汇总</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/programing-skills/现代JavaScript/滚动、距离和坐标/">滚动、距离和坐标</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/programing-skills/现代JavaScript/正则表达式入门/">正则表达式入门</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/programing-skills/React从入门到精通/React入门——描述UI">React从入门到精通</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/programing-skills/Vue3从入门到精通/Vue3基础/">Vue3从入门到精通</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/programing-skills/Node从入门到精通/Node入门——基础及配置">Node从入门到精通</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/programing-skills/Webpack5从入门到精通/Webpack5常用配置/">Webpack5从入门到精通</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/programing-skills/Linux从入门到精通/Linux入门——介绍与基础命令">Linux从入门到精通</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">现代JavaScript</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">滚动、距离和坐标</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>滚动、距离和坐标</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="滚动">滚动<a href="#滚动" class="hash-link" aria-label="滚动的直接链接" title="滚动的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="滚动条出现的条件">滚动条出现的条件<a href="#滚动条出现的条件" class="hash-link" aria-label="滚动条出现的条件的直接链接" title="滚动条出现的条件的直接链接">​</a></h3><p>垂直方向：</p><ul><li>内容尺寸超出了容器尺寸的额限制</li><li>设置<code>overflow-y: auto</code>或<code>overflow-y: scroll</code>相关属性</li></ul><p>水平方向：</p><ul><li>内容尺寸超出了容器尺寸的额限制</li><li>设置<code>overflow-x: auto</code>或<code>overflow-x: scroll</code>相关属性</li><li>不折行<ul><li>容器不允许折行<code>whitespace-nowrap</code></li><li>容器元素为行内元素（inline、inline-block）</li></ul></li></ul><blockquote><p>html、textarea等元素自带<code>overflow: auto</code>功能</p></blockquote><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;!-- 顶部和底部固定，中间可以任意方向滚动 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;bg-white h-96 flex flex-col p-4&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;header class=&quot;bg-red-400 h-20 flex-0&quot;&gt;Header&lt;/header&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!-- overflow针对的是滚动容器 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;div class=&quot;flex-1 overflow-auto flex flex-col&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;div v-for=&quot;n of 15&quot; :key=&quot;n&quot; class=&quot;whitespace-nowrap&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;div v-for=&quot;m of 20&quot; :key=&quot;m&quot; class=&quot;inline-block&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {{ `(${n}, ${m})` }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;footer class=&quot;bg-yellow-300 h-8&quot;&gt;Footer&lt;/footer&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/滚动示例-d17d6ef43dad97b0c4af6c6d1aeacb55.png" width="1227" height="450" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="滚动事件">滚动事件<a href="#滚动事件" class="hash-link" aria-label="滚动事件的直接链接" title="滚动事件的直接链接">​</a></h3><blockquote><p>先看坐标部分</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="坐标和距离">坐标和距离<a href="#坐标和距离" class="hash-link" aria-label="坐标和距离的直接链接" title="坐标和距离的直接链接">​</a></h2><p>事件：</p><ul><li>clientX、clientY</li><li>layerX、layerY</li><li>movementX、movementY</li><li>offsetX、offsetY</li><li>pageX、pageY</li><li>screenX、screenY</li><li>tiltX、tiltY</li><li>width、height</li><li>x、y</li></ul><p>元素：</p><ul><li>clientHeight、clientLeft、clientTop、clientWidth</li><li>offsetHeight、offsetLeft、offsetTop、offsetWidth<ul><li>offsetParent</li></ul></li><li>scrollHeight、scrollLeft、scrollTop、scrollWidth</li><li>getBoundingClientRect()</li><li>style<ul><li>left、right、top、bottom</li><li>height、width</li><li>x、y</li><li>overflowX、overflowY</li><li>translate</li></ul></li></ul><p>鼠标坐标：</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="元素坐标">元素坐标<a href="#元素坐标" class="hash-link" aria-label="元素坐标的直接链接" title="元素坐标的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="实验示例">实验示例<a href="#实验示例" class="hash-link" aria-label="实验示例的直接链接" title="实验示例的直接链接">​</a></h4><p>对于如下示例：</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup lang=&quot;ts&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { reactive, ref, onMounted, onUpdated } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import type { Ref } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type ElementCoordinateAttributeInfoT = &#x27;clientLeft&#x27; | &#x27;clientTop&#x27; | &#x27;clientWidth&#x27; | &#x27;clientHeight&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | &#x27;offsetWidth&#x27; | &#x27;offsetHeight&#x27; | &#x27;offsetLeft&#x27; | &#x27;offsetTop&#x27; | &#x27;offsetParent&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | &#x27;scrollWidth&#x27; | &#x27;scrollHeight&#x27; | &#x27;scrollLeft&#x27; | &#x27;scrollTop&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const elementAttributeInfo: Array&lt;ElementCoordinateAttributeInfoT&gt; = reactive([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;clientLeft&#x27; , &#x27;clientTop&#x27; , &#x27;clientWidth&#x27; , &#x27;clientHeight&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;offsetWidth&#x27; , &#x27;offsetHeight&#x27; ,&#x27;offsetLeft&#x27; ,&#x27;offsetTop&#x27; , &#x27;offsetParent&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;scrollWidth&#x27;, &#x27;scrollHeight&#x27; , &#x27;scrollLeft&#x27; , &#x27;scrollTop&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const coordinateInfo: Ref&lt;Partial&lt;Record&lt;ElementCoordinateAttributeInfoT, number | null&gt;&gt;&gt; = ref({})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const coordinateBoxRef = ref(null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">onMounted(() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  elementAttributeInfo.forEach(e =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    coordinateInfo.value[e] = coordinateBoxRef.value &amp;&amp; coordinateBoxRef.value[e]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;div ref=&quot;coordinateBoxRef&quot; class=&quot;w-96 h-96 overflow-auto border-[24px] border-pink-400 p-8 absolute left-8 top-12&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;h2 class=&quot;font-bold text-xl&quot;&gt;Centering Matrix&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;div v-for=&quot;n of 20&quot; :key=&quot;n&quot; class=&quot;whitespace-nowrap&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;div v-for=&quot;m of 10&quot; :key=&quot;m&quot; class=&quot;inline-block w-16&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {{ `(${n}, ${m})` }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!-- 坐标结果 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;div class=&quot;absolute right-8 top-12 border-cyan-500 border-4 rounded-md w-fit h-fit p-4&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;p v-for=&quot;(value, key) of coordinateInfo&quot; :key=&quot;value&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;span class=&quot; font-bold&quot;&gt;{{ key }}&lt;/span&gt;&lt;span&gt;: {{value}}&lt;/span&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>可以得到整个滚动盒子相关CSS属性：</p><ul><li>width: 384px</li><li>height: 384px</li><li>padding: 32px</li><li>border: 24px</li><li>盒子内容<ul><li>content-width: 384-(32+24)*2=272px</li><li>content-height: 384-(32+24)*2=272px</li></ul></li><li>left: 32px</li><li>top: 48px</li><li>inline-block<ul><li>宽度: 64px</li><li>高度: 24px</li></ul></li><li>滚动条宽度: 14px</li></ul><p>::: tip
滚动条宽度在不同浏览器中是不同的，即使在同一浏览器缩放比例不同，滚动条宽度也不同。
:::</p><p>可以得到整个滚动盒子相关几何属性：</p><ul><li>clientLeft: 24px</li><li>clientTop: 24px</li><li>clientWidth: 322px</li><li>clientHeight: 322px</li><li>offsetWidth: 384px</li><li>offsetHeight: 384px</li><li>offsetLeft: 32px</li><li>offsetTop: 48px</li><li>offsetParent: &quot;<!-- -->[object HTMLBodyElement]<!-- -->&quot;</li><li>scrollWidth: 672px</li><li>scrollHeight: 572px</li><li>scrollLeft: 0</li><li>scrollTop: 0</li></ul><p>对此可以针对相关几何属性进行标注，如图所示：</p><p>为了方便计算，设定该图的左上角恰恰是浏览器视图的左上角，整体是absolute，通过left和top位置到这里的。
<img loading="lazy" src="/assets/images/标注坐标-ecc0dfd94d293e6c5cc279adc85ea18b.svg" width="657" height="652" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="offset系列">offset系列<a href="#offset系列" class="hash-link" aria-label="offset系列的直接链接" title="offset系列的直接链接">​</a></h4><p>offsetParent：目标元素最接近的祖先，在浏览器渲染期间，它被用于计算坐标。</p><p>能成为祖先可能为：</p><ol><li>position为absolute、relative、fixed或sticky的元素</li><li>table元素（不常用）</li><li>body元素</li></ol><p>在如下情况下，offsetParent的值为null：</p><ol><li>对于未显示的元素（<code>display: none</code>或不在文档中）</li><li>body和html</li><li>带有<code>position: fixed</code>的元素</li></ol><p>::: warning
offsetParent是否成为祖先和offsetParent是否为null是两回事
:::</p><p>offsetLeft/offsetTop：相对于offsetParent左上角的x/y坐标</p><p>offsetWidth/offsetHeight：元素外部的width/height，包括边框</p><p>因此可得：<code>offsetWidth = content-width + padding-left + padding-right + border-left + border-right + scroll-bar</code>，offsetHeight同理。</p><p>::: warning
<strong>对于未显示的元素，几何属性为null。</strong></p><p>如果一个元素具有<code>display: none</code>或不在文档中，则所有几何属性均为0，offsetParent为null。
:::</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="client系列">client系列<a href="#client系列" class="hash-link" aria-label="client系列的直接链接" title="client系列的直接链接">​</a></h4><p>clientLeft/clientTop：内测与外侧的相对坐标。而内外分界就是边框，因此<strong>绝大多数情况下</strong>也可以看作左边框宽度/上边框高度。</p><p>clientWidth/clientHeight：<code>offsetWidth = content-width + padding-left + padding-right</code>。注意是不包括滚动条宽度的。</p><p>如果没有padding，那么clientWidth/clientHeight代表的就是内容区域。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="scroll系列">scroll系列<a href="#scroll系列" class="hash-link" aria-label="scroll系列的直接链接" title="scroll系列的直接链接">​</a></h4><p>scrollWidth/Height：内容区域的完整内部宽高。如果没有滚动，则等于clientWidth/clientHeight。</p><p>scrollLeft/scrollTop：元素的隐藏、滚动部分的宽高，代表了已经滚动了多少。</p><p>::: warning
大多数集合属性是只读的，但是scrollLeft/scrollTop是可以修改的，并且浏览器会滚动改元素。
:::</p><p>::: danger
不要从CSS中读取width/height</p><ol><li>CSS读取的width/height可能为auto、fit-content等等，而我们需要的是一个确切的值，就是多小像素，这时候CSS宽高没啥用。</li><li>不同浏览器的使用<code>getComputedStyle(elem).width</code>时返回的宽度不同，Firefox返回CSS宽度，其他浏览器返回真实宽度。
:::</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="窗口大小">窗口大小<a href="#窗口大小" class="hash-link" aria-label="窗口大小的直接链接" title="窗口大小的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="窗口宽高">窗口宽高<a href="#窗口宽高" class="hash-link" aria-label="窗口宽高的直接链接" title="窗口宽高的直接链接">​</a></h4><ul><li><code>document.documentElement.clientWidth</code></li><li><code>document.documentElement.clientHeight</code></li></ul><p>::: danger
不是<code>window.innerWidth</code>和<code>window.innerHeight</code>。通过document获取的是不算入滚动条空间的，即<strong>用于内容的文档可见部分的宽高。</strong>
:::</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="文档宽高">文档宽高<a href="#文档宽高" class="hash-link" aria-label="文档宽高的直接链接" title="文档宽高的直接链接">​</a></h4><p>理论上讲<code>document.documentElement</code>包围所有内容，通过<code>documentElement.scroll*</code>来测量文档的完整大小。但在该元素上，如果没有滚动条，<code>documentElement.scrollHeight</code>甚至可能小于 <code>documentElement.clientHeight</code>！因此为了可靠获取完整文档高度，应该采用下面这些属性的最大值：</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> scrollHeight </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">scrollHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">documentElement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">scrollHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">offsetHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">documentElement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">offsetHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">clientHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">documentElement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">clientHeight</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="获取滚动">获取滚动<a href="#获取滚动" class="hash-link" aria-label="获取滚动的直接链接" title="获取滚动的直接链接">​</a></h4><p>大多数浏览器可以通过<code>document.documentElement.scrollLeft/scrollTop</code>获取滚动，但一些较旧的基于WebKit浏览器不行，比如Safari，应使用<code>document.body</code>。</p><p>当然，<strong>最好的方式是通过<code>window.pageYOffset</code>和<code>window.pageXOffset</code>获取</strong>，这些属性是只读的。</p><p>由于历史原因，也可以通过<code>window.scrollX </code>和<code>window.scrollY </code>获取，它们与<code>window.pageYOffset</code>和<code>window.pageXOffset</code>获取的相同。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="触发滚动">触发滚动<a href="#触发滚动" class="hash-link" aria-label="触发滚动的直接链接" title="触发滚动的直接链接">​</a></h4><ul><li>更改<code>document.documentElement.scrollTop/scrollLeft</code>来滚动常规元素</li><li>通过特殊方法<ul><li><code>window.scrollBy(x, y)</code>：滚动至相对于当前的(x, y)位置。例如，<code>scrollBy(0, 10)</code>会将页面向下滚动10px。</li><li><code>window.scrollTo(pageX, pageY)</code>：滚动至绝对坐标。例如：<code>scrollTo(0, 0)</code>会将页面滚动到最开始。</li><li><code>elem.scrollIntoView(top)</code>：滚动到使elem可见<ul><li>top为true：页面滚动，elem上边缘将与窗口顶部对齐。</li><li>top为false：页面滚动，elem底部边缘将与窗口底部对齐。</li></ul></li><li><code>document.body.style.overflow = &quot;hidden&quot;</code>：冻结页面滚动</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="事件坐标">事件坐标<a href="#事件坐标" class="hash-link" aria-label="事件坐标的直接链接" title="事件坐标的直接链接">​</a></h3></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/programing-skills/现代JavaScript/浏览器事件使用汇总/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">浏览器事件使用汇总</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/programing-skills/现代JavaScript/正则表达式入门/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">正则表达式入门</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#滚动" class="table-of-contents__link toc-highlight">滚动</a><ul><li><a href="#滚动条出现的条件" class="table-of-contents__link toc-highlight">滚动条出现的条件</a></li><li><a href="#滚动事件" class="table-of-contents__link toc-highlight">滚动事件</a></li></ul></li><li><a href="#坐标和距离" class="table-of-contents__link toc-highlight">坐标和距离</a><ul><li><a href="#元素坐标" class="table-of-contents__link toc-highlight">元素坐标</a></li><li><a href="#窗口大小" class="table-of-contents__link toc-highlight">窗口大小</a></li><li><a href="#事件坐标" class="table-of-contents__link toc-highlight">事件坐标</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023-present zhengyu. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9743336f.js"></script>
<script src="/assets/js/main.77104bc7.js"></script>
</body>
</html>