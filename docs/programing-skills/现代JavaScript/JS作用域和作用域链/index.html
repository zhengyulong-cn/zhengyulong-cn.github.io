<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-programing-skills/现代JavaScript/JS作用域和作用域链/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">作用域的种类 | 筝语的小站</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://zhengyulong-cn.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://zhengyulong-cn.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://zhengyulong-cn.github.io/docs/programing-skills/现代JavaScript/JS作用域和作用域链/"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="作用域的种类 | 筝语的小站"><meta data-rh="true" name="description" content="作用域决定了代码区块中变量和其他资源的可见性。"><meta data-rh="true" property="og:description" content="作用域决定了代码区块中变量和其他资源的可见性。"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://zhengyulong-cn.github.io/docs/programing-skills/现代JavaScript/JS作用域和作用域链/"><link data-rh="true" rel="alternate" href="https://zhengyulong-cn.github.io/docs/programing-skills/现代JavaScript/JS作用域和作用域链/" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://zhengyulong-cn.github.io/docs/programing-skills/现代JavaScript/JS作用域和作用域链/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7dc8b376.css">
<link rel="preload" href="/assets/js/runtime~main.e766d2e3.js" as="script">
<link rel="preload" href="/assets/js/main.9333e533.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="我的网站Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="我的网站Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">筝语的小站</b></a><a class="navbar__item navbar__link" href="/docs/programing-skills/">专业技术</a><a class="navbar__item navbar__link" href="/docs/interview/你问我答八股文/">面试</a><a class="navbar__item navbar__link" href="/docs/quick-links/">快捷链接</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>作用域的种类</h1><p>作用域决定了代码区块中变量和其他资源的可见性。</p><p>作用域就是一个独立的地盘，让变量不会外泄、暴露出去。也就是说<strong>作用域最大的用处就是隔离变量，不同作用域下同名变量不会有冲突。</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="全局作用域">全局作用域<a href="#全局作用域" class="hash-link" aria-label="全局作用域的直接链接" title="全局作用域的直接链接">​</a></h2><p>在代码中任何地方都能访问到的对象拥有全局作用域，一般来说以下几种情形拥有全局作用域：</p><ul><li>最外层函数和在最外层函数外面定义的变量</li><li>所有末定义直接赋值的变量</li><li>浏览器中，window对象的属性<ul><li>window.name、window.location、window.top等等。</li></ul></li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 最外层变量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> outVariable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;我是最外层变量&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 最外层函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">outFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> inVariable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;内层变量&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 内层函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">innerFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inVariable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">innerFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 末定义直接赋值的变量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Hello&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="局部作用域">局部作用域<a href="#局部作用域" class="hash-link" aria-label="局部作用域的直接链接" title="局部作用域的直接链接">​</a></h2><p>局部作用域又被称为函数作用域（Function scope），所有的变量和函数只能在作用域内部使用。</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">bar</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">baz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Global scope: foo, bar, baz, a </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Local scope: b</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>作用域是分层的，内层作用域可以访问外层作用域的变量，反之则不行</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">bar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// 2 4 12</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>全局作用域：foo</li><li>作用域foo：a,bar,b</li><li>作用域bar：c</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="块作用域">块作用域<a href="#块作用域" class="hash-link" aria-label="块作用域的直接链接" title="块作用域的直接链接">​</a></h2><p>块级作用域可通过新增命令let和const声明，所声明的变量在指定块的作用域外无法被访问。块级作用域在如下情况被创建：</p><p>1.在一个函数内部</p><p>2.在一个代码块（由一对花括号包裹）内部</p><p>这个类似于于Java中的</p><h1>Scope链原理</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="预编译">预编译<a href="#预编译" class="hash-link" aria-label="预编译的直接链接" title="预编译的直接链接">​</a></h2><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">doit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">doit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">undefined</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">3</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">2</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>为何doit()函数内的b打印为为undefined呢？这就是JS中的预编译，JS代码在首次被加载完成后进行编译时，会将所有的function和var提前进行声明，<strong>但是并不会对其进行赋值，赋值则都是在该代码块进行执行时</strong>才会对其进行赋值。【变量提升】</p><p>因此第一个b在预编译后未赋值值的情况下打印输出，得到undefined。</p><p>由于<strong>JS是通过函数来创建Scope的</strong>，所以只有doit执行时才会创建新的Scope，其Scope如图：</p><p><img loading="lazy" src="data:image/png;base64,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" width="233" height="188" class="img_ev3q"></p><p>对于global，Scope内有通过var定义的a,b和函数声明doit，首次加载完成后a,b都为undefined，而doit是一个指向堆的引用。当调用doit()函数时候，才会创建doit的Scope。</p><p>对于doit函数内部，Scope有通过var定义的b，同时还会创建一个对父级Scope的引用
运用<code>__proto__</code>的思想，变量查找时候会在自己的Scope内查找，查找不到则到它的父Scope中查找。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="scope链">Scope链<a href="#scope链" class="hash-link" aria-label="Scope链的直接链接" title="Scope链的直接链接">​</a></h2><p>每个Scope都拥有一个<strong>parent</strong>，所有即使这个function无论在什么环境中进行执行，其父Scope都是这个function创建的Scope，虽然js很乱，但是是乱得有规有矩。</p><p>当代码去查找变量时，往往都是如下图过程：</p><p><img loading="lazy" src="data:image/png;base64,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" width="328" height="415" class="img_ev3q"></p><p>优先查找自己Scope，如果查找不到则根据Scope链去查找最近的同名变量，如果一直查找到了Top Scope（在浏览器中则是window）还未找到的话，则这个变量会被认为<code>&quot;Uncaught ReferenceError: xxx is not defined&quot;</code>，如果直接使用的话则会报错。</p><h1>循环输出问题</h1><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>经典例题，上述打印出了6个6，为啥？</p><p>从Scope链分析，这里遍历了6次就定义了6个匿名function，将这个6个函数放入到任务队列中等待执行。而这6个匿名function的定义Scope都是相同的，当执行对应的一个匿名function，该function创建的Scope中并没有i这个变量，因此会去查找父级的Scope，得到<code>i = 6</code>将其打印输出。</p><p>如何破局，方法有很多，但<strong>宗旨都是改变匿名函数的创建Scope，并且该Scope又与i存在的Scope不同</strong>，这就是大家说的闭包，其实闭包就是Scope，每个函数都会创建Scope，创建闭包，下面两种写法都是改变了匿名函数的创建Scope，并在该Scope中保存了独一无二的index值。</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>闭包</h1><p>闭包：内部函数总是可以访问其所在的外部函数中声明的变量和参数，即使在其外部函数被返回（寿命终结）了之后。</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">makeCounter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> count</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> counter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">makeCounter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">counter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">counter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">counter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="闭包作用域.png" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqoAAAB6CAYAAAB3JHFsAAAE4nRFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMkVsZWN0cm9uJTIyJTIwbW9kaWZpZWQlM0QlMjIyMDIxLTA4LTAyVDAxJTNBMTQlM0ExNi44NTVaJTIyJTIwYWdlbnQlM0QlMjJNb3ppbGxhJTJGNS4wJTIwKFdpbmRvd3MlMjBOVCUyMDEwLjAlM0IlMjBXaW42NCUzQiUyMHg2NCklMjBBcHBsZVdlYktpdCUyRjUzNy4zNiUyMChLSFRNTCUyQyUyMGxpa2UlMjBHZWNrbyklMjBkcmF3LmlvJTJGMTIuNi41JTIwQ2hyb21lJTJGODAuMC4zOTg3Ljg2JTIwRWxlY3Ryb24lMkY4LjAuMCUyMFNhZmFyaSUyRjUzNy4zNiUyMiUyMGV0YWclM0QlMjI5TXNlOVR0OVBINHVyVVRyUmVrMCUyMiUyMHZlcnNpb24lM0QlMjIxMi42LjUlMjIlMjB0eXBlJTNEJTIyZGV2aWNlJTIyJTNFJTNDZGlhZ3JhbSUyMGlkJTNEJTIyZzlmbkdSNmVFLVF6aTliQjFpeW8lMjIlMjBuYW1lJTNEJTIyJUU3JUFDJUFDJTIwMSUyMCVFOSVBMSVCNSUyMiUzRTNaZmJidFF3RUlhZkpwZWduTWx0OTlBaUZaREtncUNYSnBsTlRKMU01RGliRFUlMkJQUXlZbnBlMFdxU1ZkYmxhZWYlMkJ5eCUyRlkzMTc2N2hyTlBqbFdSNThoRWpFSVp0UmtmRDJSaTJIZmllJTJGbXlFdWhVOG00Ulk4cWlWckVIWThWOUFva2xxeVNNb0poTVZvbEE4bjRvaFpobUVhcUl4S2JHYVR0dWptTzZhc3hobXdpNWtZcTUlMkI0NUZLV3RWeFRITkl2QWNlSjdTMTZ3ZTBKR1hkYkpwYUpDekNhaVE1VzhOWlMwVFZqdExqR2tRRHJ3UFRycnQ4SU51ZlRFS21ucklndU9HZnIlMkIzRDdkM041dXVYcSUyQklDcnk4JTJGdmFFcUJ5Wkt1ckZoJTJCeXpORFdjbGROVlZMUEFIYTZvVUllYlE1JTJCSW1SOWRTZFFkTFlwbEYwR3huNm5TVmNBVzduSVZOdHRLdlEydUpTb1dPTEQzY1k2YW8zNWJm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" width="682" height="122" class="img_ev3q"></p><p>在这个例子中，每次调用counter()就是在让其父作用域中的count+1，因此依次打印出0,1,2</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#全局作用域" class="table-of-contents__link toc-highlight">全局作用域</a></li><li><a href="#局部作用域" class="table-of-contents__link toc-highlight">局部作用域</a></li><li><a href="#块作用域" class="table-of-contents__link toc-highlight">块作用域</a></li><li><a href="#预编译" class="table-of-contents__link toc-highlight">预编译</a></li><li><a href="#scope链" class="table-of-contents__link toc-highlight">Scope链</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023-present zhengyu. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e766d2e3.js"></script>
<script src="/assets/js/main.9333e533.js"></script>
</body>
</html>